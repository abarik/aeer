<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>5 Az R nyelv | Adatkezelés és egyváltozós elemzések R-ben</title>
<meta name="author" content="Abari Kálmán">
<meta name="description" content="Az előző fejezetekben megismertük az R környezetet, az Alap R, az RStudio és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="5 Az R nyelv | Adatkezelés és egyváltozós elemzések R-ben">
<meta property="og:type" content="book">
<meta property="og:url" content="https://abarik.github.io/aeer/az-r-nyelv.html">
<meta property="og:image" content="https://abarik.github.io/aeer/images/cover.jpg">
<meta property="og:description" content="Az előző fejezetekben megismertük az R környezetet, az Alap R, az RStudio és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="5 Az R nyelv | Adatkezelés és egyváltozós elemzések R-ben">
<meta name="twitter:description" content="Az előző fejezetekben megismertük az R környezetet, az Alap R, az RStudio és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a...">
<meta name="twitter:image" content="https://abarik.github.io/aeer/images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68765210-2', 'auto');
      ga('send', 'pageview');

    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Adatkezelés és egyváltozós elemzések R-ben</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Üdvözöljük</a></li>
<li><a class="" href="eloszo.html">Előszó</a></li>
<li><a class="" href="itt-kezdodik.html"><span class="header-section-number">1</span> Itt kezdődik</a></li>
<li><a class="" href="mi-az-r.html"><span class="header-section-number">2</span> Mi az R?</a></li>
<li><a class="" href="az-r-telepitese.html"><span class="header-section-number">3</span> Az R telepítése</a></li>
<li><a class="" href="munka-az-r-ben.html"><span class="header-section-number">4</span> Munka az R-ben</a></li>
<li><a class="active" href="az-r-nyelv.html"><span class="header-section-number">5</span> Az R nyelv</a></li>
<li><a class="" href="beolvasas.html"><span class="header-section-number">6</span> Beolvasás</a></li>
<li><a class="" href="adatmanipulacio.html"><span class="header-section-number">7</span> Adatmanipuláció</a></li>
<li><a class="" href="mutatok-tablazatok.html"><span class="header-section-number">8</span> Mutatók és táblázatok</a></li>
<li><a class="" href="grafika-az-r-ben.html"><span class="header-section-number">9</span> Grafika az R-ben</a></li>
<li><a class="" href="irodalomjegyzek.html">Irodalomjegyzék</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/abarik/aeer">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="az-r-nyelv" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Az R nyelv<a class="anchor" aria-label="anchor" href="#az-r-nyelv"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="images/ch_05_small.png" width="70%" style="display: block; margin: auto;"></div>
<p>Az előző fejezetekben megismertük az R környezetet, az <em>Alap R</em>, az <em>RStudio</em> és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a különböző környezetekben eltérő módszerekkel hajthatjuk végre az R parancsokat: a konzolban az <code>Enter</code>, a Windows-os <em>RGui</em>-ban a <code>Ctrl+R</code>, míg az <em>RStudio</em>-ban a <code>Ctrl+Enter</code> billentyűkombinációt kell használnunk. A parancsok végrehajtása közben érdemes észben tartani, ha a folytatás prompt (<code>+</code>) feltűnik, akkor kattintsunk bele a konzolba, és nyomjuk meg az <code>Esc</code> billentyűt, így tudunk kilépni a befejezetlen sor szerkesztéséből</p>
<p>E fejezet példáinak kipróbáláshoz hozzunk létre egy <code>gyakorlas</code> nevű új projektet az <em>RStudio</em>-ban (<code>File / New Project</code>), majd készítsünk egy <code>gyakorlas.Rmd</code> RMarkdown állományt (<code>File / New File / R Markdown</code>) és egy <code>gyakorlas.R</code> parancsállományt (<code>File / New File / R Script</code>). A fejezet példáit egyaránt gépeljük az RMarkdown állomány R csonkjaiba, illetve a parancsállomány egymást követő soraiba. A fejezet további részében az R nyelvre koncentrálunk, arra, hogy mit írunk, és nem arra, hogy hová írjuk a parancsokat.</p>
<div id="adatobjektumok" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Adatobjektumok<a class="anchor" aria-label="anchor" href="#adatobjektumok"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel1">
<p>Ebben a fejezetben:</p>
<ul>
<li>áttekintjük az egyszerű számolási lehetőségeket R-ben,</li>
<li>bevezetjük az aritmetikai operátor és a kifejezés fogalmát,</li>
<li>megismerjük az objektum létrehozását és elnevezését,</li>
<li>több parancs elhelyezését egy sorban,</li>
<li>és a megjegyzések használatát.</li>
</ul>
</div>
<p>Az R nyelv megismerését számadatok írásával kezdjük. Az adatelemzés során a számszerű adatok kezelése a leggyakoribb, hiszen méréssel és számlálással is ilyen jellegű adatokhoz jutunk. Számszerű adat a testmagasságunk cm-ben kifejezve, az IQ-teszten elért pontszámunk, vagy a testvéreink és a Facebook ismerőseink száma is.</p>
<div id="számolás-az-r-ben" class="section level3" number="5.1.1">
<h3>
<span class="header-section-number">5.1.1</span> Számolás az R-ben<a class="anchor" aria-label="anchor" href="#sz%C3%A1mol%C3%A1s-az-r-ben"><i class="fas fa-link"></i></a>
</h3>
<p>Kezdjük a számszerű adatok megismerését egy egyszerű sor begépelésével.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span><span class="op">+</span><span class="fl">2</span> </span>
<span><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>Végrehajtás után a konzolban láthatjuk az összeadás eredményét, a 4-et. Az eredmény előtt egy szögletes zárójelben lévő sorszámot is láthatunk (<code>[1]</code>), amely bonyolultabb outputokban segít eligazodni. Később az <a href="az-r-nyelv.html#szabalyosvektorokalfejezet">5.3.3.2</a>. fejezetben visszatérünk a <code>[1]</code> értelmezésére.</p>
<p>Látjuk, ebben az esetben az R úgy viselkedik, mint egy számológép. Kiszámolja a parancssorba gépelt algebrai kifejezés értékét, majd a képernyőn megjeleníti. Természetesen az összeadáson túl más műveletet is használhatunk.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">4</span><span class="op">+</span><span class="fl">6</span><span class="op">*</span><span class="fl">2</span></span>
<span><span class="co">#&gt; [1] 16</span></span></code></pre></div>
<p>A fenti példából látható, hogy az R követi a műveletek elvégzésének matematikában megszokott sorrendjét. Azaz a szorzás műveletre (<code>*</code>) hamarabb sor kerül, ennek eredménye 12. Ezt követi az összeadás (<code>+</code>), most már a 4 és a 12 között. Ennek az összeadás műveletnek az eredménye 16, ami egyben a kifejezés értéke is, tehát ez jelenik meg a konzolban.</p>
<p>Természetesen a matematikában megszokott módon változtathatunk a műveletek végrehajtásának alapértelmezett sorrendjén, azaz használhatunk kerek zárójeleket. Ezeket az R a megszokott módon értelmezi: a zárójelben szereplő műveletek végrehajtását előreveszi.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="fl">4</span><span class="op">+</span><span class="fl">6</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span></span>
<span><span class="co">#&gt; [1] 20</span></span></code></pre></div>
<p>A fenti példában az összeadás művelet lesz az első, amelynek az eredménye 10. Ezt követi a szorzás, így kapjuk a kifejezés értékeként a 20-at.</p>
<p>Ezeket a matematikában megszokott algebrai kifejezéseket, az R-ben egyszerűen kifejezésnek vagy – utalva arra, hogy a kifejezés értéke szám – <em>aritmetikai kifejezésnek</em> nevezünk. Az eddigiek alapján az aritmetikai kifejezések tehát a következő nyelvi elemeket tartalmazhatják:</p>
<ul>
<li>számok, amelyeket <em>numerikus konstans</em>oknak nevezünk,</li>
<li>műveleti jelek, amelyeket <em>aritmetikai operátor</em>oknak nevezünk,</li>
<li>és kerek zárójelek.</li>
</ul>
<p>A fentiek alapján összetettebb aritmetikai kifejezéseket is megformálhatunk. Az R minden esetben kiszámolja a kifejezések értékét – azaz <em>kiértékeli</em> a kifejezést –, és a kapott értéket megjeleníti a konzolban.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">4</span><span class="op">^</span><span class="fl">2</span><span class="op">-</span><span class="fl">3</span><span class="op">*</span><span class="fl">2</span><span class="op">+</span><span class="fl">1</span></span>
<span><span class="co">#&gt; [1] 11</span></span>
<span><span class="op">(</span><span class="fl">104</span><span class="op">-</span><span class="fl">20</span><span class="op">)</span><span class="op">/</span><span class="fl">6</span><span class="op">-</span><span class="fl">4</span><span class="op">*</span><span class="fl">7</span><span class="op">*</span><span class="fl">10</span><span class="op">/</span><span class="op">(</span><span class="fl">5</span><span class="op">**</span><span class="fl">2</span><span class="op">-</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:matoperatorok">TÁBLÁZAT 5.1: </span>Matematikai operátorok precedenciájuk csökkenő sorrendjében
</caption>
<thead><tr>
<th style="text-align:left;">
Operátor
</th>
<th style="text-align:left;">
Művelet
</th>
<th style="text-align:left;">
Példa
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">^ **</span>
</td>
<td style="text-align:left;">
hatványozás
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">2^3;2**3</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">+ - </span>
</td>
<td style="text-align:left;">
előjelek
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">+3.3;-.5</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">%% %/%</span>
</td>
<td style="text-align:left;">
maradékos osztás és egész osztás
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">13%%4;15%/%4</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">* /</span>
</td>
<td style="text-align:left;">
szorzás és osztás
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">2*3;4/2</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">+ - </span>
</td>
<td style="text-align:left;">
összeadás és kivonás
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">2+3;2-3</span>
</td>
</tr>
</tbody>
</table></div>
<p>Az aritmetikai kifejezések használata során ne felejtkezzünk el a műveletek alapértelmezett végrehajtási sorrendjéről. A műveletek megjelenítését most az operátorok végzik, melyeknek fontos tulajdonsága, hogy mennyire szorosan kötik magukhoz az adatokat (vagy más néven az operandusokat). Az operátorok ezen fonos tulajdonságát <em>precedenciának</em> nevezzük. Az R-ben használható aritmetikai operátorokat a precedenciájuk csökkenő sorrendjében az <a href="az-r-nyelv.html#tab:matoperatorok">5.1</a>. táblázat tartalmazza.</p>
<p>Például a hatványozás és az előjel operátor precedenciája eltér egymástól, a hatványozás nagyobb precedenciájú, azaz szorosabban köti magához az adatokat, így végrehajtása megelőzi az előjel operátort. Ha nem vagyunk elég óvatosak, és plusz zárójelek segítségével nem biztosítjuk a kívánt végrehajtási sorrendet, akkor “váratlan” eredményhez juthatunk. A lenti példában láthatjuk, hogy zárójelek nélkül a nagyobb precedenciájú hatványozás az elsőként végrehajtott művelet.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">-</span><span class="fl">2</span><span class="op">^</span><span class="fl">2</span>    <span class="co"># először hatványozás, majd előjel</span></span>
<span><span class="co">#&gt; [1] -4</span></span>
<span><span class="op">(</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span>  <span class="co"># először előjel, majd hatványozás</span></span>
<span><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>Eddig láthattuk, hogy kifejezéseinket operátorok, numerikus konstansok és zárójelek segítségével építettük fel. Ezek a kifejezések két alkotójukban is általánosíthatók:</p>
<ul>
<li>általánosítható a kifejezés adat része, amelyet eddig a numerikus konstansok képviseltek (ezekből lesznek az <em>objektum</em>ok),</li>
<li>általánosíthatő a kifejezés művelet része, amelyet eddig az operátorok jelenítettek meg (ezek lesznek a <em>függvény</em>ek).</li>
</ul>
<p>Az adatrész általánosítása tehát az adatobjektum (vagy röviden objektum), a műveleteké pedig a függvényobjektum (vagy röviden függvény). Ezeket tekintjük át a következőkben.</p>
</div>
<div id="objektumok" class="section level3" number="5.1.2">
<h3>
<span class="header-section-number">5.1.2</span> Objektumok<a class="anchor" aria-label="anchor" href="#objektumok"><i class="fas fa-link"></i></a>
</h3>
<p>Ha egy kifejezés értéket nem egyszerűen a képernyőn szeretnénk megjeleníteni, hanem azt később is fel szeretnénk használni, akkor objektumot<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Más programozási nyelvekben az “objektum” helyett a “változó” elnevezést használják, de a változó fogalma már foglalt a statisztikában, így szerencsésebb a memóriában tárolt adatokra objektumként hivatkozni.&lt;/p&gt;"><sup>4</sup></a> kell létrehoznunk. Az objektumok révén a memóriába rögzíthetünk tetszőleges értékeket, később pedig elővehetjük és felhasználhatjuk ezeket az értékeket.
Tudjuk, ha a lenti aritmetikai kifejezést a parancssorba írjuk, az R miután kiértékelte a kifejezést, a kifejezés értékét megjeleníti a konzolban. Ez az érték azonban a megjelenítés után rögtön el is vész, többször nem használhatjuk fel.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1157</span><span class="op">/</span><span class="fl">13</span><span class="op">+</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span> </span>
<span><span class="co">#&gt; [1] 97</span></span></code></pre></div>
<p>Ha létrehozunk egy <code>x</code> nevű objektumot, akkor ezt az értéket további kifejezésekben is szerepeltethetjük. Minden olyan helyen, ahol eddig számok jelentek meg a kifejezésekben, oda ez az <code>x</code> objektumnév is beírható.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1157</span><span class="op">/</span><span class="fl">13</span><span class="op">+</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span> </span></code></pre></div>
<p>A fenti sor végrehajtása után írhatjuk a következőket, hiszen a kifejezések kiértékelése során az <code>x</code> objektum memóriában tárolt értékével fog számolni az R.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">+</span><span class="fl">2</span>       <span class="co"># mintha 97+2 lenne</span></span>
<span><span class="co">#&gt; [1] 99</span></span>
<span><span class="fl">2</span><span class="op">*</span><span class="va">x</span><span class="op">^</span><span class="fl">3</span><span class="op">+</span><span class="fl">5</span>   <span class="co"># 2*97^3+5</span></span>
<span><span class="co">#&gt; [1] 1825351</span></span></code></pre></div>
<p>Minden objektumnak van neve és tartozik hozzá a memóriában egy terület, ahol a kérdéses érték tárolásra kerül. Esetünkben az objektum neve <code>x</code>, a hozzá tartozó memóriaterületen pedig a 97 értéket tárolja az R. Az objektum leegyszerűsítve tehát egy név-érték pár, ahol a nevet és a memóriában eltárolandó értéket is mi magunk választjuk meg.</p>
<p>Az objektumok kezeléséhez 3 művelet kapcsolódik:</p>
<ul>
<li>objektum létrehozása,</li>
<li>objektum értékének lekérdezése,</li>
<li>és az objektum értékének megváltoztatása.</li>
</ul>
<div id="objektumok-létrehozása" class="section level4" number="5.1.2.1">
<h4>
<span class="header-section-number">5.1.2.1</span> Objektumok létrehozása<a class="anchor" aria-label="anchor" href="#objektumok-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Objektumot értékadással hozhatunk létre. Az értékadás tartalmaz egy értékadás operátort, melynek alakja <code>&lt;-</code> (balra nyíl), vagyis egy kisebb jel és egy mínusz előjel egymás után írva szóköz nélkül<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;További értékadás operátorok a &lt;code&gt;-&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;&amp;lt;-&lt;/code&gt;, &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; és a &lt;code&gt;=&lt;/code&gt;. Ezeket nem használjuk ebben a könyvben.&lt;/p&gt;"><sup>5</sup></a>.</p>
<p>Az értékadás általános alakja:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb54-1"><a href="az-r-nyelv.html#cb54-1" aria-hidden="true" tabindex="-1"></a>objektumnév &lt;- kifejezés    # értékadó utasítás</span></code></pre></div>
<p>Ahol lehet a továbbiakban ezt a balra nyíl alakú értékadó operátort használjuk az értékadás során, és nem a szintén legális egyenlőségjelet (<code>=</code>). A balra nyíl írását az <em>RStudio</em> az <code>Alt+-</code> segítségével támogatja, így a bevitele nem okozhat nehézséget. Az egyenlőségjelet megtartjuk a függvényargumentumok elnevezésére. Az egyszerűség kedvéért a balra nyíl előtt lévő objektumnevet az értékadás bal oldalának, az utána lévő kifejezést az értékadás jobb oldalának nevezzük.</p>
<p>Ha olyan objektumnevet szerepeltetünk az értékadásban, amely még nem létezik, akkor az R létrehoz egy ilyen nevű új objektumot, és a hozzá tartozó memóriaterületen pedig az értékadás jobb oldalán lévő kifejezés kiértékelése után kapott értéket tárolja el.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">+</span><span class="fl">2</span>    <span class="co"># objektum létrehozása</span></span></code></pre></div>
<p>A fenti sor végrehajtása után a konzolban nem jelenik meg eredmény, mégis egy nagyon fontos dolog történik, létrejön az <code>a</code> nevű objektum, amelynek értéke 3 lesz mindaddig, amig ezen nem változtatunk. A munkánk során létrehozott objektumok a memória egy speciális területére, a <em>munkaterület</em>re (<em>workspace</em>) kerülnek.</p>
<p>Ha az értékadásban használt objektum már létezik, akkor a jobb oldali kifejezés kiértékelése után a kapott értékkel felülírja a bal oldali objektumhoz tartozó memóriaterületet. Ezzel a módszerrel tehát a korábban létrehozott objektum értékét módosíthatjuk.</p>
<p>A már létező <code>a</code> objektum értékét könnyen megváltoztathatjuk.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">/</span><span class="fl">3</span>   <span class="co"># objektum értékének megváltoztatása</span></span></code></pre></div>
</div>
<div id="objektumok-értékének-lekérdezése" class="section level4" number="5.1.2.2">
<h4>
<span class="header-section-number">5.1.2.2</span> Objektumok értékének lekérdezése<a class="anchor" aria-label="anchor" href="#objektumok-%C3%A9rt%C3%A9k%C3%A9nek-lek%C3%A9rdez%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az objektum memóriában tárolt értékét le is kérdezhetjük. A legegyszerűbb mód erre, ha az objektum nevét a parancssorba írjuk és végrehajtjuk a sort, máris megkapjuk az objektum memóriában tárolt értékét.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span>     <span class="co"># vajon mi az "a" objektum értéke</span></span>
<span><span class="co">#&gt; [1] 3.333</span></span></code></pre></div>
<p>Objektumok tetszőleges kifejezésben megjelenhetnek, akár egy értékadás jobb oldalán lévő kifejezésben is. A kifejezések kiértékelésében az objektum a memóriában tárolt értékével vesz részt.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span><span class="op">*</span><span class="fl">3</span>              <span class="co"># a kifejezés értéke konzolba kerül</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">4</span> <span class="op">+</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">3</span>   <span class="co"># megváltozik az objektum értéke, nincs output</span></span>
<span><span class="va">a</span>                <span class="co"># megtudjuk az objektum értékét</span></span>
<span><span class="co">#&gt; [1] 14</span></span></code></pre></div>
<p>A fenti sorokból kiolvasható, hogy immár az <code>a</code> objektum értéke 14.</p>
</div>
<div id="objektumelnevezes" class="section level4" number="5.1.2.3">
<h4>
<span class="header-section-number">5.1.2.3</span> Objektumok elnevezése<a class="anchor" aria-label="anchor" href="#objektumelnevezes"><i class="fas fa-link"></i></a>
</h4>
<p>Az objektumok elnevezésére eddig egyetlen betűt (karaktert) használtunk, de ez elég ritka eset a munka során. Helyes gyakorlat, ha az objektum neve utal az objektum tartalmára, céljára. Ha például testmagasságot tárolunk el egy objektumban, akkor írhatjuk a következőt:</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">magassag</span> <span class="op">&lt;-</span> <span class="fl">179</span></span></code></pre></div>
<p>A fenti sor létrehozza a munkaterületen a <code>magassag</code> nevű objektumot 179 értékkel.</p>
<p>Az objektumok elnevezésére</p>
<ul>
<li>betűket,</li>
<li>számjegyeket,</li>
<li>és az aláhúzás (<code>_</code>) vagy pont (<code>.</code>) szimbólumokat használhatjuk.</li>
</ul>
<p>Az objektum neve csak betűvel vagy ponttal kezdődhet, számjeggyel vagy aláhúzással nem. Továbbá a név nem lehet az R-ben már lefoglalt kulcsszó, mint például <code>if</code>, <code>function</code> vagy <code>TRUE</code> (a kulcsszavak listáját a <code><a href="https://rdrr.io/r/base/Reserved.html">?Reserved</a></code> paranccsal ismerhetjük meg). Hagyományosan a pont karaktert használjuk az objektumnevekben a tagolásra (például <code>magassag.peter</code> Péter magasságának tárolására). Az R a magyar ékezetes karakterek használatát is megengedi az objektumnevekben, de csakúgy mint az állományok és könyvtárak elnevezésében, érdemes ezek használatát mellőzni.</p>
<p>Az objektumoknak érdemes “beszédes” nevet választani, még ha ennek az ára némi extra gépelés is. Tudjuk, a <code>Tab</code> billentyű segíti a gépelést az <em>RStudio</em>-ban.</p>
<p>Az R kis- és nagybetű érzékeny, vagyis az <code>x</code> és a <code>X</code> különböző objektumoknak számítanak. Például a következő</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pulzus.atlag</span> <span class="op">&lt;-</span> <span class="fl">72</span></span></code></pre></div>
<p>parancs után a</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Pulzus.atlag</span></span>
<span><span class="co">#&gt; Error: object 'Pulzus.atlag' not found</span></span></code></pre></div>
<p>sor hibát jelez (<code>Error: object 'Pulzus.atlag' not found</code>), azaz a <code>Pulzus.atlag</code> objektumot nem találja az R. Minden olyan esetben, ha nem létező objektumra hivatkozunk, a fenti hibaüzenet jelenik meg a konzolban.</p>
<p>Amennyiben gondoskodunk nagy <code>P</code>-vel kezdődő objektumról is, akkor lehetőségünk van hibaüzenet nélkül mindkét objektum értékének kiíratására.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Pulzus.atlag</span> <span class="op">&lt;-</span> <span class="fl">69</span>           <span class="co"># új objektumot hozunk létre</span></span>
<span><span class="va">Pulzus.atlag</span>; <span class="va">pulzus.atlag</span>   <span class="co"># két parancs egy sorban</span></span>
<span><span class="co">#&gt; [1] 69</span></span>
<span><span class="co">#&gt; [1] 72</span></span></code></pre></div>
<p>A gyakorlatban kerüljük el az olyan helyzeteket, amikor két objektumnév csak kis- nagybetűk használatában tér el.</p>
<p>A fenti példában egy további apró újdonság is szerepelt. Ha egy parancssorban több utasítást szeretnénk elhelyezni, akkor ezeket pontosvesszővel (<code>;</code>) kell elválasztanunk. A pontosvesszővel elválasztott utasításokat az R értelmező egymás után, balról jobbra haladva hajtja végre, mintha külön sorba írtuk volna őket. A lenti sor 3 kifejezést (parancsot) tartalmaz pontosvesszővel elválasztva, mindegyik eredménye külön-külön jelenik meg a konzolban, mintha 3 különböző sorba írtuk volna őket.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">+</span><span class="fl">2</span>; <span class="fl">3</span><span class="op">+</span><span class="fl">4</span>; <span class="fl">5</span><span class="op">+</span><span class="fl">6</span>     <span class="co"># három kifejezés egy sorban</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; [1] 7</span></span>
<span><span class="co">#&gt; [1] 11</span></span></code></pre></div>
</div>
</div>
<div id="MegjegyzesazRben" class="section level3" number="5.1.3">
<h3>
<span class="header-section-number">5.1.3</span> Megjegyzések<a class="anchor" aria-label="anchor" href="#MegjegyzesazRben"><i class="fas fa-link"></i></a>
</h3>
<p>Nagyon sok példában láttunk már magyar nyelvű, magyarázó, értelmező szövegrészeket az R parancsok körül. Ezek az R <em>megjegyzések</em>. Megjegyzést az R-ben a kettőskereszt (<code>#</code>) karakter használatával vezetünk be. Az R értelmező a kettőskereszttől a sor végéig tartó részt figyelmen kívül hagyja. Itt helyezhetjük el a paranccsal kapcsolatos magyarázatainkat magunk vagy a kódot később olvasók számára. Teljes sorokat, vagy a sorok végét tudjuk így kivonni a végrehajtás alól.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Érdekes tény, ha a 153 számjegyeit köbre emeljük, </span></span>
<span><span class="co">#   majd összeadjuk őket, pontosan 153-at kapunk</span></span>
<span><span class="fl">1</span><span class="op">^</span><span class="fl">3</span><span class="op">+</span><span class="fl">5</span><span class="op">^</span><span class="fl">3</span><span class="op">+</span><span class="fl">3</span><span class="op">^</span><span class="fl">3</span>       <span class="co"># hatványozás a ^ operátorral</span></span>
<span><span class="co">#&gt; [1] 153</span></span>
<span><span class="fl">1</span><span class="op">**</span><span class="fl">3</span><span class="op">+</span><span class="fl">5</span><span class="op">**</span><span class="fl">3</span><span class="op">+</span><span class="fl">3</span><span class="op">**</span><span class="fl">3</span>    <span class="co"># hatványozás a ** operátorral</span></span>
<span><span class="co">#&gt; [1] 153</span></span></code></pre></div>
<p>Nem kizárólag magyarázó szövegek kerülhetnek megjegyzésbe, sokszor R parancsok végrehajtását akadályozzuk meg ezzel a módszerrel. Úgy kerülhetjük el egy parancs végrehajtását, hogy nem kell kitörölnünk a parancsállományból vagy az RMarkdown állományból, egyszerűen csak megjegyzésbe kell tennünk őket. Emlékezzünk vissza, hogy az <a href="az-r-telepitese.html#Csomagoktelepitese">3.1.3</a>. fejezetben a csomagok telepítésért felelős parancsok esetében kifezetten javasoltuk a megjegyzések használatát:</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># xkcd: Randall Munroe webképregényei</span></span>
<span><span class="co"># install.packages("RXKCD")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RXKCD</span><span class="op">)</span>             <span class="co"># csomag betöltése       </span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RXKCD/man/searchXKCD.html">searchXKCD</a></span><span class="op">(</span><span class="st">"Star Wars"</span><span class="op">)</span>    <span class="co"># keresés címben vagy leírásban</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RXKCD/man/getXKCD.html">getXKCD</a></span><span class="op">(</span><span class="fl">1769</span><span class="op">)</span>              <span class="co"># webképregény megjelenítése</span></span></code></pre></div>
<p>Végül megemlítjük, hogy az <em>RStudio</em>-ban egyszerre több kijelölt sort tudunk megjegyzésbe tenni, vagy onnan kivenni a <code>Ctrl+Shift+C</code> segítségével.</p>
</div>
<div id="az-r-nyelv-1-summary" class="section level3" number="5.1.4">
<h3>
<span class="header-section-number">5.1.4</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-1-summary"><i class="fas fa-link"></i></a>
</h3>
<div class="rmdsummary">
<p>
Egyszerű kifejezéseket építhetünk numerikus konstansok (számok),
operátorok és kerek zárójelek segítségével. A legfontosabb matematikai
operátorok a négy alapművelet és a hatványozás. A kifejezés kiértékelése
balról jobbra sorrendben történik, de ezt felülírhatja a kerek zárójelek
használata és az operátorok precedenciája. Egy kifejezés értékét
eltárolhatjuk a memória speciális területén, a munkamemóriában. Ehhez az
értékadó operátorral (<code>&lt;-</code>) létre kell hoznunk egy új
objektumot. Az objektum egy név-érték páros. Az objektum létrehozása
után az objektum neve megjelenhet egy tetszőleges kifejezés adat
részében. Több parancsot a pontosvesszővel (<code>;</code>) írhatunk egy
sorba. Megjegyzéseket a kettőskereszt (<code>#</code>) segítségével
helyezhetünk el.
</p>
</div>
</div>
<div id="az-r-nyelv-1-exercise" class="section level3" number="5.1.5">
<h3>
<span class="header-section-number">5.1.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-1-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Gondoljuk át, mi lehet a következő algebrai kifejezés eredménye, majd ellenőrizzük R-ben is: <span class="math inline">\(8/2(2+2)\)</span>.</li>
<li>Gondoljuk át, hogy a <code>.342e1</code> név miért nem lehet érvényes objektumnév? Próbáljuk ki a <code>make.names(".342e1")</code> parancsot, majd tanulmányozzuk a <code><a href="https://rdrr.io/r/base/make.names.html">?make.names</a></code> leírást!</li>
<li>Magyarázzuk meg a <code>make.names(c("", "", ""))</code> és a <code>make.names(c("", "", ""), unique = T)</code> parancsok közötti különbséget!</li>
<li>Gondoljuk át, hogy egy parancsállomány mely pontjain érdemes feltétlenül megjegyzéseket használni!</li>
<li>Jelentősen segíthetjük a navigációt az <em>RStudio</em> parancsállományaiban, ha bizonyos megjegyzések végére ezt írjuk: <code>----</code> (szóköz és négy mínusz jel). Hogyan használhatjuk ezt a lehetőséget az <em>RStudio</em>-ban, és milyen előnyei vannak?</li>
<li>Az <em>RStudio</em>-ban parancsállomány (<code>.R</code>) szerkesztése közben próbáljuk ki a <code>Ctrl+Alt+R</code> billentyűparancsot, és a hozzá kapcsolódó <code>Shift+Alt+J</code> billentyűparancsot is. Mi a jelentése az <code>Alt+L</code>, <code>Shift+Alt+L</code>, <code>Alt+O</code> és <code>Shift+Alt+O</code> billentyűparancsoknak? A most megismert funkciók hogyan válthatók ki RMarkdown (<code>.Rmd</code>) állomány szerkesztése közben?
</li>
</ol>
</div>

<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-1-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="függvények" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Függvények<a class="anchor" aria-label="anchor" href="#f%C3%BCggv%C3%A9nyek"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel1">
<p>Ebben a fejezetben:</p>
<ul>
<li>áttekintjük a függvényhívás lehetőségeit a nevesített argumentumokkal, az alapértelmezésekkel és az argumentumok sorrendjének megváltoztatásával,</li>
<li>megismerjük a legfontosabb matematikai függvényeket,</li>
<li>és pontosítjuk a kifejezés fogalmát.</li>
</ul>
</div>
<p>Az aritmetikai kifejezéseinkben használható operátorok nem teszik lehetővé minden matematikai művelet elvégzését. Mit tegyünk ha a 2 négyzetgyökét szeretnénk kiszámolni? A négyzetgyökvonás operátor nem létezik az R-ben, de ebben a speciális esetben a hatványozás operátor segítségével is elérhetjük a célunkat.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span><span class="op">^</span><span class="fl">0.5</span></span>
<span><span class="co">#&gt; [1] 1.414</span></span></code></pre></div>
<p>Az R azonban más lehetőséget is biztosít a négyzetgyök kiszámítására és ez az <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> függvény.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.414</span></span></code></pre></div>
<p>A függvények valamilyen utasítássorozatot hajtanak végre és a számítás eredményét szolgáltatják. Esetünkben az <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> függvény egy szám (pozitív) négyzetgyökét számolja ki, annak a számnak a négyzetgyökét, amely a kerek zárójelek között szerepel. Tehát az R a paraméterben megadott 2 értékre meghívja az <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> függvényt, ami visszatér a 2 négyzetgyökével.</p>
<div id="a-függvényhívás-szabályai" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> A függvényhívás szabályai<a class="anchor" aria-label="anchor" href="#a-f%C3%BCggv%C3%A9nyh%C3%ADv%C3%A1s-szab%C3%A1lyai"><i class="fas fa-link"></i></a>
</h3>
<p>A függvényhívás általános alakja:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb68-1"><a href="az-r-nyelv.html#cb68-1" aria-hidden="true" tabindex="-1"></a>függvénynév(argNév1=arg1, argNév2=arg2, ..., argNévN=argN)</span></code></pre></div>
<p>A függvény neve ugyanazoknak a szabályoknak engedelmeskedik, amelyeket az objektumok nevénél megtárgyaltunk (lévén a függvény is egy objektum). A függvény neve után kerek zárójelben következnek a függvény argumentumai, amelyek a függvény utasításainak a bemenő paraméterei. A függvény a bemenő paraméterek alapján az utasításainak megfelelően egy visszatérési értéket fog szolgáltatni.</p>
<p>Egy függvény különböző hívásainál az előforduló argumentumok száma és azok sorrendje igen változatos képet mutathat. Elöljáróban elmondhatjuk, hogy a függvények argumentumai alapértelmezett értékkel is rendelkezhetnek, így ezek az argumentumok elhagyhatók. Továbbá, a függvények argumentumai névvel is rendelkeznek, amelyeket ha a függvény hívásánál felhasználjuk, az argumentumok sorrendje tetszőleges lehet.</p>
<p>Először tekintsük át az R alapvető matematikai függvényeit (<a href="az-r-nyelv.html#tab:matfuggvenyek">5.2</a>. táblázat). Nézzük meg részletesebben a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvényt. Ha kikérjük a súgóját a <code><a href="https://rdrr.io/r/base/Log.html">?log</a></code> parancs begépelésével, akkor megtudhatjuk, hogy ez a legáltalánosabb logaritmus függvény, tetszőleges alap esetén hívható. Számunkra most a legfontosabb a súgónak az a sora, amely a logaritmus függvény használatát mutatja: <code>log(x, base=exp(1))</code>.</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:matfuggvenyek">TÁBLÁZAT 5.2: </span>Az R alapvető matematikai függvényei
</caption>
<thead><tr>
<th style="text-align:left;">
Függvény
</th>
<th style="text-align:left;">
Leírás
</th>
<th style="text-align:left;">
Példa
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">abs(x)</span>
</td>
<td style="text-align:left;">
abszolútérték függvény
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">abs(-1)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sign(x)</span>
</td>
<td style="text-align:left;">
előjel függvény
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sign(pi)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sqrt(x)</span>
</td>
<td style="text-align:left;">
négyzetgyök függvény
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sqrt(9+16)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">exp(x)</span>
</td>
<td style="text-align:left;">
exponenciális függvény
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">exp(1)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">log(x,base=exp(1))</span>
</td>
<td style="text-align:left;">
logaritmus függvény
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">log(exp(3));log(8,10)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">log10(x);log2(x)</span>
</td>
<td style="text-align:left;">
10-es és 2-es alapú logaritmus
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">log10(1000);log2(256)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">cos(x);sin(x);tan(x)</span>
</td>
<td style="text-align:left;">
trigonometrikus függvények
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">cos(pi);sin(0);tan(0)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">round(x,digits=0)</span>
</td>
<td style="text-align:left;">
kerekítés adott tizedesre
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">round(c(1.5,-1.5))</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">floor(x)</span>
</td>
<td style="text-align:left;">
x-nél kisebb, legnagyobb egész
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">floor(c(1.5,-1.5))</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">ceiling(x)</span>
</td>
<td style="text-align:left;">
x-nél nagyobb, legkisebb egész
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">ceiling(c(1.5,-1.5))</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">trunc(x)</span>
</td>
<td style="text-align:left;">
x-hez közelebbi egész x és 0 között
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">trunc(c(1.5,-1.5))</span>
</td>
</tr>
</tbody>
</table></div>
<p>Ebből kiolvasható, hogy a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvénynek 2 argumentuma (más néven paramétere) van. Az elsőt <code>x</code>-nek, a másodikat <code>base</code>-nek nevezik. A második paraméter alapértelmezett értékkel is rendelkezik, tehát ez a paraméter a hívásnál elhagyható, míg az <code>x=</code> argumentum megadása kötelező. A <code>base=</code> paraméter értéke könnyen kideríthető az</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>    <span class="co">#  Euler-féle szám, a természetes logaritmus alapja </span></span>
<span><span class="co">#&gt; [1] 2.718</span></span></code></pre></div>
<p>parancsból. Ezt az irracionális számot a matematikában <em>e</em>-vel jelöljük, és Euler-féle számnak nevezzük, ez a természetes logaritmus alapja. Ha nem határozzuk meg a második paramétert, akkor a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvény ezzel a természetes alappal (<code>base=exp(1)</code>) számítja ki az <code>x</code> logaritmusát.</p>
<p>Ezek alapján 2 természetes alapú logaritmusát a</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>    <span class="co"># 2 természetes alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 0.6931</span></span></code></pre></div>
<p>függvényhívás adja meg. Azt is megtehetjük, hogy felhasználjuk hívásnál az argumentum nevét (<code>x</code>), és egy egyenlőségjel (<code>=</code>) felhasználásával ezt a 2 elé szúrjuk be.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">2</span><span class="op">)</span>   <span class="co"># 2 természetes alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 0.6931</span></span></code></pre></div>
<p>A fenti sor természetesen ugyanúgy a 2 természetes alapú logaritmusát szolgáltatja, csak most explicit módon közöltük, hogy az aktuális paraméterben szereplő 2-es értéket az <code>x=</code> nevű formális paraméternek feleltetjük meg. Ez most felesleges gépelést jelentett és általában is elmondhatjuk, hogy matematikai függvények esetében az oly gyakori <code>x=</code> argumentumnevet szokás szerint nem írjuk ki a függvényhívás során.</p>
<p>Hívjuk most két argumentummal a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvényt. A 100 10-es alapú logaritmusát a</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span>        <span class="co"># 100 10-es alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>paranccsal tudhatjuk meg. A függvényhívásnál az <code>x=</code> formális argumentum a 100, a <code>base=</code> pedig a 10 értéket kapja. Természetesen ezt a hívásnál mi is rögzíthetjük a világosabb értelmezés kedvéért saját magunk számára a</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">100</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>    <span class="co"># 100 10-es alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>vagy akár</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">100</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>  <span class="co"># 100 10-es alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>formában is.</p>
<p>Arra is lehetőség van, hogy megcseréljük az aktuális paraméterek sorrendjét. A legbiztonságosabb ekkor az összes paraméter nevesítése,</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>base<span class="op">=</span><span class="fl">10</span>, x<span class="op">=</span><span class="fl">100</span><span class="op">)</span>  <span class="co"># 100 10-es alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>de két argumentum esetén így is egyértelmű a hozzárendelés:</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>base<span class="op">=</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">10</span>, x<span class="op">=</span><span class="fl">100</span><span class="op">)</span>  <span class="co"># 100 10-es alapú logaritmusa 2x</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Ha az argumentumok nevesítése nélkül cseréljük fel az aktuális paramétereket, akkor természetesen nem a várt eredményt kapjuk, mert a 10 100-as alapú logaritmusa lesz az eredmény.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>  <span class="co"># 10 100-as alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 0.5</span></span></code></pre></div>
<p>Kényelmi lehetőség az aktuális paraméterek elnevezésénél, hogy rövidítéseket is használhatunk, addig csonkolhatjuk az argumentum nevét, amíg az argumentumok egyértelműen azonosíthatók maradnak. Így a példában akár a <code>b=</code>-vel is helyettesíthetjük a <code>base=</code> argumentumnevet:</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>b<span class="op">=</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>   <span class="co"># 100 10-es alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Mint korábban említettük, az <code>x=</code> argumentum nem rendelkezik alapértelmezett értékkel, így paraméter nélkül nem hívható a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvény.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: argument "x" is missing, with no default</span></span></code></pre></div>
<p>A fenti hibaüzenethez hasonlót láthatunk, ha egy függvényt nem megfelelő számú paraméterrel hívunk.</p>
<p>Eddig a függvények aktuális paramétereiként csak numerikus konstansokat használtunk, pedig valójában tetszőleges kifejezéseket is megadhatunk. A függvény hívása előtt ezek kiértékelődnek és a hívás során ezek az értékek rendelődnek a formális paraméterekhez.</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alap</span> <span class="op">&lt;-</span> <span class="fl">10</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>,base<span class="op">=</span><span class="va">alap</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,b<span class="op">=</span><span class="va">alap</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 1.737</span></span>
<span><span class="co">#&gt; [1] 1.673</span></span></code></pre></div>
<p>A fenti példa a következő numerikus konstansokkal történő hívásoknak felel meg:</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2.718282</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">54.59815</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">14.77811</span>, base<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 1.737</span></span>
<span><span class="co">#&gt; [1] 1.673</span></span></code></pre></div>
<p>A függvények sokféle csoportja létezik az R-ben, a most látott matematikai függvények osztálya csak egy a sok közül. A következő fejezetekben függvények más csoportjait is megismerjük.</p>
</div>
<div id="a-kifejezés-fogalma" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> A kifejezés fogalma<a class="anchor" aria-label="anchor" href="#a-kifejez%C3%A9s-fogalma"><i class="fas fa-link"></i></a>
</h3>
<p>Elérkezett az idő, hogy a kifejezés fogalmát pontosíthassuk: <strong>egy konstans, egy objektum vagy egy függvényhívás önmagában kifejezés, de ezek operátorokkal és kerek zárójelekkel helyesen összefűzött sorozata is kifejezés</strong>.</p>
<p>Az R nyelv parancsai, vagy más néven utasításai lényegében kifejezések. Az R nyelvben egy parancs végrehajtása lényegében egy kifejezés kiértékelését jelenti, és a legtöbb esetben a kifejezés értékének megjelenítését a konzolban.</p>
<p>A munka során az R értelmező az utasítások egymás utáni kiértékelését végzi. Az utasításokat újsor karakter vagy pontosvessző választhatja el. A szintaktikailag helyes utasítások kiértékelése mindig egy értéket eredményez, ez lesz az utasítás értéke. Még akkor is rendelkezik értékkel az utasításunk, ha az nem jelenik meg a parancssorban, például az értékadó utasítás értéke a jobb oldali kifejezés értéke. Ezért írhatjuk a következő parancsot:</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">x</span>; <span class="va">y</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>Amennyiben egy értékadás, mint kifejezés értékét szeretnénk megjeleníteni a konzolban, akkor tegyük kerekzárójelbe a teljes sort:</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 20</span></span></code></pre></div>
<p>A kifejezés fogalmának gyakorlásához nézzünk egy példát. A másodfokú egyenlet megoldóképlete segítségével oldjuk meg az <span class="math inline">\(x^{2}–5x+4=0\)</span> egyenletet. Gépeljük be a következő sorokat:</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">egyutthato.a</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">egyutthato.b</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">5</span></span>
<span><span class="va">egyutthato.c</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">egyutthato.b</span><span class="op">^</span><span class="fl">2</span><span class="op">-</span><span class="fl">4</span><span class="op">*</span><span class="va">egyutthato.a</span><span class="op">*</span><span class="va">egyutthato.c</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="op">-</span><span class="va">egyutthato.b</span><span class="op">+</span><span class="va">D</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">egyutthato.a</span><span class="op">)</span>   <span class="co"># 1. gyök</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="op">(</span><span class="op">-</span><span class="va">egyutthato.b</span><span class="op">-</span><span class="va">D</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">egyutthato.a</span><span class="op">)</span>   <span class="co"># 2. gyök</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p>A fenti hat sor mindegyike egy-egy kifejezés. Az első három sorban lévő kifejezéseknek nincs outputja a konzolban, céljuk új objektumok létrehozása, és maguk a kifejezések csupán értékadó operátort, objektumnevet és konstanst tartalmaznak. A negyedik sor kifejezése szintén output nélkül hajtódik végre, és itt is új objektum jön létre, a kifejezés több összetevőt tartalmaz: objektumneveket, függvényhívást, matematikai operátorokat és konstansokat. Az ötödik és hatodik sorban lévő kifejezések értékei a kiértékelés után megjelennek az outputban, és objektumnevekből, matematikai operátorokból, kerek zárójelekből és konstansokból épülnek fel.</p>
</div>
<div id="az-r-nyelv-2-summary" class="section level3" number="5.2.3">
<h3>
<span class="header-section-number">5.2.3</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-2-summary"><i class="fas fa-link"></i></a>
</h3>
<div class="rmdsummary">
<p>
A függvényobjektumok (vagy röviden függvények) előre definiált
utasítások sorozatát hajtják végre, és egy visszatérési értéket
szolgáltatnak. A visszatérési érték meghatározását a függvény bemenő
paraméterei, azaz az argumentumok is befolyásolják. Minden argumentumnak
van neve, és rendelkezhetnek alapértelmezett értékkel is. Az R-rel való
munka nem más, mint kifejezések létrehozása és végrehajtása, vagyis
kiértékelése. A kifejezés fogalma: egy konstans, egy objektum vagy egy
függvényhívás önmagában kifejezés, de ezek operátorokkal és kerek
zárójelekkel helyesen összefűzött sorozata is kifejezés. A kifejezések
kiértékelése során az eredmény megjelenhet a konzolban, de látható
output nélkül is végbemehet a kifejezés végrehajtása.
</p>
</div>
</div>
<div id="az-r-nyelv-2-exercise" class="section level3" number="5.2.4">
<h3>
<span class="header-section-number">5.2.4</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-2-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Tekintsük át az <a href="az-r-nyelv.html#tab:matfuggvenyek">5.2</a>. táblázat utolsó oszlopában szereplő R függvényeket. Próbáljuk megjósolni a függvények visszatérési értékét. Végezzünk ellenőrzést: gépeljük be, és hajtsuk végre a matematikai függvényeket! Egészítsük ki a begépelt matematikai függvényeket az argumentumok nevével, mindegyik argumentumnak adjunk nevet az <a href="az-r-nyelv.html#tab:matfuggvenyek">5.2</a>. táblázat első oszlopa alapján!</li>
<li>Az előző feladatban a matematikai függvények gépelése során milyen <em>RStudio</em> kényelmi funkciókat fedeztünk fel. Soroljunk fel legalább hármat!</li>
<li>Az aranymetszés arányait tartalmazó épületek, képzőművészeti alkotások máig nagy esztétikai értékkel bírnak. Határozzuk meg ezt az arányt a <span class="math inline">\(\phi=\frac{1+\sqrt{5}}{2}\)</span>
képlet segítségével! Egy A/4-es oldalra kb. 47 sort írhatunk 12-es betűmérettel, és kb. 35 sort 16-os betűmérettel. Egy üres lap hanyadik sorába írnánk címet 12-es és 16-os betűméret esetén? Próbáljuk ki mindezt egy szövegszerkesztőben is!</li>
<li>A trigonometrikus függvények argumentumában radiánban kell megadni a szög értékét, és nem fokban. Ezt figyelembe véve határozzuk meg a 0, 30, 45, 60, 90 és 180 fok szinuszát, koszinuszát és tangensét!
</li>
</ol>
</div>

<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-2-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="adatszerkezetek" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Adatszerkezetek<a class="anchor" aria-label="anchor" href="#adatszerkezetek"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel1">
<p>Ebben a fejezetben:</p>
<ul>
<li>áttekintjük a numerikus, karakteres és logikai konstansok írását,</li>
<li>a vektor, mátrix, faktor, lista, és adattábla adatszerkezeteket,</li>
<li>ezek kezelését, indexelését, tesztelését és konvertálását.</li>
</ul>
</div>
<p>Kezdünk egyre mélyebre ásni az R nyelvben. Megismertük már az adatobjektum, függvény és kifejezés fogalmát. Ezek birtokában már bátran belevághatunk könyvünk kulcsfontosságú fejezetébe, az adatszerkezetek tanulmányozásába. Legyünk alaposak az itt szereplő témakörök áttekintésében, és lehetőleg oldjunk meg minden kitűzött feladatot. Később ez sokszorosan megtérül.</p>
<p>Minden statisztikai programcsomag adatokkal dolgozik. Az R-ben nevekkel ellátott objektumokban tároljuk ezeket az adatokat. Lényegében minden tevékenység ezen objektumok létrehozása, módosítása és lekérdezése köré csoportosítható. Ezeket a műveleteket az R-ben az operátorok és a függvények végzik. Láttuk, adatokból (objektumokból), operátorokból és függvényekből kifejezéseket építünk, és hajtunk végre – így foglalható össze minden egyes tevékenység az R-ben.</p>
<p>Ebben a fejezetben a kifejezések adat részére összpontosítunk, hiszen minden adatelemzési munka kiinduló pontja maga az adat. Eddig csak számszerű (numerikus) adatokkal találkoztunk, és azok közül is csak az egész számok leírására fókuszáltunk. Adatfeldolgozási folyamatainkban a mért adatok azonban a numerikus mellett karakteres formában is előfordulnak, valamint az R-ben egy harmadik adattípus, a logikai is fontos szerepet kap. Összefoglalva, három R alaptípus lesz fontos számunkra az adatfeldolgozás során:</p>
<ul>
<li>
<em>numerikus</em> típus, amely lehet <em>double</em> vagy <em>integer</em>, attól függően, hogy tizedestörteket vagy egész számokat szeretnénk tárolni,</li>
<li>
<em>karakteres</em> típus, amelyek nem egyetlen karaktert, hanem egy karaktersorozatot vagy más néven sztringet jelentenek,</li>
<li>
<em>logikai</em> típus, amely az adatszerkezetek manipulációja során jut nagyon fontos szerephez.</li>
</ul>
<p>A továbbiakban megismerjük, hogyan adhatjuk meg az R számára a fenti típusokba tartozó értékeket, illetve ezek felhasználásával, hogyan tudunk bonyolultabb adatszerkezeteket, összetett típusokat létrehozni.</p>
<div id="konstansok" class="section level3" number="5.3.1">
<h3>
<span class="header-section-number">5.3.1</span> Konstansok<a class="anchor" aria-label="anchor" href="#konstansok"><i class="fas fa-link"></i></a>
</h3>
<p>Mért adatokat közvetlenül az R-be konstansok segítségével írhatunk be. A konstansok olyan objektumoknak is tekinthetők, amelyeknek nincs nevük, csak értékük, és azt nem is tudjuk megváltoztatni. Ha Péter 18 éves, akkor azt a <code>18</code> leírásával közölhetjük az R-rel, és ez nem is jelenthet mást (nem lehet más az értéke), mint 18. A már említett három egyszerű típusnak megfelelően tekintsük át a numerikus, karakteres és logikai konstansokat.</p>
<div id="numerikus-konstansok" class="section level4" number="5.3.1.1">
<h4>
<span class="header-section-number">5.3.1.1</span> Numerikus konstansok<a class="anchor" aria-label="anchor" href="#numerikus-konstansok"><i class="fas fa-link"></i></a>
</h4>
<p>A numerikus konstansok többféle alakban is megjelenhetnek az R-ben. Az <em>integer</em> szóval az egész számok tárolását végző konstansra hivatkozunk, a <em>double</em> konstansok pedig törtrészt is tartalmazhatnak, de ez nem kötelező. Ha nem érdekes, hogy a szám <em>integer</em> vagy <em>double</em>, akkor egyszerűen a numerikus (R-ben <em>numeric</em>) elnevezést használjuk.</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:numkonstansok">TÁBLÁZAT 5.3: </span>Numerikus konstansok írása
</caption>
<thead><tr>
<th style="text-align:left;">
Numerikus konstans formája
</th>
<th style="text-align:left;">
Leírás
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1, -1, 2, 100, 3.5, .4</span>
</td>
<td style="text-align:left;">
pozitív és negatív double számok
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1L, -1L, 2L, 100L</span>
</td>
<td style="text-align:left;">
pozitív és negatív integer számok az ’L’ utótaggal
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1.2e3, 3e+4, .6e-2, 4e1L</span>
</td>
<td style="text-align:left;">
exponenciális alakú double és integer számok
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">0xef, 0XF01, -0xEf03, 0xd1L</span>
</td>
<td style="text-align:left;">
hexadecimális double és integer számok
</td>
</tr>
</tbody>
</table></div>
<p>Az <a href="az-r-nyelv.html#tab:numkonstansok">5.3</a>. táblázatban látható, hogy <em>integer</em> értékek írásához szükséges az <code>L</code> utótag használata, egyébként <em>double</em>-ként kezeli az R a számot, még akkor is ha nem adtunk meg törtrészt.</p>
<p>Fontos szabály, hogy a tizedesvessző alakja az R-ben a pont. A nulla egész részű tizedes törtek esetében az értéktelen nullát elhagyhatjuk.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">0.04</span>; <span class="fl">.04</span>; <span class="op">-</span><span class="fl">.04</span> <span class="co"># utóbbi egy negatív szám, a nulla egészrész megadása nélkül</span></span>
<span><span class="co">#&gt; [1] 0.04</span></span>
<span><span class="co">#&gt; [1] 0.04</span></span>
<span><span class="co">#&gt; [1] -0.04</span></span></code></pre></div>
<p>Használhatunk az R-ben exponenciális alakú és hexadecimális (16-os számrendszerű) számokat is.</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">12e3</span>; <span class="fl">12E+3</span>; <span class="fl">12e-3</span>; <span class="fl">0xa2e</span>; <span class="fl">0Xa2e</span></span>
<span><span class="co">#&gt; [1] 12000</span></span>
<span><span class="co">#&gt; [1] 12000</span></span>
<span><span class="co">#&gt; [1] 0.012</span></span>
<span><span class="co">#&gt; [1] 2606</span></span>
<span><span class="co">#&gt; [1] 2606</span></span></code></pre></div>
<p>Az exponenciális alakú számokat <code>e</code> vagy <code>E</code> karakter vágja ketté, egy bal oldali és egy jobb oldali részre. Az exponenciális alakú szám értéke: a bal oldali rész szorozva 10 annyiadik hatványával, mint amennyi a jobb oldali rész. Érdemes időt szentelni az exponenciális alakú számok értelmezésére, mert az R outputokban gyakran előfordulnak: a szám előjelét a bal oldali rész előjele dönti el, viszont a nagyságrendjét a jobb oldali szám nagyságrendje és előjele együtt határozza meg.</p>
<p>Az exponenciális alakú számok nagy előnye, hogy a nagyon kis, illetve nagyon nagy számok nagyságát jobban meg tudjuk ítélni, és persze az ilyen alakú számok leírásánál helyet is megtakarítunk.</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">0.0000000000000000000000000016726</span>         <span class="co"># proton tömege (kg)</span></span>
<span><span class="co">#&gt; [1] 1.673e-27</span></span>
<span><span class="fl">0.00000000000000000000000000000091093822</span>  <span class="co"># elektron tömege (kg)</span></span>
<span><span class="co">#&gt; [1] 9.109e-31</span></span>
<span><span class="fl">100000000</span>        <span class="co"># ennyi fele kell figyelni egy diáknak (százmillió)</span></span>
<span><span class="co">#&gt; [1] 1e+08</span></span>
<span><span class="fl">5970000000000000000000000</span>                 <span class="co"># A Föld tömege (kg)</span></span>
<span><span class="co">#&gt; [1] 5.97e+24</span></span></code></pre></div>
<p>Az R automatikusan exponenciális alakra vált túl kicsi vagy túl nagy számok konzolbeli megjelenítésénél. Ezt a viselkedést az R egyik globális opciójának beállításával tudjuk szabályozni. A globális opciókat az <code><a href="https://rdrr.io/r/base/options.html">options()</a></code> függvénnyel tudjuk állítani az R-ben (<code><a href="https://rdrr.io/r/base/options.html">?options</a></code>), amelyben most a <code>scipen=</code> paramétert kell megadnunk. Minél nagyobb pozitív értéket adunk meg, annál jobban törekszik az R a számok fix alakú megjelenítésére, negatív érték megadásánál pedig ugyanez igaz az exponenciális alakra.</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span> <span class="fl">0</span><span class="op">)</span>       <span class="co"># az alapértelmezés</span></span>
<span><span class="fl">0.0000001</span>                <span class="co"># túl kicsi: exponenciális lesz</span></span>
<span><span class="co">#&gt; [1] 1e-07</span></span>
<span><span class="fl">123</span>                      <span class="co"># marad fix alakú </span></span>
<span><span class="co">#&gt; [1] 123</span></span>
<span><span class="fl">100000000</span>                <span class="co"># túl nagy: exponenciális lesz</span></span>
<span><span class="co">#&gt; [1] 1e+08</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span><span class="op">-</span><span class="fl">8</span><span class="op">)</span>; <span class="fl">0.0000001</span>; <span class="fl">123</span>; <span class="fl">100000000</span> <span class="co"># exponenciális lesz mind</span></span>
<span><span class="co">#&gt; [1] 1e-07</span></span>
<span><span class="co">#&gt; [1] 1.23e+02</span></span>
<span><span class="co">#&gt; [1] 1e+08</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span> <span class="fl">8</span><span class="op">)</span>; <span class="fl">0.0000001</span>; <span class="fl">123</span>; <span class="fl">100000000</span> <span class="co"># fix lesz mind</span></span>
<span><span class="co">#&gt; [1] 0.0000001</span></span>
<span><span class="co">#&gt; [1] 123</span></span>
<span><span class="co">#&gt; [1] 100000000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span> <span class="fl">0</span><span class="op">)</span>       <span class="co"># az alapértelmezés visszaállítása</span></span></code></pre></div>
<p>A 16-os számrendszerű számok írásához a <code>0-9</code> és a kis <code>a-f</code> vagy nagy <code>A-F</code> betűket használhatjuk fel. A hexadecimális számokat a <code>0x</code> vagy <code>0X</code> előtag vezeti be.</p>
<p>Aritmetikai műveleteinkben rendszerint double típusú számokat, 10-es számrendszerben és fix (nem exponenciális) alakban használunk. De ettől bármikor eltérhetünk:</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">12L</span> <span class="op">+</span> <span class="op">-</span><span class="fl">3.04</span> <span class="op">+</span> <span class="fl">3.4e2</span> <span class="op">+</span> <span class="op">-</span><span class="fl">0x1af</span>  <span class="co"># számok 4 különböző formában</span></span>
<span><span class="co">#&gt; [1] -82.04</span></span></code></pre></div>
<p>A számok megjelenését a konzolban még egy globális opció befolyásolja. A <code>digits</code> megszabja, hány értékes jegyre pontosan jelenjenek meg a számaink a konzolban. Lehetséges értékei az 1-22 tartományba esnek, alapértelmezés szerint 7 az értéke. A beállított érték csak egy ajánlás az R számára, és főképp tizedes törtek esetén okozhat meglepetést, ha túl kicsire állítjuk a <code>digits</code> értékét.</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>; <span class="fl">12.36</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>; <span class="fl">12.36</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>; <span class="fl">12.36</span></span>
<span><span class="co">#&gt; [1] 12.4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>; <span class="fl">12.36</span></span>
<span><span class="co">#&gt; [1] 12.36</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>        <span class="co"># alapértelmezés visszaállítása</span></span></code></pre></div>
<p>Természetesen objektumokat is létrehozhatunk a numerikus értékek tárolására, ahogyan korábban már láttuk. Az objektum típusa a konstans típusával fog megegyezni:</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">peter.magassaga</span> <span class="op">&lt;-</span> <span class="fl">181</span>                                  <span class="co"># double objektum</span></span>
<span><span class="va">peter.sulya</span>     <span class="op">&lt;-</span> <span class="fl">72L</span>                                  <span class="co"># integer objektum</span></span>
<span><span class="va">peter.bmi</span>       <span class="op">&lt;-</span> <span class="va">peter.sulya</span> <span class="op">/</span><span class="op">(</span><span class="va">peter.magassaga</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="co"># double objektum</span></span></code></pre></div>
</div>
<div id="karakteres-konstansok" class="section level4" number="5.3.1.2">
<h4>
<span class="header-section-number">5.3.1.2</span> Karakteres konstansok<a class="anchor" aria-label="anchor" href="#karakteres-konstansok"><i class="fas fa-link"></i></a>
</h4>
<p>Az R-ben a karakteres konstans (vagy más néven sztring vagy karaktersorozat) speciális karakterekkel határolt, tetszőleges karaktereket tartalmazó sorozat. A karakteres konstans tehát nem egyetlen karaktert jelent tipikusan, hanem többet. Három módszerrel adhatunk meg karakteres konstanst:</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="st">"Látni távol kis falucska tornyát."</span></span>
<span><span class="co">#&gt; [1] "Látni távol kis falucska tornyát."</span></span>
<span><span class="st">'Látni távol kis falucska tornyát.'</span></span>
<span><span class="co">#&gt; [1] "Látni távol kis falucska tornyát."</span></span>
<span><span class="st">r"(Látni távol kis falucska tornyát.)"</span></span>
<span><span class="co">#&gt; [1] "Látni távol kis falucska tornyát."</span></span></code></pre></div>
<p>Karakteres konstansok készítésekor a tetszőleges karaktersorozatunkat dupla (<code>"</code>) vagy egyszeres (<code>'</code>) idézőjellel kell körbevennünk, de az R 4.0.0-ás verziójától az <code>r"(tetszőleges_karaktersorozat)"</code> forma is elérhetővé vált. Láthatjuk, hogy az R a dupla idézőjelet részesíti előnyben az output megjelenítése során.</p>
<p>Egy karakteres konstans tetszőleges karaktert (betűt, számjegyet, írásjeleket, szóközt stb.) tartalmazhat, de az első két megadási forma esetében azt a határolójelet el kell elkerülnünk, amelyet az illető karakteres konstans létrehozásánál használtuk. Látjuk, hogy az <code>r"(tetszőleges_karaktersorozat)"</code> forma adja a legnagyobb szabadságot, de a legtöbbször a dupla (<code>"</code>) idézőjeles formával találkozunk.</p>
<p>A karakteres konstansok tartalmazhatnak ún. escape szekvenciákat, olyan backslash jellel (<code>\</code>, fordított perjel) kezdődő karaktersorozatokat, amelyeket speciálisan értelmez az R. A legfontosabb escape szekvenciákat és jelentésüket az <a href="az-r-nyelv.html#tab:escapes">5.4</a>. táblázat tartalmazza.</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:escapes">TÁBLÁZAT 5.4: </span>Néhány escape szekvencia
</caption>
<thead><tr>
<th style="text-align:left;">
Escape szekvencia
</th>
<th style="text-align:left;">
Jelentése
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">\t</span>
</td>
<td style="text-align:left;">
tabulátor
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">\r</span>
</td>
<td style="text-align:left;">
kocsi vissza karakter
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">\n</span>
</td>
<td style="text-align:left;">
új sor karakter
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">"</span>
</td>
<td style="text-align:left;">
dupla idézőjel
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">'</span>
</td>
<td style="text-align:left;">
szimpla idézőjel
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">\</span>
</td>
<td style="text-align:left;">
backslash karakter
</td>
</tr>
</tbody>
</table></div>
<p>Természetesen, karakteres objektumokat is létrehozhatunk.</p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nev</span> <span class="op">&lt;-</span> <span class="st">'Zsolt'</span>; <span class="va">foglalkozas</span> <span class="op">&lt;-</span> <span class="st">"festő"</span>; <span class="va">lakohely</span> <span class="op">&lt;-</span> <span class="st">r"(Érd)"</span></span>
<span><span class="va">nev</span>; <span class="va">foglalkozas</span>; <span class="va">lakohely</span></span>
<span><span class="co">#&gt; [1] "Zsolt"</span></span>
<span><span class="co">#&gt; [1] "festő"</span></span>
<span><span class="co">#&gt; [1] "Érd"</span></span></code></pre></div>
<p>Karakteres operátor az R-ben nincs, de számos karakterkezelő függvény segíti a sztringek kezelését (<a href="az-r-nyelv.html#tab:karfuggvenyek">5.5</a>. táblázat).</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:karfuggvenyek">TÁBLÁZAT 5.5: </span>Néhány karakterkezelő függvény
</caption>
<thead><tr>
<th style="text-align:left;">
Függvény
</th>
<th style="text-align:left;">
Leírás
</th>
<th style="text-align:left;">
Példa
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">paste();paste0(sep=““)</span>
</td>
<td style="text-align:left;">
sztringek összefűzése
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">paste(“a”,“b”,sep=“=”)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">nchar(x)</span>
</td>
<td style="text-align:left;">
karakterszrting hossza
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">nchar(“alma”)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">substr(x,start,stop)</span>
</td>
<td style="text-align:left;">
sztring egy része
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">substr(“alma”, 3, 5)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">tolower(x)</span>
</td>
<td style="text-align:left;">
kisbetűsre konvertál
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">tolower(“Kiss Géza”)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">toupper(x)</span>
</td>
<td style="text-align:left;">
nagybetűsre konvertál
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">toupper(“Kiss Géza”)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">chartr(old,new,x)</span>
</td>
<td style="text-align:left;">
karakterek cseréje
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">chartr(“it”,“ál”,“titik”)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">cat(sep=” “)</span>
</td>
<td style="text-align:left;">
kiíratás
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">cat(“alma”,“fa”,sep=““)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">grep();grepl();regexpr()</span>
</td>
<td style="text-align:left;">
részsztringek keresése
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">grepl(pattern=“lm”,x=“alma”)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sub();gsub()</span>
</td>
<td style="text-align:left;">
részsztringek cseréje
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">gsub(“lm”,repl=“nyj”,x=“alma”)</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="logikai-konstansok" class="section level4" number="5.3.1.3">
<h4>
<span class="header-section-number">5.3.1.3</span> Logikai konstansok<a class="anchor" aria-label="anchor" href="#logikai-konstansok"><i class="fas fa-link"></i></a>
</h4>
<p>Az eddigiekben megismert numerikus és karakteres konstansok nagyon sokfélék lehetnek, de ugyanígy a numerikus és karakteres objektumokhoz nagyon sok lehetséges numerikus és karakteres érték rendelhető. A logikai adattípus ezektől lényegesen egyszerűbb típus, mivel itt összesen két érték tárolására van módunk. Ez a logikai <em>igaz</em> és a logikai <em>hamis</em> érték, amelyek az R nyelvben a <code>TRUE</code> és a <code>FALSE</code> logikai értékeket jelentik. Az R a logikai értékek írását a <code>T</code> és <code>F</code> globális változók bevezetésével segíti, ezek induló értéke a <code>TRUE</code> és a <code>FALSE</code> logikai érték.</p>
<p>Ezeket a logikai konstansokat értékadásban is szerepeltethetjük, így logikai objektumokat hozhatunk létre.</p>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fiu</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>; <span class="va">van.kocsija</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span>; <span class="va">hazas</span> <span class="op">&lt;-</span> <span class="cn">T</span></span>
<span><span class="va">fiu</span>; <span class="va">van.kocsija</span>; <span class="va">hazas</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Logikai értékeket vagy objektumokat relációs operátorok segítségével is létrehozhatunk (<a href="az-r-nyelv.html#tab:reloperatorok">5.6</a>. táblázat).</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:reloperatorok">TÁBLÁZAT 5.6: </span>Relációs operátorok
</caption>
<thead><tr>
<th style="text-align:left;">
Operátor formája
</th>
<th style="text-align:left;">
Művelet
</th>
<th style="text-align:left;">
Példa
</th>
<th style="text-align:left;">
Példa értéke
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">&lt;</span>
</td>
<td style="text-align:left;">
kisebb
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1&lt;2;“alma”&lt;“körte”</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">TRUE TRUE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">&gt;</span>
</td>
<td style="text-align:left;">
nagyobb
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">3&gt;(1+2);“abc”&gt;“ab”</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">FALSE TRUE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">&lt;=</span>
</td>
<td style="text-align:left;">
kisebb egyenlő
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1&lt;=-.3;“él”&lt;=“elő”</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">FALSE TRUE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">&gt;=</span>
</td>
<td style="text-align:left;">
nagyobb egyenlő
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">3/4&gt;=7/9;“aki”&gt;=“Ági”</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">FALSE TRUE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">==</span>
</td>
<td style="text-align:left;">
egyenlő
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">20==2e1;“Len”==“len”</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">TRUE FALSE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">!=</span>
</td>
<td style="text-align:left;">
nem egyenlő
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">exp(1)!=pi;“Len”!=“len”</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">TRUE TRUE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">%in%</span>
</td>
<td style="text-align:left;">
tartalmazás
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">c(8, 12) %in% 1:10</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">TRUE FALSE</span>
</td>
</tr>
</tbody>
</table></div>
<p>Numerikus és karakteres adatok is lehetnek a relációs operátorok bemenő adatai. Numerikus adatok esetén a számok nagysága, karakteres adatok esetén az ábécében elfoglalt hely és a sztringek hossza (lexikografikus sorrend) alapján végzi az R az összehasonlítást. A sztringek lexikografikus összehasonlítása, magyar területi beállítások esetén, a magyar ékezetes karaktereket is helyesen kezeli.</p>
<p>A logikai értékkel visszatérő kifejezéseket (egyszerű) logikai kifejezéseknek nevezzük. Ezekből az egyszerű logikai kifejezésekből a logikai operátorok segítségével összetett logikai kifejezéseket hozhatunk létre (<a href="az-r-nyelv.html#tab:logoperatorok">5.7</a>. táblázat).</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:logoperatorok">TÁBLÁZAT 5.7: </span>Logikai operátorok
</caption>
<thead><tr>
<th style="text-align:left;">
Operátor
</th>
<th style="text-align:left;">
Művelet
</th>
<th style="text-align:left;">
Példa
</th>
<th style="text-align:left;">
Példa értéke
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">!</span>
</td>
<td style="text-align:left;">
logikai NEM
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">!(1&lt;2); !T; !F</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">FALSE FALSE TRUE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">&amp;</span>
</td>
<td style="text-align:left;">
logikai ÉS
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">T &amp; T; T &amp; F; F &amp; T; F &amp; F</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">TRUE FALSE FALSE FALSE</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">|</span>
</td>
<td style="text-align:left;">
logikai VAGY
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">T | T; T | F; F | T; F | F</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">TRUE TRUE TRUE FALSE</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="az-r-nyelv-3-1-summary" class="section level4" number="5.3.1.4">
<h4>
<span class="header-section-number">5.3.1.4</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-3-1-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
Az adatfeldolgozás során többnyire számokkal és szövegekkel
dolgozunk. Az R a numerikus és a karakteres adatok írásának szabályait
pontosan rögzíti. Numerikus konstansok írása a matematikában megszokott
módon történik (például <code>12</code>, <code>-24</code>,
<code>12e+3</code>, <code>0xabc3</code>), azonban fontos megjegyeznünk,
hogy a tizedestörtek esetében pontot kell használnunk az egész és a
törtrész elválasztására (például <code>12.34</code>, <code>-0.04</code>,
<code>3.12e+12</code>). Karakteres konstansok esetében a következő
formákat használhatjuk: <code>“tetszőleges karakterek”</code>,
<code>‘tetszőleges karakterek’</code>, és
<code>r”(tetszőleges karakterek)“</code>. A logikai konstansok az
adatmanipuláció során nyújtanak segítséget, két leheséges értékük a
logikai igaz és hamis: a <code>TRUE</code>, <code>FALSE</code> vagy
rövidebben a <code>T</code>, <code>F</code>.
</p>
</div>
</div>
<div id="az-r-nyelv-3-1-exercise" class="section level4" number="5.3.1.5">
<h4>
<span class="header-section-number">5.3.1.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-3-1-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Mi a hasonlóság a következő három numerikus konstans között: <code>0xabc</code>, <code>2748</code>, <code>.2748e4</code>.</li>
<li>Az R öt előre definiált konstassal rendelkezik (<code><a href="https://rdrr.io/r/base/Constants.html">?Constants</a></code>). Írassuk ki ezek értékeit, állapítsuk meg típusukat!</li>
<li>Az aranymetszés arányszámát (<span class="math inline">\(\phi=\frac{1+\sqrt{5}}{2}\)</span>) írassuk a konzolba legalább 8 tizedes pontossággal!</li>
<li>Az <code>r"(tetszőleges karakterek)"</code> formájú karakteres konstans megadásnak több válozata is létezik, soroljunk fel még legalább öt lehetőséget (<code><a href="https://rdrr.io/r/base/Quotes.html">?Quotes</a></code>)! Milyen előnyökkel rendelkezik ez a megadási forma az idézőjelek és a fordított perjel tekintetében?</li>
<li>Helyezzünk el idézőjeleket karakteres konstansokban, mindhárom megadási forma mellett!</li>
<li>Próbáljuk ki az <a href="az-r-nyelv.html#tab:karfuggvenyek">5.5</a>. táblázat karakterkezelő függvényeit! Gépeljük be az utolsó oszlopban lévő példákat, és vizsgáljuk meg a függvények visszatérési értékét.</li>
<li>Próbáljuk ki az <a href="az-r-nyelv.html#tab:reloperatorok">5.6</a>. táblázat relációs operátorait! Gépeljük be a példákat és ellenőrizzük az eredményeket.</li>
<li>A logikai operátorok működéséről teljes képet kaphatunk az <a href="az-r-nyelv.html#tab:logoperatorok">5.7</a>. táblázatból. Próbáljuk ki ezeket a parancsokat is!</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-3-1-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="áttekintés" class="section level3" number="5.3.2">
<h3>
<span class="header-section-number">5.3.2</span> Áttekintés<a class="anchor" aria-label="anchor" href="#%C3%A1ttekint%C3%A9s"><i class="fas fa-link"></i></a>
</h3>
<p>Az előző fejezetben láttuk, hogy az R-ben leírható értékek alapvetően 4 típusba sorolhatók. Ezek a <em>double</em>, az <em>integer</em>, a <em>karakteres</em> és a <em>logikai</em> alaptípusok. Ezen értékek felhasználásával nagyon egyszerűen tudunk objektumokat létrehozni. Ezek az objektumok, mindjárt látjuk, az R legalapvetőbb adatszerkezetének, a <em>vektor</em>nak az egyelemű változatai.</p>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obj.double</span>     <span class="op">&lt;-</span> <span class="fl">12.03</span></span>
<span><span class="va">obj.integer</span>    <span class="op">&lt;-</span> <span class="fl">12L</span></span>
<span><span class="va">obj.karakteres</span> <span class="op">&lt;-</span> <span class="st">"Péter"</span></span>
<span><span class="va">obj.logikai</span>    <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></code></pre></div>
<p>A fenti objektumok típusa rendre <em>double</em>, <em>integer</em>, <em>karakteres</em> és <em>logikai</em>. Ezt könnyen ellenőrizhetjük a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> vagy <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> függvényekkel. A <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> az objektum alaptípusát adja meg, a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> pedig inkább az R objektum-orientált lehetőségeihez kapcsolódó függvény, de a fenti objektumok esetében nagyon hasonló eredményt szolgáltat, és a későbbiek során is sokat fogjuk használni. Egyedül a <em>double</em> objektumokok esetén tér el a visszatérési értéke, <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> ugyanis ekkor a <code>numeric</code> outputot adja.</p>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.double</span><span class="op">)</span>;     <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.double</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "double"</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.integer</span><span class="op">)</span>;    <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.integer</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.karakteres</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.karakteres</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "character"</span></span>
<span><span class="co">#&gt; [1] "character"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.logikai</span><span class="op">)</span>;    <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.logikai</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "logical"</span></span>
<span><span class="co">#&gt; [1] "logical"</span></span></code></pre></div>
<p>Az adatelemzési problémáink megoldásához egyszerre több adatérték feldolgozására van szükséges. Mivel az R nyelvet statisztikai adatfeldolgozásra tervezték, így nem csodálkozhatunk azon, ha több értéket is el tudunk tárolni egymás utáni memóriahelyeken a fenti 4 alaptípusból (<em>double</em>, <em>integer</em>, <em>karakteres</em> és <em>logikai</em>). Ezt többféleképp megtehetjük, például egy vagy több dimenzió mentén, illetve keverhetjük a típusokat vagy ragaszkodhatunk az azonos típusba tartozó értékek egymásutánjához. Ennek megfelelően több különböző R adatszerkezettel kell számolnunk. Ebben a fejezetben az R leggyakrabban használt adatszerkezetit tekintjük át. Most felsoroljuk és jellemezzük őket:</p>
<ul>
<li>
<em>vektor</em> - Azonos alaptípusú értékeket egymás után sorolunk fel, egy dimenzó mentén.</li>
<li>
<em>mátrix</em> - Azonos alaptípusú értékekből egy kétdimenziós szerkezetet hozunk létre, amelynek vannak sorai és oszlopai.</li>
<li>
<em>faktor</em> - Integer értékeket egymás után teszünk, egy dimenzió mentén, de megadjuk, hogy melyik szám milyen címkét jelöl.</li>
<li>
<em>lista</em> - Tetszőleges típusú objektumokat egymás után sorolunk fel, egy dimenzió mentén.</li>
<li>
<em>adattábla</em> - Tetszőleges típusú, de azonos elemszámú objektumokat egymás után sorolunk fel. Tipikusan azonos hosszúságú vektorokat vagy faktorokat teszünk egymás mellé, és így egy kétdimenziós szerkezetet kapunk, amelynek vannak sorai és oszlopai.</li>
</ul>
<p>Az <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábra összefoglalja az adatszerkezetek fenti tulajdonságait. Beszélünk numerikus (double vagy integer), karakteres és logikai vektorokról, melyek egydimenziósak és homogének, azaz azonos típusú adatokat tartalmaznak. Ugyanez igaz a mátrixokra, csak két dimenzióban, sorokkal és oszlopokkal. A faktor egy integer vektor (azaz egydimenziós és homogén), azonban külön nyilvántartást vezet arról, hogy az egyes integer értékeknek milyen címke felel meg. Az adattábla lesz a legfontosabb adatszerkezet számunkra: kétdimenziós, de oszlopai homogének, hiszen ezek vektorok (numerikus, karakteres vagy logikai) vagy faktorok lehetnek. A lista a legszabadabb adatszerkezet, egydimenziós, de elemei bármilyen adatszerkezethez tartozhatnak. Például az <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a>. ábrán egy 8 elemű lista jelenik meg, amelynek első eleme egy numerikus vektor, utolsó eleme pedig egy adattábla.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:adatszerkezetek-1"></span>
<a href="" target="_blank"><img src="images/adatszerkezetek_abra.png" alt="Az R legfontosabb adatszerkezetei" width="85%"></a>
<p class="caption">
ÁBRA 5.1: Az R legfontosabb adatszerkezetei
</p>
</div>
<p>Az <a href="az-r-nyelv.html#tab:adatszerkezetek">5.8</a>. táblázatban más szempontból mutatjuk be az adatszerkezeteket: példát mutatunk adott típusú (adatszerkezetű) objektumok létrehozására, és közöljük, hogy a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> és a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> milyen outputot szolgáltat az így létrehozott objektumok esetében.</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:adatszerkezetek">TÁBLÁZAT 5.8: </span>Adatszerkezetek
</caption>
<thead><tr>
<th style="text-align:left;">
Adatszerkezet
</th>
<th style="text-align:left;">
Létrehozó parancs
</th>
<th style="text-align:left;">
typeof(x)
</th>
<th style="text-align:left;">
class(x)
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
double vektor
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">c(12, 14)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">double</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">numeric</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
integer vektor
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">c(12L, 14L)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">integer</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">integer</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
karakteres vektor
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">c(‘a’,‘az’,‘egy’)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">character</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">character</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
logikai vektor
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">c(T, TRUE,FALSE,F)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">logical</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">logical</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
double mátrix
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix(1.3,nrow=2,ncol=3)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">double</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
integer mátrix
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix(1L,nrow=2,ncol=3)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">integer</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
karakteres mátrix
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix(‘az’,nrow=2,ncol=3)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">character</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
logikai mátrix
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix(F,nrow=2,ncol=3)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">logical</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">matrix array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
faktor
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">factor(c(‘D’,‘D’,‘ND’))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">integer</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">factor</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
lista
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">list(A=‘Pék’,B=1:2)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">list</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">list</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
adattábla
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">data.frame(id=c(‘a’,‘b’), pont=c(4,9))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">list</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">data.frame</span>
</td>
</tr>
</tbody>
</table></div>
<!-- 



--><p>A következő alfejezetekben részletesen áttekintjük a <em>vektor</em>, a <em>mátrix</em>, a <em>faktor</em>, a <em>lista</em> és az <em>adattábla</em> adatszerkezeteket, ugyanis ezek töltik be a legfontosabb szerepet az adatelemzések során. Mindegyik esetben megvizsgáljuk:</p>
<ul>
<li>hogyan hozhatjuk létre az adott adatszerkezetű objektumot,</li>
<li>hogyan tesztelhetjük, hogy az adott típusú objektumról van-e szó,</li>
<li>hogyan konvertálhatunk más adatszerkezetekből ilyen típusú objektumot,</li>
<li>milyen műveletekben vehet részt,</li>
<li>hogyan érhetjük el az objektum részeit, azaz hogyan indexelhetjük az objektumokat.</li>
</ul>
<div id="az-r-nyelv-4-summary" class="section level4" number="5.3.2.1">
<h4>
<span class="header-section-number">5.3.2.1</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-4-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A különböző típusú konstansokat objektumok létrehozására
használhatjuk fel. A statisztikában egy objektumok értéke több konstans
egymásutánja. A legegyszerűbb adatszerkezet az R-ben a <em>vektor</em>,
amelyben tetszőlegesen sok, azonos típusú értéket helyezhetünk el egy
dimenzió mentén. A <em>faktor</em> és a <em>lista</em> is egydimenziós,
míg a <em>mátrix</em> és az <em>adattábla</em> kétdimenziós. A
<em>faktor</em> integer vektor, amelyben a számoknak címkéket
feleltetünk meg. A <em>lista</em> elemi tetszőleges típusúak lehetnek. A
<em>mátrix</em> ugyanúgy homogén, minta a <em>vektor</em> és a
<em>faktor</em>. Az <em>adattábla</em> felfogható azonos elemszámú
vektorok/faktorok listájának.
</p>
</div>
</div>
<div id="az-r-nyelv-4-exercise" class="section level4" number="5.3.2.2">
<h4>
<span class="header-section-number">5.3.2.2</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-4-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Próbáljuk ki az <a href="az-r-nyelv.html#tab:adatszerkezetek">5.8</a>. táblázatban szereplő példákat. Hozzuk létre a különböző típusú objektumokat és vizsgáljuk meg a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> és <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> függvényekkel az objektumok típusát.</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-4-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="vektor" class="section level3" number="5.3.3">
<h3>
<span class="header-section-number">5.3.3</span> Vektor<a class="anchor" aria-label="anchor" href="#vektor"><i class="fas fa-link"></i></a>
</h3>
<p>Az R legalapvetőbb adatszerkezete a <em>vektor</em>. A vektort egymás melletti (vagy alatti) cellákban tárolt értékek sorozataként képzelhetjük el (<a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a>. ábra), mely értékek mindegyike azonos típusú. Így azt mondhatjuk, hogy a vektor azonos típusú (egynemű, homogén) adatok egydimenziós együttese. A vektor fontos jellemzője, hogy homogén, tehát a vektort alkotó értékek vagy kizárólag <em>integer</em>, vagy kizárólag <em>double</em>, vagy kizárólag <em>karakteres</em>, vagy kizárólag <em>logikai</em> típusúak lehetnek.</p>
<div id="vektor-létrehozása" class="section level4" number="5.3.3.1">
<h4>
<span class="header-section-number">5.3.3.1</span> Vektor létrehozása<a class="anchor" aria-label="anchor" href="#vektor-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Vektort legegyszerűbben a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvénnyel hozhatunk létre, az argumentumlistában egymás felsoroljuk a vektort alkotó értékeket. <em>Double</em> vektort hozhatunk létre például, ha a paraméterben numerikus konstansokat sorolunk fel:</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>; <span class="va">v.d</span>  <span class="co"># numerikus (double) vektor létrehozása</span></span>
<span><span class="co">#&gt; [1] 2 4 6 8</span></span></code></pre></div>
<p>A <code>v.d</code> objektum egy 4 elemű <em>double</em> vektor. Az első eleme a 2, a második eleme a 4, a harmadik a 6 és a negyedik egyben utolsó eleme a 8. A vektor elemei szóközökkel elválasztva jelennek meg a konzolban.</p>
<p>Karakteres vektort hasonlóan hozhatunk létre, a <code>v.k</code> vektor 3 elemű lesz.</p>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v.k</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"erős"</span>, <span class="st">'közepes'</span>, <span class="st">"gyenge"</span><span class="op">)</span>; <span class="va">v.k</span> <span class="co"># karakteres vektor létrehozása</span></span>
<span><span class="co">#&gt; [1] "erős"    "közepes" "gyenge"</span></span></code></pre></div>
<p>Egy logikai vektor csak logikai konstansokat tartalmazhat (<code>TRUE</code> vagy <code>FALSE</code>, illetve a <code>T</code> és <code>F</code> rövidebb változatot is használhatjuk):</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v.l</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">T</span><span class="op">)</span>; <span class="va">v.l</span>  <span class="co"># logikai vektor létrehozása</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE  TRUE</span></span></code></pre></div>
<p>A <code>v.d</code>, <code>v.k</code> és <code>v.l</code> objektum egy-egy példa az R különböző típusú vektoraira. Az objektumok fontos jellemzője az objektum hossza, ami vektorok esetén a vektort alkotó elemek számát jelenti. Ezt a <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> függvénnyel kérdezhetjük le.</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.d</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.k</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.l</span><span class="op">)</span>  <span class="co"># vektor hossza</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>A vektor hosszát létrehozása után is módosíthatjuk, szintén a <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> függvényt használjuk, de az értékadás bal oldalán.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.l</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">5</span>  <span class="co"># vektor hosszának módosítása</span></span></code></pre></div>
<p>A <code>v.l</code> logikai vektor most már 5 elemű lesz:</p>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v.l</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE  TRUE    NA    NA</span></span></code></pre></div>
<p>Mivel nem adtuk meg a 4. és 5. elemét, így az <code>NA</code> lesz, ami a <em>hiányzó érték</em> jele az R-ben. Az <code>NA</code> minden vektornak eleme lehet, a vektor típusától függetlenül.</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">12L</span>, <span class="cn">NA</span>, <span class="fl">15L</span><span class="op">)</span>  <span class="co"># 3 elemű integer vektor; a 2. eleme nem ismert</span></span></code></pre></div>
<p>Térjünk vissza a vektorok létrehozásához. A <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvény paraméterébe természetesen konstansok helyett tetszőleges kifejezéseket is írhatunk:</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">szamok</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">(</span><span class="fl">2</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">*</span><span class="fl">4</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">4</span>, <span class="fl">.5</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>;        <span class="va">szamok</span></span>
<span><span class="co">#&gt; [1]  1.000 20.000  0.250  0.125</span></span>
<span><span class="va">nevek</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Péter"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Zso'</span>, <span class="st">"lt"</span><span class="op">)</span><span class="op">)</span>; <span class="va">nevek</span></span>
<span><span class="co">#&gt; [1] "Péter" "Zsolt"</span></span>
<span><span class="va">iteletek</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="fl">1</span><span class="op">&lt;</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">==</span><span class="fl">3</span><span class="op">)</span>;               <span class="va">iteletek</span></span>
<span><span class="co">#&gt; [1]  TRUE  TRUE FALSE</span></span></code></pre></div>
<p>A vektorok esetében a homogenitás központi szerepet játszik. Az R abban az esetben sem fog különböző típusú elemekből vektort létrehozni, ha ezeket egyetlen <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvényhívásban szerepeltetjük. Ekkor automatikus típuskonverzió történik. Nézzük ezeknek az eseteit:</p>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eset.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="st">"6"</span>,<span class="fl">8</span><span class="op">)</span>;    <span class="va">eset.1</span></span>
<span><span class="co">#&gt; [1] "2" "4" "6" "8"</span></span>
<span><span class="va">eset.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">FALSE</span>,<span class="st">"6"</span><span class="op">)</span>; <span class="va">eset.2</span></span>
<span><span class="co">#&gt; [1] "TRUE"  "FALSE" "6"</span></span>
<span><span class="va">eset.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">FALSE</span>, <span class="fl">3</span><span class="op">)</span>;  <span class="va">eset.3</span></span>
<span><span class="co">#&gt; [1] 1 0 3</span></span></code></pre></div>
<p>Amennyiben karakteres konstans szerepel az elemek között, a vektor karakteres típusú lesz. Ha numerikus és logikai értéket sorolunk fel, akkor a vektor numerikus lesz, azzal a kiegészítéssel, hogy a <code>TRUE</code> logikai érték 1-re, a <code>FALSE</code> pedig 0-ra konvertálódik.</p>
<p>További lehetőség a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvény használata során, hogy a paraméterben vektort is szerepeltethetünk. Ekkor ezek az elemek is szerepelni fognak az eredményvektorban:</p>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regi.v.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">regi.v.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span></span>
<span><span class="va">uj.v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">regi.v.1</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="va">regi.v.2</span>, <span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span>; <span class="va">uj.v</span></span>
<span><span class="co">#&gt;  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12</span></span></code></pre></div>
<p>A fenti példában létrehozott <code>uj.v</code> 13 elemű numerikus vektor összerakásához felhasználtunk két 3 elemű vektort és egy kételemű vektort is.</p>
<p>Vektorok létrehozása során még egy érdekes lehetőségről érdemes szót ejteni. A <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvényben a vektor egyes elemeit elnevezhetjük, és ezek a nevek az outputban is meg fognak jelenni. Az elemek elnevezéséhez írjunk egy nevet és egy egyenlőségjelet az argumentumként használt elem elé. Ha a név nem egyetlen szó (vagyis tartalmaz szóközt), akkor a karakterkonstansok megadásánál látott három módszer valamelyikét használhatjuk (tehát a dupla és szimpla idézőjeleket és az <code>r"()"</code> konstrukciót), vagy a backtick (`) szimbólumot. Ezzel a módszerrel például a naponta tanulással töltött időnket úgy rögzíthetjük, hogy az output “beszédesebb” lesz, több információt tartalmaz.</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tan.ido</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>Hétfő<span class="op">=</span><span class="fl">35</span>, Kedd<span class="op">=</span><span class="fl">95</span><span class="op">)</span>; <span class="va">tan.ido</span></span>
<span><span class="co">#&gt; Hétfő  Kedd </span></span>
<span><span class="co">#&gt;    35    95</span></span>
<span><span class="va">tan.ido</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>Hétfő<span class="op">=</span><span class="fl">35</span>, <span class="st">"Kedd délelőtt"</span><span class="op">=</span><span class="fl">50</span>, `Kedd délután`<span class="op">=</span><span class="fl">45</span><span class="op">)</span>; <span class="va">tan.ido</span></span>
<span><span class="co">#&gt;         Hétfő Kedd délelőtt  Kedd délután </span></span>
<span><span class="co">#&gt;            35            50            45</span></span></code></pre></div>
<p>A vektorelemek nevei lekérdezhetők a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvénnyel. Amennyiben az értékadás bal oldalán szerepeltetjük, a vektor elemneveit tudjuk módosítani.</p>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">tan.ido</span><span class="op">)</span>                         <span class="co"># elemnevek lekérdezése</span></span>
<span><span class="co">#&gt; [1] "Hétfő"         "Kedd délelőtt" "Kedd délután"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">tan.ido</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"K.1"</span>, <span class="st">"K.2"</span><span class="op">)</span> <span class="co"># elemnevek módosítása</span></span>
<span><span class="va">tan.ido</span></span>
<span><span class="co">#&gt;   H K.1 K.2 </span></span>
<span><span class="co">#&gt;  35  50  45</span></span></code></pre></div>
</div>
<div id="szabalyosvektorokalfejezet" class="section level4" number="5.3.3.2">
<h4>
<span class="header-section-number">5.3.3.2</span> Szabályos vektorok létrehozása<a class="anchor" aria-label="anchor" href="#szabalyosvektorokalfejezet"><i class="fas fa-link"></i></a>
</h4>
<p>Ha egy vektor elemei szabályos rendben követik egymást, akkor szabályos vektorokról beszélünk. Ilyen lehet például a következő három numerikus vektor és két karakteres vektor.</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"f.1"</span>, <span class="st">"f.2"</span>, <span class="st">"f.3"</span><span class="op">)</span></span></code></pre></div>
<p>Szabályos numerikus vektorokat hozhatunk létre a kettőspont (<code>:</code>) operátorral vagy a <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvénnyel. Az így létrehozott vektorok ugyanis valamilyen számtani sorozat egymást követő elemei, vagyis az egymás mellett lévő elemek különbsége (a lépésköz) állandó.</p>
<div id="a-kettőspont-operátor." class="section level5" number="5.3.3.2.1">
<h5>
<span class="header-section-number">5.3.3.2.1</span> A kettőspont operátor.<a class="anchor" aria-label="anchor" href="#a-kett%C5%91spont-oper%C3%A1tor."><i class="fas fa-link"></i></a>
</h5>
<p>A legegyszerűbb vektorlétrehozási mód a kettőspont (<code>:</code>) operátor, ahol az egymást követő elemek távolsága 1 vagy -1. Általános alakja: <code>start:stop</code>.</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>    <span class="co"># a lépésköz +1, növekvő sorozat</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="fl">10</span><span class="op">:</span><span class="fl">1</span>    <span class="co"># a lépésköz -1, csökkenő sorozat</span></span>
<span><span class="co">#&gt;  [1] 10  9  8  7  6  5  4  3  2  1</span></span>
<span><span class="op">-</span><span class="fl">1.5</span><span class="op">:</span><span class="fl">5</span>  <span class="co"># a lépésköz +1, növekvő sorozat</span></span>
<span><span class="co">#&gt; [1] -1.5 -0.5  0.5  1.5  2.5  3.5  4.5</span></span>
<span><span class="fl">10.5</span><span class="op">:</span><span class="fl">3</span>  <span class="co"># a lépésköz -1, csökkenő sorozat</span></span>
<span><span class="co">#&gt; [1] 10.5  9.5  8.5  7.5  6.5  5.5  4.5  3.5</span></span></code></pre></div>
<p>Látható, hogy az így létrehozott vektorok lehetnek csökkenő vagy növekvő rendezettségűek, valamint tört értékeket is használhatunk operandusként. A sorozat nem feltétlenül a kettőspont utáni értékig tart, mindössze annyi igaz, hogy a sorozat vége a <code>stop</code> értéknél mindig kisebb egyenlő (vagy nagyobb egyenlő, csökkenő sorozat esetén).</p>
<p>Hosszabb numerikus vektorokat is könnyűszerrel létrehozhatunk. A <code>101:140</code> parancs hatására 40 elemet hozunk létre. Hosszabb vektorok outputjában könnyebben el tudunk igazodni a sorok elején lévő <code>[x]</code> konstrukció segítségével: minden sorban a sor első eleme a vektor <code>x.</code> eleme. A lenti outputban szereplő <code>[17]</code> például azt mutatja, hogy a sor elején lévő 117 a 40 elemű vektor 17. eleme.</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">101</span><span class="op">:</span><span class="fl">140</span>  <span class="co"># a lépésköz +1, növekvő sorozat</span></span>
<span><span class="co">#&gt;  [1] 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116</span></span>
<span><span class="co">#&gt; [17] 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132</span></span>
<span><span class="co">#&gt; [33] 133 134 135 136 137 138 139 140</span></span></code></pre></div>
</div>
<div id="a-seq-függvény" class="section level5" number="5.3.3.2.2">
<h5>
<span class="header-section-number">5.3.3.2.2</span> A <code>seq()</code> függvény<a class="anchor" aria-label="anchor" href="#a-seq-f%C3%BCggv%C3%A9ny"><i class="fas fa-link"></i></a>
</h5>
<p>A <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvény nagyobb szabadságot ad a numerikus sorozatok generálására. Legegyszerűbb használata esetén a kettőspont (<code>:</code>) operátort kapjuk vissza:</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span> <span class="co"># a lépésköz +1, növekvő sorozat</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvény használatához négy argumentum nevét és jelentését kell megtanulnunk: a <code>from=</code> a sorozat első elemét határozza meg, a <code>to=</code> az utolsó elemet, a <code>by=</code> a lépésközt és a <code>length.out=</code> a létrehozandó vektor elemeinek a számát. A négy paraméterből három megadása már egyértelműen azonosítja a kívánt vektort:</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">10</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>           <span class="co"># a lépésköz +2, növekvő sorozat</span></span>
<span><span class="co">#&gt; [1] 1 3 5 7 9</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">10</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>   <span class="co"># a lépésköz +2.25, növekvő sorozat</span></span>
<span><span class="co">#&gt; [1]  1.00  3.25  5.50  7.75 10.00</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>to<span class="op">=</span><span class="fl">10</span>, by<span class="op">=</span><span class="op">-</span><span class="fl">1.3</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>  <span class="co"># a lépésköz -1.3, csökkenő sorozat</span></span>
<span><span class="co">#&gt; [1] 15.2 13.9 12.6 11.3 10.0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, by<span class="op">=</span><span class="fl">1.3</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>  <span class="co"># a lépésköz +1.3, növekvő sorozat</span></span>
<span><span class="co">#&gt; [1] 1.0 2.3 3.6 4.9 6.2</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/seq.html">seq_along()</a></code> függvénnyel szintén tudunk 1-től induló, +1-es lépésközű sorozatot alkotni, amelynek utolsó értéke, a paraméterben megadott vektor elemszáma.</p>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hétfő"</span>, <span class="st">"Kedd"</span>, <span class="st">"Szerda"</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># numerikus vektor 1-től, +1-es lépésközzel, 3 elemű</span></span>
<span><span class="co">#&gt; [1] 1 2 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="co"># numerikus vektor 1-től, +1-es lépésközzel, 10 elemű</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
</div>
<div id="a-rep-függvény" class="section level5" number="5.3.3.2.3">
<h5>
<span class="header-section-number">5.3.3.2.3</span> A <code>rep()</code> függvény<a class="anchor" aria-label="anchor" href="#a-rep-f%C3%BCggv%C3%A9ny"><i class="fas fa-link"></i></a>
</h5>
<p>Tetszőleges típusú vektor létrehozására használhatjuk a <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> függvényt, amely egy létező vektor értékeit ismétli meg. A <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> első paramétere az ismétlendő vektor, a <code>times=</code> pedig az ismétlések számát adja meg.</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">2</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>            <span class="co"># számot ismétlünk 3-szor</span></span>
<span><span class="co">#&gt; [1] 2 2 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>  <span class="co"># numerikus vektort ismétlünk 3-szor</span></span>
<span><span class="co">#&gt; [1]  2  0 -2  2  0 -2  2  0 -2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"nap"</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>        <span class="co"># sztringet ismétlünk 3-szor</span></span>
<span><span class="co">#&gt; [1] "nap" "nap" "nap"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">T</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>   <span class="co"># logikai vektort ismétlünk 3-szor</span></span>
<span><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE  TRUE  TRUE FALSE  TRUE  TRUE</span></span></code></pre></div>
<p>A fenti példában mindenhol háromszor ismételtük meg az első paramétert, méghozzá úgy, hogy az R egymás után sorolta fel őket.</p>
<p>Egy vektor ismétlésének van egy másik esete is, amikor az elemeit sorban egyenként véve végezzük el az ismétlést (helyben ismétlés). Ekkor nem a <code>times=</code> paramétert, hanem az <code>each=</code> argumentumot kell használnunk a függvény hívásánál.</p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">2</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>            <span class="co"># számot ismétlünk 3-szor</span></span>
<span><span class="co">#&gt; [1] 2 2 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>  <span class="co"># numerikus vektort elemeit ismételjük 3-szor</span></span>
<span><span class="co">#&gt; [1]  2  2  2  0  0  0 -2 -2 -2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"nap"</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>        <span class="co"># sztringet ismétlünk 3-szor</span></span>
<span><span class="co">#&gt; [1] "nap" "nap" "nap"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>,<span class="cn">T</span>,<span class="cn">T</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>     <span class="co"># logikai vektor elemeit ismételjük 3-szor</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</span></span></code></pre></div>
<p>Látjuk, hogy egyelemű vektorok ismétlése esetén nincs különbség a <code>times=</code> és az <code>each=</code> paraméterek használata között.</p>
<p>Utolsó esetként elemenként szeretnénk ismételni, de eltérő ismétlésszámmal. Ekkor a <code>times=</code> paraméterben a bemenő vektor elemszámával azonos hosszú vektort kell megadni. Ez a vektor tartalmazza az elemek ismétlés számát.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>    <span class="co"># numerikus vektort elemeit ismételjük</span></span>
<span><span class="co">#&gt; [1] 2 3 3 4 4 4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nap"</span>, <span class="st">"part"</span><span class="op">)</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="co"># karakteres vektort elemeit ismételjük</span></span>
<span><span class="co">#&gt; [1] "nap"  "nap"  "part" "part" "part"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>    <span class="co"># logikai vektort elemeit ismételjük</span></span>
<span><span class="co">#&gt; [1]  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE</span></span></code></pre></div>
<p>Végezetül bemutatjuk, hogy az <code>each=</code> és az egyelemű értékkel rendelkező <code>times=</code> egyszerre is alkalmazható. Ekkor először a helyben ismétlés (<code>each=</code>), majd az így kapott vektor teljes ismétlése következik (<code>times=</code>).</p>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, each<span class="op">=</span><span class="fl">2</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="co"># kombinált ismétlés</span></span>
<span><span class="co">#&gt;  [1] 1 1 2 2 3 3 4 4 5 5 1 1 2 2 3 3 4 4 5 5 1 1 2 2 3 3 4 4 5 5</span></span></code></pre></div>
</div>
<div id="a-paste-függvény" class="section level5" number="5.3.3.2.4">
<h5>
<span class="header-section-number">5.3.3.2.4</span> A <code>paste()</code> függvény<a class="anchor" aria-label="anchor" href="#a-paste-f%C3%BCggv%C3%A9ny"><i class="fas fa-link"></i></a>
</h5>
<p>Szabályos karakteres vektor létrehozására használhatjuk a <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code> függvényt. Egy előtaghoz (például <code>f</code>) hozzáfűzhetünk 10 különböző számot, amely így egy 10 elemű karakteres vektort eredményez.</p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="co"># 10 elemű sztring vektor</span></span>
<span><span class="co">#&gt;  [1] "f 1"  "f 2"  "f 3"  "f 4"  "f 5"  "f 6"  "f 7"  "f 8"  "f 9"  "f 10"</span></span></code></pre></div>
<p>Láthatjuk, hogy az <code>f</code> karakter és a számok közé egy szóköz került, de ezt a <code>sep=</code> argumentummal megváltoztathatjuk:</p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, sep<span class="op">=</span><span class="st">"-"</span><span class="op">)</span> <span class="co"># gondolatjel az elválasztó</span></span>
<span><span class="co">#&gt;  [1] "f-1"  "f-2"  "f-3"  "f-4"  "f-5"  "f-6"  "f-7"  "f-8"  "f-9"  "f-10"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, sep<span class="op">=</span><span class="st">""</span><span class="op">)</span>  <span class="co"># nincs elválasztó</span></span>
<span><span class="co">#&gt;  [1] "f1"  "f2"  "f3"  "f4"  "f5"  "f6"  "f7"  "f8"  "f9"  "f10"</span></span></code></pre></div>
<p>A <code>collapse=</code> argumentum használatával, akár egyetlen karakteres értékbe is összeolvaszthatjuk a fenti elemeket. Az argumentumban az összevonásnál használt elválasztó karaktert adjuk meg.</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, sep<span class="op">=</span><span class="st">"-"</span>, collapse<span class="op">=</span><span class="st">"_"</span><span class="op">)</span> <span class="co"># gondolatjel az elválasztó, egy sztring</span></span>
<span><span class="co">#&gt; [1] "f-1_f-2_f-3_f-4_f-5_f-6_f-7_f-8_f-9_f-10"</span></span></code></pre></div>
<p>Az eddigiek összefoglalásaként nézzünk példát különböző típusú és elemhosszú vektorok létrehozására.</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">12L</span>                        <span class="co"># 1 elemű integer vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">12</span>                         <span class="co"># 1 elemű double vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="st">"Bízz magadban!"</span>           <span class="co"># 1 elemű karakteres vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>                       <span class="co"># 1 elemű logikai vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">23.8</span>, <span class="op">-</span><span class="fl">5</span><span class="op">)</span>                <span class="co"># 2 elemű double vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"K"</span><span class="op">)</span>                <span class="co"># 2 elemű karakteres vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">FALSE</span><span class="op">)</span>                <span class="co"># 2 elemű logikai vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>           <span class="co"># 5 elemű double vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>                        <span class="co"># 5 elemű integer vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">9</span>, to<span class="op">=</span><span class="fl">100</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># 46 elemű double vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"K"</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">10</span><span class="op">)</span> <span class="co"># 20 elemű karakteres vektor</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>               <span class="co"># 20 elemű integer vektor</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"év"</span>, <span class="fl">2001</span><span class="op">:</span><span class="fl">2020</span><span class="op">)</span>     <span class="co"># 20 elemű karakteres vektor</span></span></code></pre></div>
</div>
</div>
<div id="a-vektoraritmetika-szabályai" class="section level4" number="5.3.3.3">
<h4>
<span class="header-section-number">5.3.3.3</span> A vektoraritmetika szabályai<a class="anchor" aria-label="anchor" href="#a-vektoraritmetika-szab%C3%A1lyai"><i class="fas fa-link"></i></a>
</h4>
<p>Amint az előzőekben láttuk, az R rendszer legalapvetőbb adattárolási szerkezete a vektor. Az R egyik legnagyszerűbb tulajdonsága pedig az, ahogyan a vektorokkal műveleteket végezhetünk. Korábban már láttuk, hogyan tudunk összeadni két számot az R-ben. Próbáljunk meg összeadni két 2 elemű vektort:</p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span> <span class="co"># két vektor összeadása</span></span>
<span><span class="co">#&gt; [1] 4 6</span></span></code></pre></div>
<p>A két fenti vektort a parancssorban hoztuk létre a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvénnyel. Az összeadás eredménye egy 2 elemű vektor. Az eredményvektor az <code>1+3</code> és a <code>2+4</code> műveletek alapján jött létre, vagyis az összeadás operandusaiban szereplő vektor azonos sorszámú elemeire hajtotta végre a kijelölt műveletet az R.</p>
<p>Két vektor összeadásánál természetesen használhatunk objektumneveket is:</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span> <span class="co"># két vektor összeadása</span></span>
<span><span class="co">#&gt; [1] 3 5 7</span></span></code></pre></div>
<p>Itt az eredményvektor 3 elemű, és a komponensenkénti művelet végrehajtás szabályainak megfelelően az <code>1+2</code>, <code>2+3</code> és a <code>3+4</code> összeadások eredménye lesz a 3 új elem.</p>
<p>Az összeadás műveletet tetszőleges operátorral felcserélhetjük, használhatjuk az összes aritmetikai, relációs és logikai operátort.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># két vektor összeadása </span></span>
<span><span class="co">#&gt; [1] -1 -1</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="va">y</span>           <span class="co"># két vektor különbsége</span></span>
<span><span class="co">#&gt; [1] -1 -1 -1</span></span>
<span><span class="va">x</span> <span class="op">*</span> <span class="va">y</span>           <span class="co"># két vektor szorzata</span></span>
<span><span class="co">#&gt; [1]  2  6 12</span></span>
<span><span class="va">x</span> <span class="op">/</span> <span class="va">y</span>           <span class="co"># két vektor hányadosa</span></span>
<span><span class="co">#&gt; [1] 0.5000000 0.6666667 0.7500000</span></span>
<span><span class="va">x</span> <span class="op">^</span> <span class="va">y</span>           <span class="co"># x az y-adikon</span></span>
<span><span class="co">#&gt; [1]  1  8 81</span></span>
<span><span class="va">x</span> <span class="op">==</span> <span class="va">y</span>          <span class="co"># x egyenlő y-nal?</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE FALSE</span></span>
<span><span class="va">x</span> <span class="op">&lt;</span> <span class="va">y</span>           <span class="co"># x kisebb, mint y?</span></span>
<span><span class="co">#&gt; [1] TRUE TRUE TRUE</span></span></code></pre></div>
<p>A fenti műveletek közül a hatványozás végrehajtása tűnhet kicsit szokatlannak, itt ugyanis egy 3 elemű vektort, mint alapot egy 3 elemű másik vektorra, mint kitevőre emeljük. Ha azonban a komponensenkénti végrehajtás szabályát észben tartjuk, akkor világos, hogy az eredményvektor az <code>1^2</code>, <code>2^3</code> és a <code>3^4</code> eredménye.<br>
A komponensenkénti végrehajtás szabálya a logikai operátorokra is érvényes.</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span><span class="op">)</span>                 <span class="co"># logikai NEM egy vektorra</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE  TRUE  TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>  <span class="co"># logikai ÉS két vektorral</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE FALSE FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>  <span class="co"># logikai VAGY két vektorral</span></span>
<span><span class="co">#&gt; [1]  TRUE  TRUE  TRUE FALSE</span></span></code></pre></div>
<p>A vektorok közötti műveletek legegyszerűbb esetét tekintettük át eddig, azaz azonos elemszámú vektorokat adtunk össze vagy vontunk ki egymásból. Ha az operátor két oldalán lévő vektorok elemszáma eltér, akkor az általános szabály az, hogy a rövidebbik vektort az R megismétli mindaddig, míg a hosszabbik vektor elemszámát el nem éri. Ha a rövidebbik vektort nem egész számszor megismételve kapjuk a hosszabb vektor hosszát, akkor figyelmeztetést kapunk az R-től, melyben erre a tényre felhívja a figyelmünket, de a kijelölt műveletet az R ennek ellenére végrehajtja.</p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fl">5</span>  <span class="co"># két eltérő elemszámú vektor összeadása </span></span>
<span><span class="co">#&gt; [1] 6 7</span></span></code></pre></div>
<p>A fenti példában egy 2 elemű és egy 1 elemű vektort adunk össze. A rövidebb vektort még egyszer megismételve már az <code>c(5, 5)</code> vektort kapjuk, így a kijelölt összeadás minden fennakadás nélkül végrehajtható. Az eredményvektor az <code>1+5</code> és a <code>2+5</code> összeadások eredménye lesz.</p>
<p>Most egy 2 elemű és egy 3 elemű vektort adunk össze.</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>  <span class="co"># két eltérő elemszámú vektor összeadása </span></span>
<span><span class="co">#&gt; Warning in c(1, 2) + c(3, 4, 5) :</span></span>
<span><span class="co">#&gt;   longer object length is not a multiple of shorter object length</span></span>
<span><span class="co">#&gt; [1] 4 6 6</span></span></code></pre></div>
<p>A rövidebbik vektort még egyszer megismételve a <code>c(1, 2, 1, 2)</code> vektort kapjuk, de mivel nincs szükség minden elemre, ezért figyelmeztető üzenetet kapunk. Az eredményvektor az <code>1+3</code>, <code>2+4</code> és az <code>1+5</code> összeadások eredménye lesz.<br>
A következő példában már nincs figyelmeztetés, hiszen a rövidebb vektort egész számszor, pontosan kétszer kellett megismételni a koordinátánkénti művelet végrehajtáshoz.</p>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>  <span class="co"># két eltérő elemszámú vektor összeadása </span></span>
<span><span class="co">#&gt; [1] 4 6 6 8</span></span></code></pre></div>
<p>Foglaljuk össze a vektoraritmetika szabályait:</p>
<ul>
<li>azonos elemszámú vektorok között az azonos pozícióban lévő vektorelemek között hajtódik végre a kijelölt művelet (vagyis koordinátánkénti végrehajtás történik),</li>
<li>különböző elemszámú vektorok esetében pedig először a rövidebbik vektor ismétléssel kiegészül a hosszabbik vektor hosszára, és ezt követi a koordinátánkénti végrehajtás.</li>
</ul>
<p>Az operátorokon túl az <a href="az-r-nyelv.html#tab:matfuggvenyek">5.2</a>. táblázatban szereplő matematikai függvények is támogatják a vektor paramétert. Ekkor nem egyetlen értékkel térnek vissza, hanem a bemenő vektor minden elemére kiszámolt függvényértékek vektorával.</p>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">9</span>, <span class="fl">16</span><span class="op">)</span><span class="op">)</span>              <span class="co"># 3 szám négyzetgyöke</span></span>
<span><span class="co">#&gt; [1] 2 3 4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>  <span class="co"># 3 szám 10-es alapú logaritmusa</span></span>
<span><span class="co">#&gt; [1] 0 1 2</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1.3</span><span class="op">:</span><span class="fl">10</span>; <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>          <span class="co"># 9 szám egészre kerekítve </span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6 7 8 9</span></span></code></pre></div>
</div>
<div id="függvények-vektorokkal" class="section level4" number="5.3.3.4">
<h4>
<span class="header-section-number">5.3.3.4</span> Függvények vektorokkal<a class="anchor" aria-label="anchor" href="#f%C3%BCggv%C3%A9nyek-vektorokkal"><i class="fas fa-link"></i></a>
</h4>
<p>Az előző fejezetben láttuk, hogy a matematikai függvények vektor argumentumot is elfogadnak, és a vektor minden elemére kiszámolják a függvényértéket. Míg a <code>log(x=16, base=2)</code> függvényhívás a matematikában megszokott módon egyetlen bemenő értékhez (16) egyetlen kimenő éréket szolgáltat (4), addig az R lehetőségeit jobban kihasználó <code>log(x = c(1, 2, 4, 8, 16), base=2)</code> függvényhívás négy bemenő értékből (<code>c(1, 2, 4, 8, 16)</code>) négy kimenő érték <code>c(0, 1, 2, 3, 4)</code> állít elő. A függvények és a vektorok kapcsolatának azonban van egy másik aspektusa, amely szorosan kötődik a statisztikai műveletek végrehajtásához.</p>
<p>Az R függvények egy nagy csoportja eleve olyan vektort vár az argumentumába, amely több tíz vagy több száz elemet tartalmaz, és tipikusan egyetlen értékkel tér vissza. Ezeket a függvényeket vektor alapú függvényeknek nevezzük, és ebbe a csoportba tartoznak az R statisztikai mutatókat számoló függvényei is. A vektor alapú függvényekre az jellemző, hogy a bemenő vektor elemeivel egy előre definiált műveletsorozatot hajtanak végre, például összeadják a vektor elemeit, kiszámolják az elemek átlagát vagy szórását, és visszatérési értékként ezt az összeget, átlagot vagy szórást szolgáltatják. A legfontosabb vektor alapú függvényeket az <a href="az-r-nyelv.html#tab:statfuggvenyek">5.9</a>. táblázat tartalmazza.</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:statfuggvenyek">TÁBLÁZAT 5.9: </span>Függvények vektorokkal
</caption>
<thead><tr>
<th style="text-align:left;">
Függvény
</th>
<th style="text-align:left;">
Leírás
</th>
<th style="text-align:left;">
Példa
</th>
<th style="text-align:left;">
Példa értéke
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">max(x)</span>
</td>
<td style="text-align:left;">
az x vektor legnagyobb eleme
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">max(1:10)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">10</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">min(x)</span>
</td>
<td style="text-align:left;">
az x vektor legkisebb eleme
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">min(11:20)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">11</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sum(x)</span>
</td>
<td style="text-align:left;">
x elemeinek összege
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sum(1:5)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">15</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">prod(x)</span>
</td>
<td style="text-align:left;">
x elemeinek szorzata
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">prod(1:5)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">120</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">mean(x)</span>
</td>
<td style="text-align:left;">
x számtani közepe (mintaátlag)
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">mean(1:10)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">5.5</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">median(x)</span>
</td>
<td style="text-align:left;">
x mediánja
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">median(1:10)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">5.5</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">range(x)</span>
</td>
<td style="text-align:left;">
x legkisebb és legnagyobb eleme
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">range(1:10)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1 10</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sd(x)</span>
</td>
<td style="text-align:left;">
az x minta szórása
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">sd(1:10)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">3.03</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">var(x)</span>
</td>
<td style="text-align:left;">
az x minta varianciája
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">var(1:10)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">9.17</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">cor(x,y)</span>
</td>
<td style="text-align:left;">
korreláció x és y között
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">cor(1:10,11:20)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">1</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="típusok-kezelése" class="section level4" number="5.3.3.5">
<h4>
<span class="header-section-number">5.3.3.5</span> Típusok kezelése<a class="anchor" aria-label="anchor" href="#t%C3%ADpusok-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Minden R vektor típusa a négy alaptípus egyike lehet: <em>double</em>, <em>integer</em>, <em>karakteres</em> vagy <em>logikai</em>. Korábban láttuk, hogy a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> és a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> függvények pontos tájékoztatást adnak a vektorok típusáról. Létezik azonban egy függvénycsalád, amellyel megvizsgálhatjuk, hogy egy tetszőleges objektum az adott típushoz tartozik-e. Ez az <code>is.*()</code> függvénycsalád, amelynek eleme az <code><a href="https://rdrr.io/r/base/double.html">is.double()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">is.integer()</a></code>, <code><a href="https://rdrr.io/r/base/logical.html">is.logical()</a></code> és<code><a href="https://rdrr.io/r/base/character.html">is.character()</a></code> függvény. Nézzünk egy példát használatukra.</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3.5</span>, <span class="fl">4.1</span>, <span class="fl">9.2</span><span class="op">)</span>  <span class="co"># új objektum - double vektor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/double.html">is.double</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>           <span class="co"># x.d vajon double</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">is.integer</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>          <span class="co"># x.d vajon integer</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>        <span class="co"># x.d vajon karakteres</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/logical.html">is.logical</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>          <span class="co"># x.d vajon logikai</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Láttuk korábban, hogy a logikai értékek esetében, ha szükséges, automatikus típuskonverzió történik numerikus típusra (<code>TRUE</code> - 1, <code>FALSE</code> - 0). Sok esetben azonban explicit típuskonverzióra van szükség, amit az <code>as.*()</code> függvénycsaláddal hajthatunk végre. Vektorok esetében használhatjuk az <code><a href="https://rdrr.io/r/base/double.html">as.double()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">as.integer()</a></code>, <code><a href="https://rdrr.io/r/base/logical.html">as.logical()</a></code> vagy <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code> függvényeket. Nézzünk ezekre is néhány példát.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/double.html">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">)</span>              <span class="co"># logikai vektorból double </span></span>
<span><span class="co">#&gt; [1] 1 0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2.9"</span>, <span class="st">"a"</span>, <span class="st">"3"</span><span class="op">)</span><span class="op">)</span>  <span class="co"># karakteres vektorból integer</span></span>
<span><span class="co">#&gt; [1]  2 NA  3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>               <span class="co"># integer vektorból karakteres           </span></span>
<span><span class="co">#&gt; [1] "1" "2" "3" "4" "5"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/logical.html">as.logical</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>                 <span class="co"># integer vektorból logikai</span></span>
<span><span class="co">#&gt; [1] FALSE  TRUE  TRUE  TRUE</span></span></code></pre></div>
<p>Karakteres értékből könnyen kaphatunk számot, például a <code>"2.9"</code> vagy <code>"3"</code> esetén, viszont az <code>"a"</code> karakter esetében <code>NA</code> érték kerül az integer vektorba, ahogyan ezt a fenti példában is láthatjuk.</p>
</div>
<div id="az-na-hiányzó-érték" class="section level4" number="5.3.3.6">
<h4>
<span class="header-section-number">5.3.3.6</span> Az <code>NA</code> hiányzó érték<a class="anchor" aria-label="anchor" href="#az-na-hi%C3%A1nyz%C3%B3-%C3%A9rt%C3%A9k"><i class="fas fa-link"></i></a>
</h4>
<p>Korábbi példáinkban már felbukkant a hiányzó érték, amelyet az R-ben az <code>NA</code> jelöl. Az adatelemzési munkánkat végigkísérik a hiányzó adatok. Első lépésként azt jegyezzük meg, hogy az <code>NA</code> hiányzó érték tetszőleges típusú vektorban lehet elem.</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">4</span><span class="op">)</span>; <span class="va">x</span>              <span class="co"># NA numerikus vektorban</span></span>
<span><span class="co">#&gt; [1]  2 NA  4</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"erős"</span>, <span class="st">"gyenge"</span><span class="op">)</span>; <span class="va">x</span>  <span class="co"># NA karakteres vektorban</span></span>
<span><span class="co">#&gt; [1] NA       "erős"   "gyenge"</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>; <span class="va">x</span>             <span class="co"># NA logikai vektorban</span></span>
<span><span class="co">#&gt; [1] TRUE   NA   NA</span></span></code></pre></div>
<p>Egy <code>NA</code> érték jelenlétét a vektorban az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> függvénnyel tudjuk kimutatni. Az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> argumentuma tetszőleges vektor lehet, visszatérési értéke pedig a bemenő vektor elemszámával megegyező logikai vektor. A visszatérő logikai vektor csak abban a pozícióban tartalmaz <code>TRUE</code> értéket, ahol bemenő vektorban hiányzó adatot találunk.</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="cn">NA</span><span class="op">)</span>    <span class="co"># két NA a numerikus vektorban</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                   <span class="co"># két TRUE a logikai vektorban</span></span>
<span><span class="co">#&gt; [1] FALSE  TRUE FALSE FALSE  TRUE</span></span></code></pre></div>
<p>Hiányzó értékeket is tartalmazó vektor esetén néhány vektor alapú függvény meglepő eredményt adhat. A statisztikai mutatókat számoló függvények rendre <code>NA</code>-val térnek vissza, ha a bemenő vektorban van hiányzó érték.</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>  <span class="co"># NA-t tartalmazó vektor átlaga NA</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Ha kíváncsiak vagyunk az <code>NA</code> értéken kívüli elemek átlagára, akkor egy második paramétert is szerepeltetnünk kell a <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> függvényben, és minden más statisztikai mutatót számoló függvényben. Az <code>na.rm=</code> argumentum <code>TRUE</code> értéke biztosítja, hogy az átlag számítása során a hiányzó értékeket figyelmen kívül hagyjuk.</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>  <span class="co"># NA-t tartalmazó vektor átlaga már nem NA</span></span>
<span><span class="co">#&gt; [1] 3.2</span></span></code></pre></div>
</div>
<div id="az-inf-és-a-nan" class="section level4" number="5.3.3.7">
<h4>
<span class="header-section-number">5.3.3.7</span> Az <code>Inf</code> és a <code>NaN</code><a class="anchor" aria-label="anchor" href="#az-inf-%C3%A9s-a-nan"><i class="fas fa-link"></i></a>
</h4>
<p>Az R-ben a numerikus műveletek eredménye – a matematikai értelmezéstől sokszor eltérően – vezethet pozitív vagy negatív végtelen eredményre. Ezeket az <code>Inf</code> és a <code>-Inf</code> szimbólumok jelölik, amelyeket különböző kifejezésekben akár mi is felhasználhatunk.</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">/</span><span class="fl">0</span>                 <span class="co"># ez a matematikában nem értelmes, de R-ben Inf</span></span>
<span><span class="co">#&gt; [1] Inf</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -Inf</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Inf</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Inf</span></span></code></pre></div>
<p>Néhány esetben a numerikus kifejezések eredménye nem értelmezhető számként, ezt az R-ben a <code>NaN</code> (<code>Not a Number</code>) jelöli. Ilyen kifejezések például:</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">0</span><span class="op">/</span><span class="fl">0</span></span>
<span><span class="co">#&gt; [1] NaN</span></span>
<span><span class="cn">Inf</span><span class="op">-</span><span class="cn">Inf</span></span>
<span><span class="co">#&gt; [1] NaN</span></span>
<span><span class="cn">Inf</span><span class="op">/</span><span class="cn">Inf</span></span>
<span><span class="co">#&gt; [1] NaN</span></span></code></pre></div>
<p>Egy kifejezés véges vagy végtelen voltát az <code><a href="https://rdrr.io/r/base/is.finite.html">is.finite()</a></code> vagy <code><a href="https://rdrr.io/r/base/is.finite.html">is.infinite()</a></code> függvényekkel tesztelhetjük. A <code>NaN</code> értékre az <code><a href="https://rdrr.io/r/base/is.finite.html">is.nan()</a></code> függvénnyel kérdezhetünk rá. Figyeljük meg, a <code>NaN</code> értékre, mind az <code><a href="https://rdrr.io/r/base/is.finite.html">is.nan()</a></code>, mind az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> függvény <code>TRUE</code> értéket ad.</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NaN</span>, <span class="cn">Inf</span>, <span class="op">-</span><span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>           <span class="co"># melyik elem hiányzó</span></span>
<span><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.nan</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>          <span class="co"># melyik elem nem szám</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>     <span class="co"># melyik elem végtelen</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE  TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.finite</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>       <span class="co"># melyik elem véges</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE FALSE FALSE FALSE</span></span></code></pre></div>
</div>
<div id="vektor-indexelése" class="section level4" number="5.3.3.8">
<h4>
<span class="header-section-number">5.3.3.8</span> Vektor indexelése<a class="anchor" aria-label="anchor" href="#vektor-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Fontos részhez érkeztünk, érdemes kicsit lassítanunk. Már nagyon sok mindent megtanultunk a vektorokról: egy vektorban egy dimenzió mentén azonos típusú értékeket sorolhatunk fel, amellyel a vektoraritmetika szabályai szerint műveleteket tudunk végezni. Például hozzunk létre egy 10 elemű vektort, növeljük meg minden egyes vektorelem értékét 1-gyel.</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>         <span class="co"># x integer vektor létrehozása</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span>              <span class="co"># kiíratjuk az 1-gyel megnövelt értékeket (x nem változik)</span></span>
<span><span class="co">#&gt;  [1] 12 13 14 15 16 17 18 19 20 21</span></span>
<span><span class="va">x</span>                  <span class="co"># x értékének kiírása</span></span>
<span><span class="co">#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</span></span></code></pre></div>
<p>A fenti sorok hatására a konzolban egy 10 elemű vektor elemei jelennek meg, minden elem 1-gyel nagyobb, mint az <code>x</code> adott eleme. Egyetlen összeadás (<code>+</code>) operátor segítségével valójában 10 összeadás végrehajtását írtuk elő. Vegyük észre, hogy maga az <code>x</code> vektor nem módosult, továbbra is az eredeti <code>11:20</code> elemeket tartalmazza. Egy objektum ugyanis addig őrzi az értékét, amíg értékadó operátor segítségével felül nem írjük.</p>
<p>Tekintsük most a következő sorokat.</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>         <span class="co"># y integer vektor létrehozása</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">+</span> <span class="fl">1</span>         <span class="co"># megnöveljük 1-gyel y értékeit (y megváltozik)</span></span>
<span><span class="va">y</span>                  <span class="co"># y értékének kiírása </span></span>
<span><span class="co">#&gt;  [1] 12 13 14 15 16 17 18 19 20 21</span></span></code></pre></div>
<p>Az <code>y</code> vektor 10 elemű, a <code>11:20</code> értékekkel hoztuk létre. A második sorban azonban megváltoztatjuk az <code>y</code> értékét, mert újra az értékadás bal oldalán szerepel az <code>y</code> objektum. Az <code>y</code> új értéke az értékadás jobb oldalán szereplő kifejezés értéke lesz, azaz a <code>y+1</code> összeadás eredménye, ami nem más, mint a <code>12:21</code>. Az <code>y</code> értékének megjelenítésével ellenőrizhetjük, hogy valóban a <code>12:21</code> elemek kerülnek a konzolba.</p>
<p>A fenti példában <code>y</code> minden értékét megváltoztattuk. Az eredeti <code>11:20</code> helyett az új érték <code>12:21</code>. Az <code>y</code> vektor minden egyes eleme megváltozott, például ahol 11 volt, ott most 12 van, ahol 12 volt ott most 13. Ha szükség van az eredeti és az új <code>y</code> értékekre akkor kicsit módosítanunk kell az eddigi sorokon.</p>
<div class="sourceCode" id="cb142"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span>    <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>         <span class="co"># z integer vektor létrehozása</span></span>
<span><span class="va">z.uj</span> <span class="op">&lt;-</span> <span class="va">z</span> <span class="op">+</span> <span class="fl">1</span>         <span class="co"># z.uj double vektor létrehozása (z nem változik)</span></span>
<span><span class="va">z</span>                     <span class="co"># z értékének kiírása</span></span>
<span><span class="co">#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</span></span>
<span><span class="va">z.uj</span>                  <span class="co"># z.uj értékének kiírása</span></span>
<span><span class="co">#&gt;  [1] 12 13 14 15 16 17 18 19 20 21</span></span></code></pre></div>
<p>A <code>z</code> vektor is 10 elemű, a <code>11:20</code> a kezdőértéke, és jól látható, hogy a fenti sorok hatására ez nem is változik meg, hiszen a <code>z</code> újra már nem jelenik meg értékadás bal oldalán. Értékadás jobb oldalán viszont felbukkan, a második sorban a <code>z.uj</code> objektum létrehozásához használtuk fel <code>z</code> értékét. Az <code>z</code> és <code>z.uj</code> objektumok értékének kiírásával ellenőrizhetjük, hogy a <code>z</code> továbbra is biztonságosan tárolja a <code>11.20</code> értékeket, de a <code>z.uj</code>-ban a kívánt <code>12:21</code> módosított értékek is megtalálhatók. A további munkafázisokban így az eredeti és a módosított értékek is elérhetők lesznek, ami újdonság, mert az előző példákban ez a lehetőség nem volt elérhető. Az <code>x</code> objektumot használó példában csak az eredeti, az <code>y</code> vektoros példában csak a módosított értékeket tudnánk a későbbiekben használni.</p>
<p>Összefoglalva az eddigieket, két tanulságot vonhatunk le. Egyfelől, a vektorműveleteknek csak akkor lesz “maradandó” hatása, ha objektumban őrizzük a számítás eredményét, azaz értékadást használunk. Ez az objektum lehet a kiindulásként használt eredeti objektum (<code>y &lt;- y + 1</code>), de biztonságosabb ha új objektumot hozunk létre az új értékek számára (<code>z.uj &lt;- z + 1</code>), mert így az eredeti értékeket a jövőben is tudjuk használni. Másfelől, ezek a példák ráirányítják a figyelmet a vektoraritmetika egy nagyszerű jellemzőjére: a vektorműveletek megadása független a vektor hosszától, nem lesz bonyolultabb egy vektorművelet, például az <code>x+1</code> összeadás ha <code>x</code> nem 10 elemű, hanem mondjuk 100 hosszú. Az összeadás művelet parancsa 100 elemű vektor esetén is csupán <code>x+1</code>, azonban a háttérben nem 10, hanem 100 összeadás történik. Akár 10, akár 100 elemű az <code>x</code>, az összes elemre az <code>x</code> segítségével hivatkozhatunk, és az <code>x+1</code> összeadás az <code>x</code> összes eleméhez hozzáad 1-et.<br>
De mit tegyünk, ha nincs szükségünk <code>x</code> összes elemére, vagy nem szeretném <code>x</code> összes elemét megnövelni 1-gyel, csak néhányat. Ekkor <em>indexelést</em> kell használnunk.</p>
<p>Az adatfeldolgozás során gyakori, hogy a vektor egyes elemeit külön-külön szeretnénk elérni, lekérdezni vagy módosítani. A vektor egy tetszőleges részét, egy vagy több elemét az <em>indexelés</em> művelettel érhetjük el, melynek eredménye szintén vektor lesz. Az index operátor jele a szögletes zárójel (<code>[]</code>) az R-ben, amit a vektor neve után kell írnunk. Vektorok indexelésének általános alakja:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb143-1"><a href="az-r-nyelv.html#cb143-1" aria-hidden="true" tabindex="-1"></a>vektor<span class="co">[</span><span class="ot">indexvektor</span><span class="co">]</span>        # az eredmény egy vektor</span></code></pre></div>
<p>Az indexvektor lehet numerikus, karakteres és logikai vektor is. Nézzük ezeket sorban.</p>
<div id="indexelés-numerikus-vektorokkal" class="section level5" number="5.3.3.8.1">
<h5>
<span class="header-section-number">5.3.3.8.1</span> Indexelés numerikus vektorokkal<a class="anchor" aria-label="anchor" href="#indexel%C3%A9s-numerikus-vektorokkal"><i class="fas fa-link"></i></a>
</h5>
<p>Kezdjük egy 10 elemű <code>x</code> vektor létrehozásával.</p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>; <span class="va">x</span></span>
<span><span class="co">#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</span></span></code></pre></div>
<p>Megfigyelhetjük, hogy az <code>x</code> vektor 1. eleme 11, a 2. a 12, az utolsó, a 10. pedig éppen 20. Ebben a felsorolásban az elemek sorszámai (1., 2., 10.) pontosan a vektor indexeit jelentik. A vektor indexelése tehát 1-gyel kezdődik, ez az 1. elem indexe, a 2. elem indexe 2, az utolsó elemé pedig 10. Ha az index operátorba egy ilyen egyszerű sorszámot írunk, akkor a vektor adott indexű elemét érhetjük el.</p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>     <span class="co"># x vektor 1. eleme</span></span>
<span><span class="co">#&gt; [1] 11</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>     <span class="co"># x vektor 2. eleme</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">10</span><span class="op">]</span>    <span class="co"># x vektor 10. eleme</span></span>
<span><span class="co">#&gt; [1] 20</span></span></code></pre></div>
<p>Nem csak lekérdezhetjük, hanem az értékadó operátor segítségével módosíthatjuk is valamelyik elemet.</p>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span>       <span class="co"># x 2. elemének módosítása</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">*</span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>    <span class="co"># x 3. elemének módosítása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;  [1]  11 100 200  14  15  16  17  18  19  20</span></span></code></pre></div>
<p>Itt először a második elemet 100-ra cseréljük, majd a harmadikat a második kétszeresére. A változást ellenőrizhetjük a konzolban.</p>
<p>Ha az <code>x</code> vektort az elemszámánál nagyobb indexszel próbáljuk elérni, akkor <code>NA</code> értéket kapunk:</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">11</span><span class="op">]</span>     <span class="co"># x csak 10 elemű, a 11. nem létező elem</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Vektorokat azonban nem csak egy elemű indexvektorokkal indexelhetünk, hanem két vagy több elemű numerikus vektorokat is használhatunk. Ebben az esetben az indexvektorban felsorolt sorszámoknak megfelelő indexű elemeket érhetjük el.</p>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span> </span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span>               <span class="co"># x vektor 1., 3. és 5. eleme</span></span>
<span><span class="co">#&gt; [1] 11 13 15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span>            <span class="co"># x vektor 3., 5., 3. és 1. eleme</span></span>
<span><span class="co">#&gt; [1] 13 15 13 11</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>                      <span class="co"># x vektor 3., 4., 5. és 6. eleme</span></span>
<span><span class="co">#&gt; [1] 13 14 15 16</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">y</span><span class="op">]</span>                        <span class="co"># x vektor 3. és 7. eleme</span></span>
<span><span class="co">#&gt; [1] 13 17</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">2</span>, to<span class="op">=</span><span class="fl">10</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="co"># x vektor páros indexű elemei  </span></span>
<span><span class="co">#&gt; [1] 12 14 16 18 20</span></span></code></pre></div>
<p>A fenti példákban látható, hogy az indexelés során létrejött vektorok elemszáma az indexvektor elemszámával egyenlő. Egy indexet akár többször is felsorolhatunk, és tetszőleges sorrend megengedett. A szögletes zárójelben lévő indexvektort helyben is elkészíthetjük a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> és <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvénnyel (vagy bármilyen más vektorlétrehozó függvénnyel), vagy a kettőspont (<code>:</code>) operátorral, de korábban létrehozott objektumot is használhatunk indexelésre (<code>x[y]</code>).</p>
<p>Az indexelés során több vektorelemet egy lépésben is tudunk módosítani. Az indexelt elemek kaphatnak azonos vagy különböző értéket. Itt is a vektoraritmetika szabályai működnek.</p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>           </span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">120</span>, <span class="fl">130</span><span class="op">)</span> <span class="co"># x 1., 2. és 3. elemét módosítjuk</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>                <span class="co"># x 4., 5. és 6. elemét módosítjuk</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">170</span>, <span class="fl">180</span><span class="op">)</span>      <span class="co"># x 7., 8. és 9. elemét módosítjuk</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;  [1] 110 120 130   0   0   0 170 180 170  20</span></span></code></pre></div>
<p>A fenti példában az <code>x</code> vektor három-három elemét módosítjuk az egyes értékadások során. Az értékadó operátor (<code>&lt;-</code>) engedelmeskedik a vektoraritmetika szabályainak, azaz az értékadás bal és jobb oldalán szereplő vektorokat tekinthetjük két olyan vektornak, amelyek között műveletet szeretnénk végrehajtani. Az első értékadásban azonos elemszámú a két vektor, a koordinátánkénti értékadás azonnal megtörténik (<code>x[c(1, 2, 3)] &lt;- c(110, 120, 130)</code>). A másik két értékadásban különbözik a két vektor elemszáma, így először ismétléssel kiegészül a jobb oldali, rövidebbik vektor, majd ezután következhet a koordinátánkénti végrehajtás.</p>
<p>Egy vektor indexe mindig egész szám, de az R megengedi, hogy tört értékeket tartalmazó indexvektort szerepeltessünk az index operátorban, ekkor az egész részét veszi az indexeknek, egyszerűen csonkolja őket.</p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2.3</span><span class="op">]</span>       <span class="co"># x 2. eleme</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2.8</span><span class="op">]</span>       <span class="co"># x 2. eleme</span></span>
<span><span class="co">#&gt; [1] 12</span></span></code></pre></div>
<p>Negatív értékeket tartalmazó numerikus vektorral is indexelhetünk, ekkor a negatív előjellel megadott sorszámokon kívül az összes többi elemet tudjuk elérni vagy módosítani.</p>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fl">3</span><span class="op">]</span>                         <span class="co"># minden x elem, kivéve a 3.</span></span>
<span><span class="co">#&gt; [1] 11 12 14 15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span>                   <span class="co"># minden x elem, kivéve az 1. és az 5.</span></span>
<span><span class="co">#&gt; [1] 12 13 14</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span>                     <span class="co"># minden x elem, kivéve az első 3</span></span>
<span><span class="co">#&gt; [1] 14 15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>                    <span class="co"># minden x elem módosul, kivéve a 2.      </span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1]  0 12  0  0  0</span></span></code></pre></div>
</div>
<div id="indexelés-karaketeres-vektorokkal" class="section level5" number="5.3.3.8.2">
<h5>
<span class="header-section-number">5.3.3.8.2</span> Indexelés karaketeres vektorokkal<a class="anchor" aria-label="anchor" href="#indexel%C3%A9s-karaketeres-vektorokkal"><i class="fas fa-link"></i></a>
</h5>
<p>Amennyiben egy vektor elemei rendelkeznek névvel, akkor karakteres indexvektorokat is használhatunk az indexeléshez. Ez meglehetősen nagy könnyebbséget jelent, ugyanis nem kell ismernünk a kívánt elem pozícióját, azaz indexét, elegendő fejben tartanunk az elem nevét. Vegyük példaként a tanulók matematika versenyen elért pontszámait tartalmazó vektort.</p>
<div class="sourceCode" id="cb152"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Peti'</span><span class="op">=</span><span class="fl">35</span>, <span class="st">'Bori'</span><span class="op">=</span><span class="fl">37</span>, <span class="st">'Éva'</span><span class="op">=</span><span class="fl">33</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="st">"Bori"</span><span class="op">]</span>                              <span class="co"># x "Bori" nevű eleme</span></span>
<span><span class="co">#&gt; Bori </span></span>
<span><span class="co">#&gt;   37</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Peti"</span>, <span class="st">"Éva"</span><span class="op">)</span><span class="op">]</span>                    <span class="co"># x "Peti" és "Éva" nevű eleme</span></span>
<span><span class="co">#&gt; Peti  Éva </span></span>
<span><span class="co">#&gt;   35   33</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Peti"</span>, <span class="st">"Éva"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">36</span>, <span class="fl">34</span><span class="op">)</span>       <span class="co"># x fenti 2 elemének módosítása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; Peti Bori  Éva </span></span>
<span><span class="co">#&gt;   36   37   34</span></span></code></pre></div>
<p>Látható, hogy a kívánt elem eléréséhez, például Bori matematika teljesítményéhez nem kell ismernünk Bori pontszámának pozícióját, elegendő a névre emlékeznünk.</p>
</div>
<div id="indexelés-logikai-vektorokkal" class="section level5" number="5.3.3.8.3">
<h5>
<span class="header-section-number">5.3.3.8.3</span> Indexelés logikai vektorokkal<a class="anchor" aria-label="anchor" href="#indexel%C3%A9s-logikai-vektorokkal"><i class="fas fa-link"></i></a>
</h5>
<p>Vektorok indexeléséhez logikai vektorokat is használhatunk. Első pillanatban kényelmetlennek, sőt feleslegesnek tűnik ez a lehetőség, de a következő fejezetben, a vektorok szűrésénél, magunk is meggyőződhetünk e módszer káprázatos erejéről</p>
<p>A logikai indexvektor működése nagyon egyszerű. Hossza az indexelendő vektor hosszával egyenlő, és a <code>TRUE</code> logikai értékkel jelezzük, hogy az adott pozíción lévő elemet el akarjuk érni, a <code>FALSE</code> értékkel pedig azt, hogy nincs szükség arra az elemre.</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span>    <span class="co"># x vektor 1., 3., és 4. eleme    </span></span>
<span><span class="co">#&gt; [1] 11 13 14</span></span></code></pre></div>
<p>A fenti példában <code>TRUE</code> szerepel az 1., 3. és 4. pozícióban, így az <code>x</code> vektor 1., 3. és 4. elemeit érhetjük el.</p>
<p>Az indexelésre használt logikai vektor elemszáma kisebb is lehet, mint az indexelt vektor hossza, ekkor az R az indexvektor ismétlésével kapja meg a kívánt hosszt.</p>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span>      <span class="co"># x vektor 1., 3. és 5. eleme</span></span>
<span><span class="co">#&gt; [1] 11 13 15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="cn">T</span><span class="op">]</span>            <span class="co"># x vektor összes eleme</span></span>
<span><span class="co">#&gt; [1] 11 12 13 14 15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="cn">F</span><span class="op">]</span>            <span class="co"># x vektor egyik eleme sem</span></span>
<span><span class="co">#&gt; integer(0)</span></span></code></pre></div>
<p>A <code>c(T, F)</code> vektor két elemű, az indexelendő <code>x</code> viszont 5 hosszú, így az R ismétléssel előállítja a <code>c(T, F, T, F, T)</code> öt elemű vektort, és ezt használja az <code>x</code> indexeléséhez. Ha a csupa <code>TRUE</code> értékű vektorral indexelünk, akkor az <code>x</code> vektor összes elemét megkapjuk, ha pedig a csupa <code>FALSE</code> értékkel, akkor az üres vektort kapjuk. Az <code>integer(0)</code> az üres integer vektort jelöli.</p>
<p>A logikai vektorral indexelt vektorelemeket ugyanúgy módosíthatjuk, mint korábban a numerikus és karakteres indexvektorok esetén.</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>                    <span class="co"># x vektor 1., 3. és 5. elemét módosítjuk</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">140</span><span class="op">)</span> <span class="co"># x vektor 2. és 4. elemét módosítjuk</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1]   0 120   0 140   0</span></span></code></pre></div>
</div>
<div id="indexelesspecna" class="section level5" number="5.3.3.8.4">
<h5>
<span class="header-section-number">5.3.3.8.4</span> Indexelés speciális értékekkel<a class="anchor" aria-label="anchor" href="#indexelesspecna"><i class="fas fa-link"></i></a>
</h5>
<p>Az indexelésnek van néhány speciális esete, amelyet érdemes ismernünk. Vektorok indexelése során az indexoperátor üresen is maradhat, ekkor a vektor összes elemét elérhetjük, vagyis az <code>x</code> és <code>x[]</code> kifejezések ugyanazt az outputot adják.</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">]</span>           <span class="co"># x minden eleme</span></span>
<span><span class="co">#&gt; [1] 11 12 13 14 15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="cn">NaN</span><span class="op">]</span>        <span class="co"># egyetlen NA</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="cn">NA</span><span class="op">]</span>         <span class="co"># x elemszámának megfelelő NA   </span></span>
<span><span class="co">#&gt; [1] NA NA NA NA NA</span></span></code></pre></div>
<p>A fenti példákból kiolvasható, hogy a <code>NaN</code> és <code>NA</code> indexként való használata egyetlen <code>NA</code>-t, vagy az <code>x</code> hosszának megfelelő számú hiányzó értéket szolgáltat.</p>
<p>Legyünk óvatosak, ha az indexvektor tartalmaz <code>NA</code> értéket, akkor az eredménybe azon a pozíción szintén <code>NA</code> fog bekerülni.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span>          <span class="co"># x 1. eleme, NA és x 2. eleme</span></span>
<span><span class="co">#&gt; [1] 11 NA 12</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span>   <span class="co"># x 1. és 2. elemének módosítása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] 100 100  13  14  15</span></span></code></pre></div>
<p>Kerüljük az értékadást <code>NA</code>-t tartalmazó indexvektor használata esetén. A fenti példában az értékadás ugyan nem jelez hibát, és ellenőrizhetjük, hogy valóban megtörtént az első két vektorelem módosítása. Azonban az értékadás jobb oldalán a több elemű vektor már nem engedélyezett, például az <code>x[c(1, NA, 2)] &lt;- c(100, 200)</code> értékadás hibaüzenethez vezet. Összefoglalva, minden esetben ellenőrizzük, hogy az indexvektorunk tartalmaz-e <code>NA</code> hiányzó értéket.</p>
</div>
</div>
<div id="vektor-szűrése" class="section level4" number="5.3.3.9">
<h4>
<span class="header-section-number">5.3.3.9</span> Vektor szűrése<a class="anchor" aria-label="anchor" href="#vektor-sz%C5%B1r%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Eddig a vektorok elemeit pozíciójuk alapján értük el. Akár sorszámot, elemnevet vagy megfelelő pozícióban lévő logikai igaz/hamis értéket használtunk indexelésre, végső soron az számított, hogy az adott elem hol található a vektorelemek egydimenziós sorában. Ebben a fejezetben egy teljes más kiinduló pontot használunk a vektorelemek elérésére és ez a vektor tartalma lesz, vagyis a vektorelem konkrét értéke (és nem a pozíciója).</p>
<p>Bővítsük ki a matematika pontszámokat tartalmazó vektorunkat, rögzítsük hat tanuló eredményét.</p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Peti'</span><span class="op">=</span><span class="fl">35</span>, <span class="st">'Bori'</span><span class="op">=</span><span class="fl">37</span>, <span class="st">'Éva'</span><span class="op">=</span><span class="fl">33</span>, <span class="st">'Pál'</span><span class="op">=</span><span class="fl">21</span>, <span class="st">'Gergő'</span><span class="op">=</span><span class="fl">34</span>, <span class="st">'Ili'</span><span class="op">=</span><span class="fl">40</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;  Peti  Bori   Éva   Pál Gergő   Ili </span></span>
<span><span class="co">#&gt;    35    37    33    21    34    40</span></span></code></pre></div>
<p>Ha arra vagyunk kíváncsiak, hogy kik értek el 36 pontnál többet a versenyen és milyen pontszámokkal, akkor rövid áttekintés után megadhatjuk a választ, sőt a pozíció alapján könnyen elvégezhetjük az alábbi indexeléseket is.</p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span>               <span class="co"># indexelés numerikus vektorral</span></span>
<span><span class="co">#&gt; Bori  Ili </span></span>
<span><span class="co">#&gt;   37   40</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bori"</span>, <span class="st">"Ili"</span><span class="op">)</span><span class="op">]</span>      <span class="co"># indexelés karakteres vektorral</span></span>
<span><span class="co">#&gt; Bori  Ili </span></span>
<span><span class="co">#&gt;   37   40</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span>   <span class="co"># indexelés logikai vektorral</span></span>
<span><span class="co">#&gt; Bori  Ili </span></span>
<span><span class="co">#&gt;   37   40</span></span></code></pre></div>
<p>A fenti sorok az eddigiekhez képest semmilyen újdonságot nem tartalmaznak, lényegében összefoglalják a pozíció alapú indexelésről tanultakat. Felmerülhet bennünk a kérdés, ha <code>x</code> nem hat elemű, hanem 60 vagy esetleg 600, akkor mennyi esélyünk lenne az indexelt kifejezések előállítására. Nem sok.</p>
<p>Adódik azonban egy másik lehetőség, amely közvetlenül abból indul ki, hogy a 36 pontnál nagyobb vektorelemeket keressük. Logikai művelettel ezt a következőképp fogalmazhatjuk meg.</p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">36</span>        <span class="co"># relációs művelet, logikai vektort eredményez</span></span>
<span><span class="co">#&gt;  Peti  Bori   Éva   Pál Gergő   Ili </span></span>
<span><span class="co">#&gt; FALSE  TRUE FALSE FALSE FALSE  TRUE</span></span></code></pre></div>
<p>Korábban láttuk, hogy ez a művelet a vektoraritmetikai szabályainak engedelmeskedve két lépésben értelmezhető: (1) mivel különböző elemhosszú a két vektor, <code>x</code> hat elemű, a 36 egy elemű, először a jobb oldal is hat elemű lesz (<code>c(36, 36, 36, 36, 36, 36)</code>), majd (2) koordinátánként a relációs művelet végrehajtásra kerül, azaz <code>x</code> minden eleméről döntés születik, hogy nagyobb-e, mint 36. A relációs művelet eredménye egy hat elemű logikai vektor, amely pontosan ott <code>TRUE</code>, ahol az illető <code>x</code> elem nagyobb 36-nál, minden más helyen pedig <code>FALSE</code>. Esetünkben a Bori és Ili elemeknél jelenik meg a <code>TRUE</code>, vagyis a 2. és 6. pozícióban. Vegyük észre, hogy ez pontosan az a logikai vektor, mint amit korábban hoztunk létre a pozíció alapú indexelés egyik példájaként (<code>x[c(F, T, F, F, F, T)]</code>).</p>
<p>A relációs művelet eredményét, mint logikai vektort, kiválóan fel tudjuk használni az indexelésben a 36 pontnál nagyobb vektorelemek eléréséhez.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">36</span><span class="op">]</span>       <span class="co"># x vektor szűrése (36-nál nagyobb elemek leválogatása)</span></span>
<span><span class="co">#&gt; Bori  Ili </span></span>
<span><span class="co">#&gt;   37   40</span></span></code></pre></div>
<p>A fenti sor az első példa szűrésre. A szűrés lényegében logikai vektorral való indexelés, ahol a logikai indexvektort egy olyan logikai kifejezés állítja elő, amely hivatkozik a vektor tartalmára. A definíciót értelmezve a példára: a logikai vektor, amely alapján az indexelés történik a <code>c(F, T, F, F, F, T)</code>, a logikai kifejezés, amely ezt előállítja az <code>x&gt;36</code>, a vektor tartalmára pedig természetesen az <code>x</code> objektumnévvel utalunk a logikai kifejezésen belül.</p>
<p>A szűrés nagyszerűen kezeli a vektorhosszal kapcsolatban korábban felvetett problémánkat. Ha az <code>x</code> nem hat, hanem 60 vagy 600 elemű, akkor is az <code>x[x&gt;36]</code> végzi a 36-nál nagyobb elemek leválogatását.</p>
<p>Próbáljuk ki a szűrést nagyobb elemszám esetén is. Generáljunk 60 véletlen értékeket a 0-40 értéktartományból, úgy mintha 60 tanuló matematika pontszáma állna rendelkezésre. A <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> függvény az <code>x=</code> argumentumában megadott értékekből, a <code>size=</code>-ban megadott darabszámnyit állít elő. A <code>replace=T</code> argumentummal gondoskodunk arról, hogy egy érték többször is szerepelhessen az eredményvektorban.</p>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pontszamok</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">40</span>, size <span class="op">=</span> <span class="fl">60</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="co"># véletlen értékek</span></span>
<span><span class="va">pontszamok</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>               <span class="co"># vektor első 10 eleme</span></span>
<span><span class="co">#&gt;  [1]  7 37 22  1 20 16  6 36 20 26</span></span>
<span><span class="va">pontszamok</span><span class="op">[</span><span class="va">pontszamok</span> <span class="op">&gt;</span> <span class="fl">36</span><span class="op">]</span>    <span class="co"># vektor szűrése</span></span>
<span><span class="co">#&gt; [1] 37 39 37 37 40 38 39 37</span></span></code></pre></div>
<p>A <code>pontszamok</code> vektor 60 elemű, az első 10 értékét a képernyőn láthatjuk. A 36-nál nagyobb elemek megjelenítését szűréssel végeztük. Látható, hogy a szűrés nem lett bonyolultabb a vektor hosszának növekedésével.</p>
<p>Más relációs operátorokat (<a href="az-r-nyelv.html#tab:reloperatorok">5.6</a>. táblázat) is használhatunk a szűrésben, sőt logikai operátorok (<a href="az-r-nyelv.html#tab:logoperatorok">5.7</a>. táblázat) segítségével tetszőleges természetes nyelven megfogalmazott feltételt át tudunk fordítani R logikai kifejezésbe. A logikai operátorokat tartalmazó logikai kifejezéseket <em>összetett logikai kifejezés</em>eknek nevezzük. Írassuk ki a pontszámokat 36 és 39 között, majd 3 és 6 között, és végül mindezeket együtt.</p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pontszamok</span><span class="op">[</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">36</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">39</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 37 36 39 37 37 38 39 37</span></span>
<span><span class="va">pontszamok</span><span class="op">[</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">6</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 6 3 3 6</span></span>
<span><span class="va">pontszamok</span><span class="op">[</span><span class="op">(</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">36</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">39</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">6</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;  [1] 37  6 36 39 37  3  3 37  6 38 39 37</span></span></code></pre></div>
<p>Időnként szükségünk lehet arra az információra, hogy a vektorban melyik pozícióban vannak a feltételnek eleget tevő vektorelemek. Erre a feladatra a <code><a href="https://rdrr.io/r/base/which.html">which()</a></code> függvényt használhatjuk. A <code><a href="https://rdrr.io/r/base/which.html">which()</a></code> függvény bemenő paraméterként egy logikai vektort vár, visszatérési értéke pedig a <code>TRUE</code> logikai értékek indexe lesz.</p>
<p>Térjünk vissza a matematika pontszámokhoz.</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Peti'</span><span class="op">=</span><span class="fl">35</span>, <span class="st">'Bori'</span><span class="op">=</span><span class="fl">37</span>, <span class="st">'Éva'</span><span class="op">=</span><span class="fl">33</span>, <span class="st">'Pál'</span><span class="op">=</span><span class="fl">21</span>, <span class="st">'Gergő'</span><span class="op">=</span><span class="fl">34</span>, <span class="st">'Ili'</span><span class="op">=</span><span class="fl">40</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">36</span><span class="op">)</span>             <span class="co"># hol vannak 36-nál nagyobb elemek</span></span>
<span><span class="co">#&gt; Bori  Ili </span></span>
<span><span class="co">#&gt;    2    6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fl">36</span> <span class="op">&lt;=</span> <span class="va">x</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">39</span><span class="op">)</span>  <span class="co"># hol vannak 36-39 közötti elemek</span></span>
<span><span class="co">#&gt; Bori </span></span>
<span><span class="co">#&gt;    2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="fl">21</span><span class="op">)</span>            <span class="co"># hol van a 21-es elem</span></span>
<span><span class="co">#&gt; Pál </span></span>
<span><span class="co">#&gt;   4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">!=</span> <span class="fl">21</span><span class="op">)</span>            <span class="co"># hol van nem 21-es elem</span></span>
<span><span class="co">#&gt;  Peti  Bori   Éva Gergő   Ili </span></span>
<span><span class="co">#&gt;     1     2     3     5     6</span></span></code></pre></div>
<p>Az outputokban nem látjuk a tanulók pontszámát, tehát nem a szűrés a <code><a href="https://rdrr.io/r/base/which.html">which()</a></code> célja, azoknak a vektorelemeknek az indexét látjuk, amelyek az egyszerű vagy összetett logikai kifejezéseknek eleget tesznek.</p>
<p>Végezetül tekintsük át a szűrés és az értékadás kapcsolatát. Az adatelemzés során előfordulhat, hogy bizonyos feltételnek eleget tevő elemeket módosítani szeretnénk. Például, ha egy vektorban előzetesen a hiányzó értékeket 99-cel jelöljük, akkor a későbbi hibamentes elemzéshez <code>NA</code>-ra kell módosítanunk ezeket az értékeket.</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">11</span>, <span class="fl">3</span>, <span class="fl">99</span>, <span class="fl">4</span>, <span class="fl">99</span><span class="op">)</span>   <span class="co"># nyers vektor, a 99 jelentése hiányzó érték</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">==</span> <span class="fl">99</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span>           <span class="co"># 99 átírása NA-ra</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] 11  3 NA  4 NA</span></span></code></pre></div>
<p>Az <code>x</code> így már helyes módon tartalmazza a hiányzó értékeket. Ha esetleg később kiderül ezeknek az elemeknek a tényleges értéke, akkor az <code>NA</code>-t kell helyettesítenünk új értékekkel. Vigyázzunk, az <code>x == NA</code> kifejezés helytelen a hiányzó értékek tesztelésére, erre az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> függvényt kell használnunk.</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>    <span class="co"># hiányzó értékek módosítása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] 11  3  5  4  7</span></span></code></pre></div>
<p>Az <code>x</code> vektorban két hiányzó érték volt, így a fenti értékadás jobb oldalán két elemű vektort használunk. Ha mindkét hiányzó értéket azonos számmal szeretnénk felülírni, akkor elegendő lenne a <code>x[is.na(x)] &lt;- 7</code> kifejezés is.</p>
<p>Korábban már említettük a (<a href="az-r-nyelv.html#indexelesspecna">5.3.3.8.4</a>. alfejezetben, hogy kerüljük az értékadást <code>NA</code>-t tartalmazó indexvektor használata esetén. Azonban nem minden esetben tudunk kitérni az ilyen esetek elől. Növeljük meg a hiányzó értékeket tartalmazó <code>x</code> vektor azon elemeit 1-gyel, amelyek 36-nál kisebbek! A nyilvánvalónak látszó <code>x[x &lt; 36] &lt;- x[x &lt; 36] + 1</code> parancs helytelen, hibaüzenetet ad. Az értékadás mindkét oldalán a logikai kifejezésekhez fűzzük hozzá a <code>&amp; !is.na(x)</code> kifejezést, így tudjuk az <code>NA</code> értékeket eltávolítani az értékadás mindkét oldaláról.</p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">33</span>, <span class="cn">NA</span>, <span class="fl">32</span>, <span class="fl">38</span>, <span class="cn">NA</span>, <span class="fl">37</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">36</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">36</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span></span></code></pre></div>
</div>
<div id="vektor-rendezése" class="section level4" number="5.3.3.10">
<h4>
<span class="header-section-number">5.3.3.10</span> Vektor rendezése<a class="anchor" aria-label="anchor" href="#vektor-rendez%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Egy vektor elemeit növekvő vagy csökkenő sorrendbe rendezhetjük. Az R-ben a vektor elemeit a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> vagy az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvénnyel rendezhetjük.</p>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 5 4 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>               <span class="co"># x elemei növekvő sorrendben</span></span>
<span><span class="co">#&gt; [1] 1 2 3 3 4 4 5 5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span>, decreasing<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="co"># x elemei csökkenő sorrendben, vagy: rev(sort(x))</span></span>
<span><span class="co">#&gt; [1] 5 5 4 4 3 3 2 1</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> függvény alapértelmezés szerint növekvő sorrendbe rendezi a bemeneti vektort, ha azonban a <code>decreasing=</code> paramétert <code>TRUE</code>-ra állítjuk, csökkenő rendezést kapunk. A <code><a href="https://rdrr.io/r/base/rev.html">rev()</a></code> függvénnyel, amely a bementi vektor elemeit fordított sorrendben sorolja fel, szintén elérhetjük a csökkenő rendezettséget.</p>
<p>Ha a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> függvénnyel átrendezett vektort a továbbiakban fel szeretnénk használni, akkor azt érdemes új objektumban tárolni (<code>x.2 &lt;- sort(x)</code>).</p>
<p>A vektor rendezésének másik módja az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvényhez kapcsolódik. A visszatérési érték ekkor egy numerikus indexvektor, amellyel a bemenő vektort indexelve rendezett vektort kapunk.</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 5 4 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                    <span class="co"># indexekkel tér vissza</span></span>
<span><span class="co">#&gt; [1] 1 2 3 8 4 7 5 6</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span>                 <span class="co"># azonos a sort(x)-szel</span></span>
<span><span class="co">#&gt; [1] 1 2 3 3 4 4 5 5</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span>, decreasing<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">]</span>   <span class="co"># azonos a sort(x, decreasing=T)-val</span></span>
<span><span class="co">#&gt; [1] 5 5 4 4 3 3 2 1</span></span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény esetében is használhatjuk a <code>decreasing=</code> paramétert, amellyel csökkenő sorrendbe rendezhetjük a vektorunkat.</p>
<p>A numerikus vektorokon túl a karakteres és logikai vektorokat is sorba rendezhetjük a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> és <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvényekkel.</p>
</div>
<div id="az-r-nyelv-5-summary" class="section level4" number="5.3.3.11">
<h4>
<span class="header-section-number">5.3.3.11</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-5-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
Gratulálunk! Maratoni alfejezetünk végigolvasásával jelentős lépést
tett meg az Olvasó a magabiztos R ismeretek megszerzéséhez. A vektor
minden adatelemzési munka alapja, biztos kezelése kulcsfontosságú.
Tetszőleges vektor létrehozásához a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvényt
használhatjuk, és az elemeket akár nevesíthetjük is. Szabályos vektort a
<code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code>, <code><a href="https://rdrr.io/r/base/seq.html">seq_along()</a></code>, <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> és a
<code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code> függvénnyel, vagy a kettőspont (<code>:</code>)
operátorral készíthetünk. Megbeszéltük a vektorok közötti műveletek
végrehajtásának fő szabályát: ismétléssel hozzuk azonos hosszra a
vektorokat ha szükséges, majd koordinátánként végezzük el a kívánt
műveletet. A vektorokat támogatják a matematikai függvények is, minden
vektorelemre meghívódik a függvény. A statisztikai függvények szintén
vektort várnak, de többnyire egy értéket szolgáltatnak. A vektorok
típusának tesztelése az <code>is.<em>()</em></code>, a konvertálása pedig az
<code>as.()</code> függvényekkel történik. A vektorok indexelésével
(<code>vektor[indexvektor]</code>) a vektor elemeit pozíció alapján, a
vektorok szűrésével (<code>vektor[logikai-indexvektor]</code>) a vektor
elemeit érték alapján érhetjük el vagy módosíthatjuk. A vektorok
rendezését a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> és az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvénnyel
is elvégezhetjük.
</p>
</div>
</div>
<div id="az-r-nyelv-5-exercise" class="section level4" number="5.3.3.12">
<h4>
<span class="header-section-number">5.3.3.12</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-5-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzuk létre a következő numerikus vektort: 12, 14, 17.</li>
<li>Hozzuk létre a következő karakteres vektort: “Vác”, “Eger”, “Pécs”.</li>
<li>Hozzuk létre a következő logikai vektort: TRUE, FALSE, FALSE.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 8, az utolsó 102 és a különbség 1.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 102, az utolsó 8 és a különbség -1.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 8, az utolsó 102 és a különbség 2.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 8, a különbség 3 és a vektor 25 elemű.</li>
<li>Hozzuk létre azt a numerikus vektort, amely 12 elemű, és minden elemének -2 az értéke!</li>
<li>Hozzuk létre azt a karakteres vektort, amely 7 elemű, és minden elemének “Péntek” az értéke!</li>
<li>Hozzuk létre azt a logikai vektort, amely 7 elemű, és minden elemének TRUE az értéke!</li>
<li>Hozzuk létre azt a numerikus vektort, amely a 2, 3, 5 elemeket háromszor egymás után megismétli! Hány elemű az így létrejött vektor?</li>
<li>Hozzuk létre azt a numerikus vektort, amely a 2, 3, 5 elemeket háromszor helyben megismétli! Hány elemű az így létrejött vektor?</li>
<li>Hozzuk létre azt a numerikus vektort, amely a 2, 3, 5 elemeket helyben megismétli úgy, hogy a 2-őt 4-szer, a 3-at 5-ször és az 5-öt 7-szer ismétli meg! Hány elemű az így létrejött vektor?</li>
<li>Szabályos vektorok létrehozásának van egy korábban még nem említett módja: a <code><a href="https://rdrr.io/r/base/sequence.html">sequence()</a></code> függvény. Ismerjük meg a súgóból ezt a függvényt, és értelmezzük a <code>sequence(4)</code> és <code>sequence(c(4,5))</code> függvényhívásokat!</li>
<li>Vektorok létrehozásának számos módját megismertük ebben a fejezetben, de elemek megadása nélkül, vagy akár nulla hosszúsággal is létrehozhatunk vektort. A <code><a href="https://rdrr.io/r/base/double.html">double()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">integer()</a></code>, <code><a href="https://rdrr.io/r/base/character.html">character()</a></code> és <code><a href="https://rdrr.io/r/base/logical.html">logical()</a></code> függvények közvetlenül az adott típusnak megfelelő vektort hozzák létre. A súgó tanulmányozásával állítsunk elő 0 és 10 elemű vektor objektumokat mind a négy típus esetén.</li>
<li>Próbáljuk ki az <a href="az-r-nyelv.html#tab:statfuggvenyek">5.9</a>. táblázatban szereplő példákat.</li>
<li>Hozzuk létre a <code>'Peti'=5, 'Bori'=NA, 'Éva'=3, 'Pál'=NA, 'Gergő'=5, 'Ili'=4</code> adatokat tartalmazó vektort, majd rendezzük, indexeljük az első és az utolsó elemét, válogassuk le az 5-ös értékeket, csökkentsük mindegyik értéket 1-gyel, csak az 5-öket csökkentsük 1-gyel.</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-5-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="mátrix" class="section level3" number="5.3.4">
<h3>
<span class="header-section-number">5.3.4</span> Mátrix<a class="anchor" aria-label="anchor" href="#m%C3%A1trix"><i class="fas fa-link"></i></a>
</h3>
<p>A mátrix adatszerkezet egyetlen lényeges dologban különbözik a vektortól: a mátrix kétdimenziós, sorokba és oszlopokba szervezi az elemeket, míg a vektor egydimenziós (érdemes visszalapozni a <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a>. ábrához). A mátrix ugyanúgy homogén, mint a vektor, ennek megfelelően beszélünk <em>double</em>, <em>integer</em>, <em>karakteres</em> és <em>logikai</em> mátrixokról.</p>
<div id="mátrix-létrehozása" class="section level4" number="5.3.4.1">
<h4>
<span class="header-section-number">5.3.4.1</span> Mátrix létrehozása<a class="anchor" aria-label="anchor" href="#m%C3%A1trix-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Mátrix létrehozásához a <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvényt használjuk, amely egy kiinduló vektor elemeit használja fel a mátrix feltöltéséhez. A <code>data=</code> argumentumban kell megadnunk a kiinduló vektort, majd az <code>nrow=</code> és/vagy <code>ncol=</code> argumentumokban közöljük a sorok és oszlopok számát.</p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow<span class="op">=</span><span class="fl">4</span><span class="op">)</span>        <span class="co"># 4x5-ös integer mátrix</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9   13   17</span></span>
<span><span class="co">#&gt; [2,]    2    6   10   14   18</span></span>
<span><span class="co">#&gt; [3,]    3    7   11   15   19</span></span>
<span><span class="co">#&gt; [4,]    4    8   12   16   20</span></span></code></pre></div>
<p>A fenti példában a 20 elemű vektort 4 sorban rendezi el a <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvény, ennek megfelelően 5 oszlopos lesz az <code>x</code> mátrix. A <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvényben az <code>ncol=</code> paraméter is használható.</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span>        <span class="co"># 4x5-ös integer mátrix</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9   13   17</span></span>
<span><span class="co">#&gt; [2,]    2    6   10   14   18</span></span>
<span><span class="co">#&gt; [3,]    3    7   11   15   19</span></span>
<span><span class="co">#&gt; [4,]    4    8   12   16   20</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">10</span><span class="op">)</span>       <span class="co"># 4x10-es integer mátrix</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9   13   17    1    5    9   13    17</span></span>
<span><span class="co">#&gt; [2,]    2    6   10   14   18    2    6   10   14    18</span></span>
<span><span class="co">#&gt; [3,]    3    7   11   15   19    3    7   11   15    19</span></span>
<span><span class="co">#&gt; [4,]    4    8   12   16   20    4    8   12   16    20</span></span></code></pre></div>
<p>Az <code>ncol=5</code> szerepeltetése nem jelent változást az előző példához képest, az <code>x</code> mátrix 4 sort és 5 oszlopot fog tartalmazni, rövidebben 4 <span class="math inline">\(\times\)</span> 5-ös. A következő sorban az <code>ncol=10</code> argumentum már egy 40 elemű mátrix létrehozását kezdeményezi (4 <span class="math inline">\(\times\)</span> 10-es), így az <code>1:20</code> vektor ismétlésével állnak elő a szükséges elemek. (Figyelmeztetést kapunk, ha a szükséges mátrixelemszám eléréséhez nem egész számszor kell ismételni a kiinduló vektort, de a mátrix ebben az esetben is létre fog jönni.)</p>
<p>A fenti példában azt is megfigyelhetjük, hogy a 20 elemű vektorból oszlop-folytonosan jön létre a mátrix, vagyis először az első oszlop töltődik fel a vektorelemekkel, majd a második, és így tovább. Ha sor-folytonosan szeretnénk a bemenő vektor elemeiből mátrixot képezni, akkor a <code>byrow=</code> paramétert igazra kell állítanunk.</p>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">3</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>  <span class="co"># 3x4-es integer mátrix, sor-folytonosan</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span><span class="co">#&gt; [1,]    1    2    3    4</span></span>
<span><span class="co">#&gt; [2,]    5    6    7    8</span></span>
<span><span class="co">#&gt; [3,]    9   10   11   12</span></span></code></pre></div>
<p>Mátrixot karakteres vagy logikai értékekből is építhetünk.</p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"az"</span>,<span class="st">"egy"</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">3</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="co"># 2x3-as karakteres mátrix</span></span>
<span><span class="co">#&gt;      [,1]  [,2]  [,3] </span></span>
<span><span class="co">#&gt; [1,] "az"  "egy" "az" </span></span>
<span><span class="co">#&gt; [2,] "egy" "az"  "egy"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>,<span class="cn">F</span>,<span class="cn">T</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">6</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>      <span class="co"># 2x6-os logikai mátrix   </span></span>
<span><span class="co">#&gt;      [,1]  [,2] [,3] [,4]  [,5] [,6]</span></span>
<span><span class="co">#&gt; [1,] TRUE FALSE TRUE TRUE FALSE TRUE</span></span>
<span><span class="co">#&gt; [2,] TRUE FALSE TRUE TRUE FALSE TRUE</span></span></code></pre></div>
<p>Az előző fejezetben láttuk, hogy a vektorok elemeinek nevet is adhatunk, így olvashatóbbá tehetjük rögzített adatainkat. A <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvény <code>dimnames=</code> argumentumában az egyes sorok és oszlopok elnevezéséről, valamint a két dimenzió nevéről is gondoskodhatunk.</p>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span>, </span>
<span>      dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'1. dim. neve'</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sor.1"</span>, <span class="st">"sor.2"</span><span class="op">)</span>,</span>
<span>                      <span class="st">'2. dim. neve'</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"oszl.1"</span>, <span class="st">"oszl.2"</span>, <span class="st">"oszl.3"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;             2. dim. neve</span></span>
<span><span class="co">#&gt; 1. dim. neve oszl.1 oszl.2 oszl.3</span></span>
<span><span class="co">#&gt;        sor.1      0      0      0</span></span>
<span><span class="co">#&gt;        sor.2      0      0      0</span></span></code></pre></div>
<p>A <code>dimnames=</code> argumentum a dimenzió-, sor- és oszlopneveket listába rendezve várja. A listákról a <a href="az-r-nyelv.html#listadefalf">5.3.6</a>. fejezetben olvashatunk. A sor- és oszlopnevek megadásánál tartsuk be az objektumok elnevezésével kapcsolatos szabályokat, azaz betűvel kezdjünk, kerüljük a szóközt és egyéb írásjeleket, tagolásra a pontot használjuk.</p>
<p>Létező mátrix esetén a <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code> és a <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> függvényekkel tudjuk a sor- és oszlopneveket lekérdezni, illetve módosítani. Az egyes dimenziónevek módosítására a <code>names(dimnames(x))</code> konstrukciót használhatjuk.</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                           <span class="co"># sornevek lekérdezése</span></span>
<span><span class="co">#&gt; [1] "sor.1" "sor.2"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                           <span class="co"># oszlopnevek lekérdezése</span></span>
<span><span class="co">#&gt; [1] "oszl.1" "oszl.2" "oszl.3"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"eset.1"</span>, <span class="st">"eset.2"</span><span class="op">)</span>  <span class="co"># sornevek módosítása</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"o.1"</span>, <span class="st">"o.2"</span>, <span class="st">"o.3"</span><span class="op">)</span> <span class="co"># oszlopnevek módosítása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;             2. dim. neve</span></span>
<span><span class="co">#&gt; 1. dim. neve o.1 o.2 o.3</span></span>
<span><span class="co">#&gt;       eset.1   0   0   0</span></span>
<span><span class="co">#&gt;       eset.2   0   0   0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html">dimnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"esetek"</span>, <span class="st">"oszlopok"</span><span class="op">)</span> <span class="co"># dimenziónevek módosítása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;         oszlopok</span></span>
<span><span class="co">#&gt; esetek   o.1 o.2 o.3</span></span>
<span><span class="co">#&gt;   eset.1   0   0   0</span></span>
<span><span class="co">#&gt;   eset.2   0   0   0</span></span></code></pre></div>
</div>
<div id="mátrix-indexelése" class="section level4" number="5.3.4.2">
<h4>
<span class="header-section-number">5.3.4.2</span> Mátrix indexelése<a class="anchor" aria-label="anchor" href="#m%C3%A1trix-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>A mátrixok indexelése nagyon hasonló a vektorok indexeléséhez. Itt is az index operátort (<code>[]</code>) kell használnunk, de a két dimenzió miatt vesszővel választjuk el a sorra és az oszlopra vonatkozó indexeket. Mátrix indexelésének általános alakja:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb176-1"><a href="az-r-nyelv.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># mátrix indexelése, az eredmény egy mátrix vagy egy vektor</span></span>
<span id="cb176-2"><a href="az-r-nyelv.html#cb176-2" aria-hidden="true" tabindex="-1"></a>mátrix<span class="co">[</span><span class="ot">sor-indexvektor, oszlop-indexvektor</span><span class="co">]</span></span></code></pre></div>
<p>A sor-indexvektorra és az oszlop-indexvektorra ugyanazok a szabályok érvényesek, mint vektor esetén az indexvektorra. Használhatunk numerikus, karakteres és logikai egy vagy több elemű vektort, numerikus indexeknél negatív értéket, és természetesen el is hagyhatjuk az egyes dimenziók indexvektorait. Nézzünk ezekre néhány példát.</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">5</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">#&gt; [1,]    1    2    3    4    5</span></span>
<span><span class="co">#&gt; [2,]    6    7    8    9   10</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span>                 <span class="co"># 1 elem elérése, vektor output</span></span>
<span><span class="co">#&gt; [1] 8</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>            <span class="co"># 2 elem elérése, vektor output</span></span>
<span><span class="co">#&gt; [1] 6 9</span></span>
<span><span class="va">x</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>             <span class="co"># 4 elem elérése, 2x2-es mátrix output</span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    1    4</span></span>
<span><span class="co">#&gt; [2,]    6    9</span></span>
<span><span class="va">x</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>            <span class="co"># 6 elem elérése, 2x3-as mátrix output</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    2    3    5</span></span>
<span><span class="co">#&gt; [2,]    7    8   10</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>                  <span class="co"># 5 elem elérése, vektor output</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span>  <span class="co"># 6 elem elérése, 2x3-as mátrix output</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    6    8    9</span></span>
<span><span class="co">#&gt; [2,]    1    3    4</span></span></code></pre></div>
<p>A mátrix indexelése során a kapott új adatszerkezetek elveszthetik a kétdimenziós jellegüket és így mátrix helyett vektor is lehet az indexelés eredménye. Ha ezt el akarjuk kerülni, használjuk a <code>drop=FALSE</code> paramétert az indexben, ekkor minden esetben mátrix lesz az eredmény.</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>             <span class="co"># 1 elem elérése, 1x1-es mátrix output</span></span>
<span><span class="co">#&gt;      [,1]</span></span>
<span><span class="co">#&gt; [1,]    8</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>        <span class="co"># 2 elem elérése, 1x2-es mátrix output</span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    6    9</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, , drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>              <span class="co"># 5 elem elérése, 1x5-ös mátrix output</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">#&gt; [1,]    6    7    8    9   10</span></span>
<span><span class="va">x</span><span class="op">[</span>, <span class="fl">3</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>              <span class="co"># 2 elem elérése, 2x1-es mátrix output</span></span>
<span><span class="co">#&gt;      [,1]</span></span>
<span><span class="co">#&gt; [1,]    3</span></span>
<span><span class="co">#&gt; [2,]    8</span></span></code></pre></div>
<p>Amennyiben a mátrixunk sor- és oszlopnevekkel is rendelkezik, akkor ezeket is felhasználhatjuk az indexelés során.</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">5</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"eset1"</span>, <span class="st">"eset2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"v"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, sep<span class="op">=</span><span class="st">"."</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;       v.1 v.2 v.3 v.4 v.5</span></span>
<span><span class="co">#&gt; eset1   1   2   3   4   5</span></span>
<span><span class="co">#&gt; eset2   6   7   8   9  10</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="st">"eset1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"v.2"</span>, <span class="st">"v.1"</span><span class="op">)</span><span class="op">]</span>           <span class="co"># 2 elem elérése, vektor output</span></span>
<span><span class="co">#&gt; v.2 v.1 </span></span>
<span><span class="co">#&gt;   2   1</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"v.2"</span>, <span class="st">"v.1"</span><span class="op">)</span><span class="op">]</span>               <span class="co"># 4 elem elérése, 2x2-es mátrix</span></span>
<span><span class="co">#&gt;       v.2 v.1</span></span>
<span><span class="co">#&gt; eset1   2   1</span></span>
<span><span class="co">#&gt; eset2   7   6</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="st">"eset2"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"v"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, sep<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">]</span>  <span class="co"># 3 elem elérése, vektor</span></span>
<span><span class="co">#&gt; v.1 v.2 v.3 </span></span>
<span><span class="co">#&gt;   6   7   8</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="st">"eset1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>,<span class="cn">F</span><span class="op">)</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>            <span class="co"># 3 elem elérése, 1x3-as mátrix</span></span>
<span><span class="co">#&gt;       v.1 v.3 v.5</span></span>
<span><span class="co">#&gt; eset1   1   3   5</span></span></code></pre></div>
</div>
<div id="számítások-a-mátrix-soraiban-és-oszlopaiban" class="section level4" number="5.3.4.3">
<h4>
<span class="header-section-number">5.3.4.3</span> Számítások a mátrix soraiban és oszlopaiban<a class="anchor" aria-label="anchor" href="#sz%C3%A1m%C3%ADt%C3%A1sok-a-m%C3%A1trix-soraiban-%C3%A9s-oszlopaiban"><i class="fas fa-link"></i></a>
</h4>
<p>Az előző részben említettük, ha üresen hagyjuk a mátrix sor vagy oszlop pozícióját az indexelés során, akkor a mátrix teljes oszlopára vagy sorára tudunk hivatkozni, vagyis alapesetben vektort kapunk. Az így kapott vektorokkal tetszőleges műveleteket hajthatunk végre. Hozzunk létre egy 3 <span class="math inline">\(\times\)</span> 4-es mátrixot, amely 3 tanuló átlagát tartalmazza 4 tantárgyból.</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3.7</span>, <span class="fl">5.3</span>, <span class="fl">5.1</span>, <span class="fl">4.2</span>, <span class="fl">4.4</span>, <span class="fl">3.8</span>, <span class="fl">2.9</span>, <span class="fl">4.2</span>, <span class="fl">5.1</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>, </span>
<span>            nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">4</span>, byrow<span class="op">=</span><span class="cn">T</span>, </span>
<span>            dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Pál"</span>, <span class="st">"Ili"</span>, <span class="st">"Éva"</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"matek"</span>, <span class="st">"magyar"</span>, <span class="st">"angol"</span>, <span class="st">"ének"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;     matek magyar angol ének</span></span>
<span><span class="co">#&gt; Pál   3.7    5.3   5.1  4.2</span></span>
<span><span class="co">#&gt; Ili   4.4    3.8   2.9  4.2</span></span>
<span><span class="co">#&gt; Éva   5.1    4.0   3.0  5.0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span><span class="op">)</span>      <span class="co"># Pál féléves átlaga    </span></span>
<span><span class="co">#&gt; [1] 4.575</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span><span class="op">)</span>        <span class="co"># énekből a csoport átlaga </span></span>
<span><span class="co">#&gt; [1] 0.4618802</span></span></code></pre></div>
<p>Négy speciális függvénnyel az oszlopok és sorok összegét és átlagát számíthatjuk ki.</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>      <span class="co"># sorösszegek, a tanulók jegyeinek összege</span></span>
<span><span class="co">#&gt;  Pál  Ili  Éva </span></span>
<span><span class="co">#&gt; 18.3 15.3 17.1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowMeans</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>     <span class="co"># sorátlagok, a tanulók félév végi átlaga</span></span>
<span><span class="co">#&gt;   Pál   Ili   Éva </span></span>
<span><span class="co">#&gt; 4.575 3.825 4.275</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>      <span class="co"># oszlopösszegek, a tantárgyak jegyeinek összege</span></span>
<span><span class="co">#&gt;  matek magyar  angol   ének </span></span>
<span><span class="co">#&gt;   13.2   13.1   11.0   13.4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colMeans</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>     <span class="co"># oszlopátlagok, a tantárgyak átlaga</span></span>
<span><span class="co">#&gt;    matek   magyar    angol     ének </span></span>
<span><span class="co">#&gt; 4.400000 4.366667 3.666667 4.466667</span></span></code></pre></div>
<p>Általánosabb megoldás, ha az <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code> függvényt használjuk, amelyben a mátrix soraira vagy oszlopaira vonatkozó függvényt mi határozzuk meg, így az összegzésen és az átlagszámításon kívül más függvényeket is elérhetünk. Az <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code> első paramétere maga a mátrix, a második helyen pedig 1 vagy 2 áll, attól függően, hogy a mátrix soraira (1) vagy oszlopaira (2) akarjuk a harmadik paraméterben szereplő függvényt alkalmazni.</p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">mean</span><span class="op">)</span>    <span class="co"># sorátlagok, a tanulók félév végi átlaga</span></span>
<span><span class="co">#&gt;   Pál   Ili   Éva </span></span>
<span><span class="co">#&gt; 4.575 3.825 4.275</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">sd</span><span class="op">)</span>      <span class="co"># soronkénti szórások</span></span>
<span><span class="co">#&gt;       Pál       Ili       Éva </span></span>
<span><span class="co">#&gt; 0.7544314 0.6652067 0.9844626</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">min</span><span class="op">)</span>     <span class="co"># soronkénti minimumok</span></span>
<span><span class="co">#&gt; Pál Ili Éva </span></span>
<span><span class="co">#&gt; 3.7 2.9 3.0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="va">mean</span><span class="op">)</span>    <span class="co"># oszlopátlagok, a tantárgyak átlaga</span></span>
<span><span class="co">#&gt;    matek   magyar    angol     ének </span></span>
<span><span class="co">#&gt; 4.400000 4.366667 3.666667 4.466667</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="va">sd</span><span class="op">)</span>      <span class="co"># oszloponkénti szórások</span></span>
<span><span class="co">#&gt;     matek    magyar     angol      ének </span></span>
<span><span class="co">#&gt; 0.7000000 0.8144528 1.2423097 0.4618802</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="va">min</span><span class="op">)</span>     <span class="co"># oszloponkénti minimumok</span></span>
<span><span class="co">#&gt;  matek magyar  angol   ének </span></span>
<span><span class="co">#&gt;    3.7    3.8    2.9    4.2</span></span></code></pre></div>
<p>Hiányzó értékek esetén a fenti függvények <code>NA</code> értéket adnak eredményül, így itt is szükséges az <code>na.rm=T</code> argumentum szerepeltetése.</p>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="st">"Pál"</span>, <span class="st">"matek"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span>     <span class="co"># módosítjuk Pál matek jegyét hiányzóra</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowMeans</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                 <span class="co"># Pálnál NA lesz   </span></span>
<span><span class="co">#&gt;   Pál   Ili   Éva </span></span>
<span><span class="co">#&gt;    NA 3.825 4.275</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">mean</span><span class="op">)</span>           <span class="co"># Pálnál NA lesz   </span></span>
<span><span class="co">#&gt;   Pál   Ili   Éva </span></span>
<span><span class="co">#&gt;    NA 3.825 4.275</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowMeans</a></span><span class="op">(</span><span class="va">x</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>        <span class="co"># így jó Pálnál is   </span></span>
<span><span class="co">#&gt;      Pál      Ili      Éva </span></span>
<span><span class="co">#&gt; 4.866667 3.825000 4.275000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">mean</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>  <span class="co"># így jó Pálnál is</span></span>
<span><span class="co">#&gt;      Pál      Ili      Éva </span></span>
<span><span class="co">#&gt; 4.866667 3.825000 4.275000</span></span></code></pre></div>
</div>
<div id="sorok-és-oszlopok-kezelése" class="section level4" number="5.3.4.4">
<h4>
<span class="header-section-number">5.3.4.4</span> Sorok és oszlopok kezelése<a class="anchor" aria-label="anchor" href="#sorok-%C3%A9s-oszlopok-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Mátrixokat az <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> és a <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> függvényekkel is építhetünk.</p>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>    <span class="co"># mátrix létrehozása oszlopvektorokból</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    1    1</span></span>
<span><span class="co">#&gt; [2,]    1    2    2</span></span>
<span><span class="co">#&gt; [3,]    1    1    3</span></span>
<span><span class="co">#&gt; [4,]    1    2    4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>    <span class="co"># mátrix létrehozása sorvektorokból</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span><span class="co">#&gt; [1,]    1    1    1    1</span></span>
<span><span class="co">#&gt; [2,]    1    2    1    2</span></span>
<span><span class="co">#&gt; [3,]    1    2    3    4</span></span></code></pre></div>
<p>Vektor paraméterek esetén, a felsorolt vektorok fogják alkotni az új mátrix oszlopait (<code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> esetén), illetve sorait (<code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> esetén), a rövidebb vektor, ha van ilyen, ismétlődni fog.</p>
<p>Új oszloppal vagy új sorral is kiegészíthetjük a már létező mátrixunkat.</p>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   11</span></span>
<span><span class="co">#&gt; [4,]    4    8   12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">0</span>, <span class="va">x</span>, <span class="fl">13</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span>  <span class="co"># oszlopvektorok hozzáfűzése x elé és mögé</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">#&gt; [1,]   -3    1    5    9   13</span></span>
<span><span class="co">#&gt; [2,]   -2    2    6   10   14</span></span>
<span><span class="co">#&gt; [3,]   -1    3    7   11   15</span></span>
<span><span class="co">#&gt; [4,]    0    4    8   12   16</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="va">x</span>, <span class="fl">1</span><span class="op">)</span>        <span class="co"># sorvektorok hozzáfűzése x fölé és alá      </span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]   -1   -1   -1</span></span>
<span><span class="co">#&gt; [2,]    1    5    9</span></span>
<span><span class="co">#&gt; [3,]    2    6   10</span></span>
<span><span class="co">#&gt; [4,]    3    7   11</span></span>
<span><span class="co">#&gt; [5,]    4    8   12</span></span>
<span><span class="co">#&gt; [6,]    1    1    1</span></span></code></pre></div>
<p>Tetszőleges pozícióba beszúrhatunk egy oszlopot vagy egy sort. Ehhez első lépésben a létező <code>x</code> mátrixhoz hozzáillesztjük az új oszlopot vagy sort, majd indexeléssel átrendezzük az oszlopokat vagy sorokat.</p>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">13</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span>   <span class="co"># oszlopvektor hozzáfűzése, majd oszlopok indexelése</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span><span class="co">#&gt; [1,]    1    5   13    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   14   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   15   11</span></span>
<span><span class="co">#&gt; [4,]    4    8   16   12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">x</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">4</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># sorvektor hozzáfűzése, majd sorok indexelése</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   11</span></span>
<span><span class="co">#&gt; [4,]   -1   -1   -1</span></span>
<span><span class="co">#&gt; [5,]    4    8   12</span></span></code></pre></div>
<p>Hasznos lehetőség összesítő sorok vagy oszlopok mátrixhoz fűzése és elnevezése:</p>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   11</span></span>
<span><span class="co">#&gt; [4,]    4    8   12</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">x</span>,<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>,<span class="fl">2</span>,<span class="va">mean</span><span class="op">)</span><span class="op">)</span>  <span class="co"># átlag sor hozzáfűzése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,<span class="st">"átlag"</span><span class="op">)</span>  <span class="co"># az új sor nevének átírása</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;       [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; 1      1.0  5.0  9.0</span></span>
<span><span class="co">#&gt; 2      2.0  6.0 10.0</span></span>
<span><span class="co">#&gt; 3      3.0  7.0 11.0</span></span>
<span><span class="co">#&gt; 4      4.0  8.0 12.0</span></span>
<span><span class="co">#&gt; átlag  2.5  6.5 10.5</span></span></code></pre></div>
<p>A sorok vagy oszlopok sorrendjét is megcserélhetjük a mátrixban, valamint ezek törlésére is van lehetőségünk:</p>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    5    9</span></span>
<span><span class="co">#&gt; [2,]    2    6   10</span></span>
<span><span class="co">#&gt; [3,]    3    7   11</span></span>
<span><span class="co">#&gt; [4,]    4    8   12</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span>          <span class="co"># oszlopcsere</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">1</span><span class="op">)</span>, <span class="op">]</span>       <span class="co"># sorcsere</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span>             <span class="co"># a 2. oszlop törlése</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, <span class="op">]</span>             <span class="co"># az 2. és a 4. sor törlése</span></span></code></pre></div>
</div>
<div id="az-r-nyelv-6-summary" class="section level4" number="5.3.4.5">
<h4>
<span class="header-section-number">5.3.4.5</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-6-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A mátrix homogén kétdimenziós adatszerkezet, és többnyire a
<code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvénnyel hozzuk létre, de használhatjuk a
<code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> és <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> függvényeket is. Mátrix
indexelése a <code>[,]</code> operátorral történik, ahol sor- és
oszlopindex megadásra van lehetőségünk. A mátrix sorain vagy oszlopain
külön-külön is tudunk műveleteket végezni az <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code>
függvénnyel, a sor- és oszlopneveket a <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code> és a
<code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> függvénnyel kezelhetjük.
</p>
</div>
</div>
<div id="az-r-nyelv-6-exercise" class="section level4" number="5.3.4.6">
<h4>
<span class="header-section-number">5.3.4.6</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-6-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzunk létre egy csupa 1-ből álló mátrixot, amelynek 3 sora és 2 oszlopa van!</li>
<li>Hozzunk létre egy 3 <span class="math inline">\(\times\)</span> 4-es karakteres mátrixot, amely 12 különbüző keresztnevet tartalmaz!</li>
<li>Hozzunk létre egy 3 <span class="math inline">\(\times\)</span> 4-es logikai mátrixot, amelynek 1. és 3. sora <code>TURE</code> a 2. sora pedig <code>FALSE</code> értékeket tartalmaz!</li>
<li>Mátrixok indexelésére olyan speciális indexmátrix is használható, amelynek két oszlopa van, és az elérendő elemek sor- és oszlopkoordinátáit tartalmazza. Mutassunk példát erre a <code>mátrix[indexmátrix]</code> alakú mátrixindexelésre!</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-6-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="faktor" class="section level3" number="5.3.5">
<h3>
<span class="header-section-number">5.3.5</span> Faktor<a class="anchor" aria-label="anchor" href="#faktor"><i class="fas fa-link"></i></a>
</h3>
<p>A faktor adattípus nagyon hasonló a vektorhoz, ugyanis minden faktor egy speciális <em>integer</em> vektor, a faktor tehát homogén és egydimenziós adatszerkezet. Faktorokat elsősorban kategorikus változók értékeinek tárolására használjuk, ilyen például a személyek neme vagy iskolai végzettsége. A faktor egy lényeges ponton több mint egy egyszerű <em>integer</em> vektor. A faktor karbantart egy összerendelést az 1-gyel kezdődő numerikus egészek és a faktor lehetséges karakteres értékei, a címkék között (az <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a>. ábrán ezt egy piros kis téglalappal jelöltük). Egy faktorelem értéke csak ezekből a címkékből kerülhet ki, ami nagy fokú védelmet jelent számunkra az adatkezelés során. Ha például létrehozunk egy faktort az (1-<code>"férfi"</code>, 2-<code>"nő"</code>) összerendeléssel, akkor egy faktorelem csak a <code>"férfi"</code> vagy <code>"nő"</code> címkéket veheti fel, más értéket nem (az <code>NA</code> hiányzó érték természetesen lehet faktorelem értéke is). A munka során mindig a címkékkel találkozunk, a háttérben lévő numerikus egészek csak ritkán kapnak szerepet.</p>
<div id="faktor-létrehozása" class="section level4" number="5.3.5.1">
<h4>
<span class="header-section-number">5.3.5.1</span> Faktor létrehozása<a class="anchor" aria-label="anchor" href="#faktor-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>A faktorokat jellemzően karakteres vagy numerikus vektorokból hozzuk létre a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvénnyel. A faktor létrehozásánál mindig gondoskodjunk a faktor lehetséges értékeinek, vagyis a faktor címkéiknek megadásáról. A címkéket néha (faktor)szinteknek (levels) is nevezzük. Mivel a kategorikus változóink lehetséges értékei többnyire ismertek az adatkezelés elején, a faktorszintek felsorolása nem okozhat nehézséget. Most hozzunk létre egy faktort, amely öt személy nemét tartalmazza.</p>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>  <span class="co"># karakteres vektor létrehozása</span></span>
<span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span>      <span class="co"># faktor létrehozása</span></span>
<span><span class="va">x.f</span>                                            <span class="co"># faktor kiíratása</span></span>
<span><span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: férfi nő</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">x.f</span><span class="op">)</span>                                   <span class="co"># integer kódok a háttérben</span></span>
<span><span class="co">#&gt; [1] 1 1 2 1 2</span></span>
<span><span class="co">#&gt; attr(,"levels")</span></span>
<span><span class="co">#&gt; [1] "férfi" "nő"</span></span></code></pre></div>
<p>Az <code>x.f</code> faktort az <code>x</code> karakteres vektorból hoztuk létre, így <code>x.f</code> ugyanúgy 5 hosszú, mint az <code>x</code>. Az <code>x.f</code> outputjában olvasható <code>Levels: férfi nő</code> rész azt közli velünk, hogy a háttérben az 1 numerikus értéknek a <code>"férfi"</code> címke, míg a 2-nek a <code>"nő"</code> címke felel meg. A belső integer kódok is feltárulnak az <code>unclass(x.f)</code> outputjában. A szám-címke összerendelést magunk szabályozhatjuk, ha a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvény <code>levels=</code> argumentumában módosítunk a sorrenden.</p>
<div class="sourceCode" id="cb190"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"férfi"</span><span class="op">)</span><span class="op">)</span>      <span class="co"># faktor létrehozása</span></span>
<span><span class="va">x.f</span></span>
<span><span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: nő férfi</span></span></code></pre></div>
<p>A fenti <code>x.f</code> faktor ugyanannak az 5 személynek a nemét tartalmazza, de az összerendelést a <code>levels=c("nő", "férfi")</code> paraméterrel (1-<code>"nő"</code>, 2-<code>"férfi"</code>)-re változtattuk. Láthatjuk, a címkék sorrendje a faktor értékeitől független, mégis fontos szerepet kap majd a táblázatok és ábrák megjelenítésénél, tehát érdemes rá odafigyelni.</p>
<p>A <code>levels=</code> argumentum szerepeltetése a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvényben sok kellemetlenségtől kímélhet meg minket. Ha elhagyjuk, akkor a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvény a karakteres vektorban aktuálisan rendelkezésre álló értékekből konstruálja meg a faktort. Nézzünk erre három esetet.</p>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x.f.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: férfi nő</span></span>
<span><span class="op">(</span><span class="va">x.f.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"Férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] férfi Férfi nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: férfi Férfi nő</span></span>
<span><span class="op">(</span><span class="va">x.f.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] nő nő nő nő nő</span></span>
<span><span class="co">#&gt; Levels: nő</span></span></code></pre></div>
<p>Az első esetben a faktor létrehozásához használt karakteres vektor megegyezik a korábban látottakhoz, azaz helyesen tartalmazza mind a <code>"férfi"</code>, mind a <code>"nő"</code> címkéket, így az <code>x.f.1</code> faktor a címkék lexikografikus rendezése alapján az (1-<code>"férfi"</code>, 2-<code>"nő"</code>) összerendeléssel jön létre. A második esetben karakteres vektorunk elgépelés miatt egy <code>"Férfi"</code> címkét is tartalmaz, ami az <code>x.f.2</code> faktor szintjei között is meg fog jelenni. A harmadik esetben az okozza a problémát, hogy 5 azonos nemű személy került a mintába, így a <code>"férfi"</code> címke egyáltalán nem jelenik meg az <code>x.f.3</code> faktor szintjei között. Az <code>x.f.2</code> és az <code>x.f.3</code> faktorok tehát más-más okok miatt, de hibásan tartalmazzák a faktorszinteket, és ez a későbbi működést alapvetően befolyásolja. Az <code>x.f.2</code> három különböző nemet ismer, az <code>x.f.3</code> pedig mindössze egyet. A fenti hibák a <code>levels=</code> szerepeltetésével könnyen kiküszöbölhetők.</p>
<div class="sourceCode" id="cb192"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x.f.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"Férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>,</span>
<span>                 levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>   </span>
<span><span class="co">#&gt; [1] férfi &lt;NA&gt;  nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: férfi nő</span></span>
<span><span class="op">(</span><span class="va">x.f.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span><span class="op">)</span>,</span>
<span>                 levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] nő nő nő nő nő</span></span>
<span><span class="co">#&gt; Levels: férfi nő</span></span></code></pre></div>
<p>A fenti példákban látható, hogy a <code>"Férfi"</code> címke helyére hiányzó érték került, az <code>x.f.3</code> faktor pedig már <code>"férfi"</code> értéket is fel tud venni a jövőben.</p>
<p>Numerikus vektorokból is készíthetünk faktorokat. Például a könnyebb rögzíthetőség miatt öt személy nemét most numerikus vektorban hoztuk létre azzal a szabállyal, hogy a 0 jelentése nő, az 1 jelentése férfi. A faktor létrehozása során ekkor a <code>levels=</code> szerepe a lehetséges numerikus értékek felsorolása lesz, és a plusz paraméterként szereplő <code>labels=</code> segít a faktorszintek beszédes elnevezésében. Az elnevezés a <code>levels=</code>-ben lévő numerikus értékek sorrendjében történik, ezért nagyon fontos, hogy a <code>labels=</code> címkéi kövessék ezt a sorrendet.</p>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>     <span class="co"># numerikus vektor létrehozása, 0-nő, 1-férfi</span></span>
<span><span class="op">(</span><span class="va">x.f.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, </span>
<span>                    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"férfi"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: nő férfi</span></span>
<span><span class="op">(</span><span class="va">x.f.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, </span>
<span>                    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span></span>
<span><span class="co">#&gt; Levels: férfi nő</span></span></code></pre></div>
<p>A fenti példában látható, hogy a <code>levels=</code> értékeinek sorrendje vezérli az elnevezést, a 0 mindkét esetben <code>"nő"</code>, az 1 <code>"férfi"</code> címkéhez fog vezetni. Az <code>x.f.1</code> és <code>x.f.2</code> faktorok mindössze a háttérben lévő összerendelésben különböznek, első esetben az (1-<code>"nő"</code>, 2-<code>"férfi"</code>), míg második esetben az (1-<code>"férfi"</code>, 2-<code>"nő"</code>) lesz a faktorszintek sorrendje. Vegyük észre, hogy az eredeti 0 (<code>nő</code>) és 1 (<code>férfi</code>) értékek a faktorban már eltűnnek, szerepüket a címkék veszik át (<code>nő</code>, <code>férfi</code>) és az azok alapját jelentő 1-től sorszámozott integer vektorok.</p>
</div>
<div id="rendezett-faktor" class="section level4" number="5.3.5.2">
<h4>
<span class="header-section-number">5.3.5.2</span> Rendezett faktor<a class="anchor" aria-label="anchor" href="#rendezett-faktor"><i class="fas fa-link"></i></a>
</h4>
<p>A kategorikus változók két csoportját különböztetjük meg, a nominális változókat – ilyen volt az eddig látott <em>nem</em> változó –, és az ordinális változókat. Ez utóbbira példa az iskolai végzettség, mert ennek lehetséges értékei (alap, közép és felső értékekkel) sorba rendezhetők. Ha a változó szintjei közötti rendezettséget szeretnénk az R-ben is kifejezni, akkor rendezett faktort érdemes használni. Az eddigi <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvény is alkalmas az <code>ordered = T</code> argumentum használatával, de az <code><a href="https://rdrr.io/r/base/factor.html">ordered()</a></code> függvényt is használhatjuk rendezett faktor létrehozására.</p>
<div class="sourceCode" id="cb194"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># rendezett faktor létrehozása</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"felső"</span>, <span class="st">"közép"</span>, <span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span></span>
<span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">ordered</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x.f</span></span>
<span><span class="co">#&gt; [1] felső közép alap  közép felső</span></span>
<span><span class="co">#&gt; Levels: alap &lt; közép &lt; felső</span></span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/factor.html">ordered()</a></code> függvénnyel létrehozott rendezett faktor outputjában a szintek között a rendezettséget a kisebb (<code>&lt;</code>) jelek teszik hangsúlyossá, de a függvény használata nem tér el a korábban látott <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvénytől.</p>
</div>
<div id="szabályos-faktor-létrehozása" class="section level4" number="5.3.5.3">
<h4>
<span class="header-section-number">5.3.5.3</span> Szabályos faktor létrehozása<a class="anchor" aria-label="anchor" href="#szab%C3%A1lyos-faktor-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Ismétlést tartalmazó faktorokat a <code><a href="https://rdrr.io/r/base/gl.html">gl()</a></code> függvénnyel is létrehozhatunk. Tipikusan a szintek (<code>n=</code>) számát, az ismétlések számát (<code>k=</code>) és a címkéket (<code>labels=</code>) szoktuk megadni. Rendezett faktort az <code>ordered = T</code> argumentummal készíthetünk.</p>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/gl.html">gl</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, k <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 1 2 2 3 3</span></span>
<span><span class="co">#&gt; Levels: 1 2 3</span></span>
<span><span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/gl.html">gl</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, k <span class="op">=</span> <span class="fl">2</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] alap  alap  közép közép felső felső</span></span>
<span><span class="co">#&gt; Levels: alap közép felső</span></span>
<span><span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/gl.html">gl</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, k <span class="op">=</span> <span class="fl">2</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span>, ordered<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] alap  alap  közép közép felső felső</span></span>
<span><span class="co">#&gt; Levels: alap &lt; közép &lt; felső</span></span></code></pre></div>
</div>
<div id="faktor-indexelése-és-szűrése" class="section level4" number="5.3.5.4">
<h4>
<span class="header-section-number">5.3.5.4</span> Faktor indexelése és szűrése<a class="anchor" aria-label="anchor" href="#faktor-indexel%C3%A9se-%C3%A9s-sz%C5%B1r%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Faktor indexelése a <code>[]</code> operátorral történik. Indexvektorként numerikus, karakteres és logikai vektorokat is használhatunk. Faktor indexelésének általános alakja:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb196-1"><a href="az-r-nyelv.html#cb196-1" aria-hidden="true" tabindex="-1"></a>faktor<span class="co">[</span><span class="ot">indexvektor</span><span class="co">]</span>     # az eredmény egy faktor</span></code></pre></div>
<p>Hozzunk létre egy faktort, amely hat személy dohányzási szokását tartalmazza (D-dohányzik, ND-nem dohányzik).</p>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"D"</span>, <span class="st">"D"</span>, <span class="st">"ND"</span>, <span class="st">"D"</span>, <span class="st">"ND"</span>, <span class="st">"ND"</span><span class="op">)</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ND"</span>, <span class="st">"D"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] D  D  ND D  ND ND</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>             <span class="co"># az x faktor 1. eleme (faktorszintek változatlanok)</span></span>
<span><span class="co">#&gt; [1] D</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="fl">1</span>, drop<span class="op">=</span><span class="cn">T</span><span class="op">]</span>     <span class="co"># az x faktor 1. eleme (faktorszintek változtak)</span></span>
<span><span class="co">#&gt; [1] D</span></span>
<span><span class="co">#&gt; Levels: D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>           <span class="co"># az x faktor 1., 2. és 3. eleme</span></span>
<span><span class="co">#&gt; [1] D  D  ND</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span>       <span class="co"># az x faktor 1, 3. és 5. eleme</span></span>
<span><span class="co">#&gt; [1] D  ND ND</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="va">x.f</span> <span class="op">==</span> <span class="st">"D"</span><span class="op">]</span>    <span class="co"># x szűrése (a dohányzók)</span></span>
<span><span class="co">#&gt; [1] D D D</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="va">x.f</span> <span class="op">!=</span> <span class="st">"D"</span><span class="op">]</span>    <span class="co"># x szűrése (a nem dohányzók)</span></span>
<span><span class="co">#&gt; [1] ND ND ND</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span></code></pre></div>
<p>Az indexelés eredménye minden esetben egy faktor lesz, amelynek szintjei alapesetben megegyeznek az eredeti faktor szintjeivel. A <code>drop=T</code> argumentum a nem használt címkéket eltávolítja a faktorszintek közül. Logika kifejezéseket is használhatunk az indexelés során, azaz szűrést is végezhetünk.</p>
<p>Indexelt faktor természetesen érékadás bal oldalán is szerepelhet. A faktor adatszerkezet megvéd minket az értékadások során, hiszen egy faktorelem csak a faktorszintekben szereplő értékek egyikét veheti fel.</p>
<div class="sourceCode" id="cb198"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x.f</span>                        <span class="co"># az x.f faktor kiírása</span></span>
<span><span class="co">#&gt; [1] D  D  ND D  ND ND</span></span>
<span><span class="co">#&gt; Levels: ND D</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ND"</span>             <span class="co"># az x.f faktor 1. eleme legális értéket kap</span></span>
<span><span class="va">x.f</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"nem dohányzik"</span>  <span class="co"># az x.f faktor 2. eleme NA lesz</span></span>
<span><span class="va">x.f</span></span>
<span><span class="co">#&gt; [1] ND   &lt;NA&gt; ND   D    ND   ND  </span></span>
<span><span class="co">#&gt; Levels: ND D</span></span></code></pre></div>
<p>Mivel a <code>"nem dohányzik"</code> címke nem szerepel a faktorszintek között, az <code>x.f</code> faktor 2. eleme <code>NA</code> lesz, egy figyelmeztető üzenet kíséretében.</p>
</div>
<div id="faktorok-kezelése" class="section level4" number="5.3.5.5">
<h4>
<span class="header-section-number">5.3.5.5</span> Faktorok kezelése<a class="anchor" aria-label="anchor" href="#faktorok-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>A faktorok kényelmes használatát két további függvény segíti. Az <code><a href="https://rdrr.io/r/base/nlevels.html">nlevels()</a></code> függvénnyel a faktorszintek számát ismerhetjük meg, a <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> függvénnyel pedig lekérdezhetők és módosíthatók a faktorszintek. Nézzünk egy példát az iskolai végzettséggel kapcsolatban. Összesen 7 személyről tudjuk, hogy alap-, közép- vagy felsőfokú végzettségű, de az egyszerűbb rögzítés miatt indulásként ezt az információt számokkal kódoltuk (1-alap, 2-közép, 3-felső).</p>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># numerikus vektor létrehozása</span></span>
<span><span class="va">isk.vegz</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># faktor létrehozása</span></span>
<span><span class="va">isk.vegz.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">isk.vegz</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">isk.vegz.f</span>                              <span class="co"># a faktor értéke</span></span>
<span><span class="co">#&gt; [1] 1 1 2 1 3 3 2</span></span>
<span><span class="co">#&gt; Levels: 1 2 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">isk.vegz.f</span><span class="op">)</span>                     <span class="co"># a faktor szintjeinek száma</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">isk.vegz.f</span><span class="op">)</span>                      <span class="co"># a faktor szintjei</span></span>
<span><span class="co">#&gt; [1] "1" "2" "3"</span></span>
<span><span class="co"># a faktor szintjeinek módosítása</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">isk.vegz.f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span> </span>
<span><span class="va">isk.vegz.f</span>                              <span class="co"># a faktor értéke</span></span>
<span><span class="co">#&gt; [1] alap  alap  közép alap  felső felső közép</span></span>
<span><span class="co">#&gt; Levels: alap közép felső</span></span></code></pre></div>
<p>Az <code>isk.vegz.f</code> faktort az <code>"1"</code>, <code>"2"</code> és <code>"3"</code> címkékkel hoztuk létre, de később a <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> függvénnyel beszédesebb faktorszinteket hoztunk létre.</p>
</div>
<div id="az-r-nyelv-7-summary" class="section level4" number="5.3.5.6">
<h4>
<span class="header-section-number">5.3.5.6</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-7-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A faktor olyan <em>integer</em> vektor, amely az 1-től sorszámozott
értékeihez egy-egy karakteres címkét rendel. Ezek a címkék alkotják a
faktorelemek lehetséges értékeit, amelyeket más néven faktorszinteknek
is neveznek. A faktor létrehozásához a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvényt
használjuk és karakteres vektor konstansaiból vagy numerikus vektor
címkeként kezelt számértékeiből jönnek létre a faktor lehetséges
értékei. Rendezett faktorok szintjei között létezik egy természetes
rendezettség, létrehozásukhoz az <code><a href="https://rdrr.io/r/base/factor.html">ordered()</a></code> függvényt
használjuk. Az <code><a href="https://rdrr.io/r/base/nlevels.html">nlevels()</a></code> függvény a faktorszintek számát
adja meg, míg a <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> a szintek nevének lekérdezését és
módosítását szolgálja.
</p>
</div>
</div>
<div id="az-r-nyelv-7-exercise" class="section level4" number="5.3.5.7">
<h4>
<span class="header-section-number">5.3.5.7</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-7-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzuk létre azt a karakteres vektort, amely a férfi, nő karakteres konstansokat, úgy helyezi el egymás mellett, hogy a 7 darab férfi érték után 13 db nő címke következik! Hány elemű az így létrejött vektor?</li>
<li>Egy vizsgálatban az első 10 személy neme férfi, a többi 8 neme nő volt. Hozzuk létre azt a faktort, amely leírja a neme változót!</li>
<li>Egy vizsgálatban városi (“V”) és falusi (“F”) fiatalok vettek részt! A megkérdezettek településtípusa rendre a következő volt: F, F, V, F, V, V, V, F. Hozzuk létre azt a faktort, amely leírja a településtípus változót!</li>
<li>Egy vizsgálatban a dohányzási szokást egy kétértékű skálán mérték: 0-nem dohányzik; 1-dohányzik. A megkérdezettek dohányzási szokása a következő volt: 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0. Hozzuk létre azt a faktort, amely leírja a dohányzási szokás változót!</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-7-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="listadefalf" class="section level3" number="5.3.6">
<h3>
<span class="header-section-number">5.3.6</span> Lista<a class="anchor" aria-label="anchor" href="#listadefalf"><i class="fas fa-link"></i></a>
</h3>
<p>Az eddig megismert vektor, mátrix és faktor adatszerkezet mindegyike homogén volt, csak azonos típusú értékek tárolására használhatjuk őket. A lista típusú adatokban különböző adatszerkezetű elemeket is felsorolhatunk, de sem a típusra, sem a méretre nincs korlátozás. Egy listaelem lehet vektor, mátrix, faktor, adattábla vagy akár egy másik lista is (<a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a>. ábra). Látható, hogy a lista az R legszabadabb adatszerkezete, egydimenziós, és fő célja a logikailag összetartozó, de szerkezetileg különböző adatok tárolása.</p>
<div id="lista-létrehozása" class="section level4" number="5.3.6.1">
<h4>
<span class="header-section-number">5.3.6.1</span> Lista létrehozása<a class="anchor" aria-label="anchor" href="#lista-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>A <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> függvénnyel hozhatunk létre legegyszerűbben listákat, itt vesszővel elválasztva kell megadnunk a lista elemeit.</p>
<div class="sourceCode" id="cb200"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span><span class="op">)</span>, c<span class="op">=</span><span class="cn">T</span><span class="op">)</span>    <span class="co"># 3 elemű lista</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "A" "B"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>A fenti példában <code>x</code> egy 3 elemű lista, az első eleme egy 10 elemű numerikus vektor, a második eleme egy 2 elemű karakteres vektor, a harmadik eleme pedig egy 1 elemű logikai vektor. A harmadik elemnek a <code>c</code> nevet adtuk, de bármelyik elemet elnevezhettük volna ezzel a módszerrel. Ha a lista értékét megjelenítjük a képernyőn, akkor a listaelemek egymás alatt jelennek meg. Az első két esetben a kettős szögletes zárójelben (<code>[[]]</code>) lévő sorszám azonosítja a lista elemeit, a harmadik esetben pedig a listaelem általunk megadott neve a dollárjel (<code>$</code>) után.</p>
<p>A listaelemek nevét a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvénnyel kérdezhetjük le és állíthatjuk be.</p>
<div class="sourceCode" id="cb201"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                       <span class="co"># az x lista elemeinek neve</span></span>
<span><span class="co">#&gt; [1] ""  ""  "c"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span> <span class="co"># az x 1. és 2. elemének elnevezése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "b" "c"</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] "A" "B"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div id="lista-indexelése" class="section level4" number="5.3.6.2">
<h4>
<span class="header-section-number">5.3.6.2</span> Lista indexelése<a class="anchor" aria-label="anchor" href="#lista-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Egy lista indexelése a már megszokott <code>[]</code> indexoperátorral történik, amelyben továbbra is lehetőségünk van numerikus, karakteres és logikai indexvektor megadására is.</p>
<div class="sourceCode" id="cb202"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>           <span class="co"># az x lista 1. elemét tartalmazó 1 elemű lista</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span>     <span class="co"># az x lista 2. és 3. elemét tartalmazó 2 elemű lista</span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] "A" "B"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="st">"a"</span><span class="op">]</span>         <span class="co"># az x lista 1. elemét tartalmazó 1 elemű lista</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span>  <span class="co"># az x lista 1. és 3. elemét tartalmazó 1 elemű lista</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>A <code>[]</code> operátorral kapott eredmény minden esetben lista, még akkor is, ha a lista egyetlen elemét érjük el. Nagyon fontos ettől megkülönböztetni a <code>[[]]</code> operátor eredményét, amely a lista valamelyik (egyetlen) elemével, annak az értékével tér vissza. Itt nincs mód több listaelem elérésére, és szokás szerint numerikus vagy karakteres értékkel indexelünk.</p>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>     <span class="co"># az x lista 1. eleme</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="va">x</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span>   <span class="co"># az x lista 2. eleme</span></span>
<span><span class="co">#&gt; [1] "A" "B"</span></span>
<span><span class="va">x</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>     <span class="co"># az x lista 3. eleme</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>A <code>[[]]</code> operátor alkalmazása helyett a rövidebb dollár (<code>$</code>) operátort is használhatjuk azoknak a listaelemeknek az elérésére, amelyeket korábban elneveztünk. A lista nevét és az elem nevét fűzzük össze a <code>$</code> operátorral.</p>
<div class="sourceCode" id="cb204"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">$</span><span class="va">a</span>        <span class="co"># az x lista 1. eleme</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">b</span>        <span class="co"># az x lista 2. eleme</span></span>
<span><span class="co">#&gt; [1] "A" "B"</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">c</span>        <span class="co"># az x lista 3. eleme</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Ha a lista elemét valamelyik módszer segítségével elértük, akkor további indexelés segítségével az elem összetevőit is lekérdezhetjük vagy módosíthatjuk.</p>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>       <span class="co"># az x lista 1. elemének 3. és 4. eleme </span></span>
<span><span class="co">#&gt; [1] 3 4</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">a</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>       <span class="co"># az x lista 1. elemének 4. és 5. eleme 0 lesz</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">c</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>          <span class="co"># az x lista 3. elemének módosítása    </span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  0  0  6  7  8  9 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] "A" "B"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] 1 2</span></span></code></pre></div>
<p>A lista indexelésére tehát a következő lehetőségek állnak rendelkezésre:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb206-1"><a href="az-r-nyelv.html#cb206-1" aria-hidden="true" tabindex="-1"></a>lista<span class="co">[</span><span class="ot">indexvektor</span><span class="co">]</span>     # az eredmény egy lista</span>
<span id="cb206-2"><a href="az-r-nyelv.html#cb206-2" aria-hidden="true" tabindex="-1"></a>lista[<span class="co">[</span><span class="ot">index</span><span class="co">]</span>]         # az eredmény a lista egy eleme</span>
<span id="cb206-3"><a href="az-r-nyelv.html#cb206-3" aria-hidden="true" tabindex="-1"></a>lista$elemnév          # az eredmény a lista egy eleme  </span></code></pre></div>
</div>
<div id="művelet-a-listaelemekkel" class="section level4" number="5.3.6.3">
<h4>
<span class="header-section-number">5.3.6.3</span> Művelet a listaelemekkel<a class="anchor" aria-label="anchor" href="#m%C5%B1velet-a-listaelemekkel"><i class="fas fa-link"></i></a>
</h4>
<p>Egy lista minden elemével az <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code> vagy az <code><a href="https://rdrr.io/r/base/lapply.html">sapply()</a></code> függvény segítségével hajthatunk végre műveletet.</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">x</span>, FUN<span class="op">=</span><span class="va">length</span><span class="op">)</span> <span class="co"># az x lista minden elemének a hossza egy listába</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">x</span>, FUN<span class="op">=</span><span class="va">length</span><span class="op">)</span> <span class="co"># az x lista minden elemének a hossza egy vektorba</span></span>
<span><span class="co">#&gt;  a  b  c </span></span>
<span><span class="co">#&gt; 10  2  2</span></span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code> a bemenő lista elemszámával egyező méretű listával tér vissza, melynek értékei az második paraméterben szereplő függvény visszatérési értékei. Az <code><a href="https://rdrr.io/r/base/lapply.html">sapply()</a></code> hasonlóan jár el, de a visszatérési értéke egy vektor.</p>
</div>
<div id="az-r-nyelv-8-summary" class="section level4" number="5.3.6.4">
<h4>
<span class="header-section-number">5.3.6.4</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-8-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A lista az R legszabadabb adatszerkezete, egydimenziós és inhomogén.
Listát a <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> függvénnyel hozhatunk létre, melynek
argumentumában tetszőleges adatszerkezetű objektumokat felsorolhatunk,
ezek alkotják a lista egyes elemeit. Lista indexelése a <code>[]</code>,
<code>[[]]</code> és <code>$</code> operátorokkal is lehetséges.
</p>
</div>
</div>
<div id="az-r-nyelv-8-exercise" class="section level4" number="5.3.6.5">
<h4>
<span class="header-section-number">5.3.6.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-8-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzunk létre egy háromelemű listát a TRUE, 12, és “Verseny” konstansokból!</li>
<li>Hozzunk létre egy háromelemű listát a TRUE, 12, és “Verseny” konstansokból, de gondoskodjunk az egyes elemek elnevezéséről, amelyek legyenek rendre: “befejezve”, “indulok” és “leiras”!</li>
<li>Hozzunk létre egy háromelemű listát a TRUE, 12 és “Verseny” konstansokból, valamint az induló versenyzők végső pontszámaiból, amelyek rendre: 89, 78, 23, 67, 99, 69, 85, 77, 58, 72, 48, 81. Gondoskodjunk az egyes elemek elnevezéséről, amelyek legyenek rendre: “befejezve”, “indulok”, “leiras” és “pontszam”!</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-8-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="adattábla" class="section level3" number="5.3.7">
<h3>
<span class="header-section-number">5.3.7</span> Adattábla<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla"><i class="fas fa-link"></i></a>
</h3>
<p>Az <em>adattábla</em> (<em>data frame</em>) az R legfontosabb adatszerkezete, központi szerepet játszik az adatfeldolgozásban, lényegében minden statisztikai munka kiindulópontja. Inhomogén, kétdimenziós szerkezet, sorok és oszlopok alkotják, alapvetően azonos hosszúságú vektorokból és faktorokból épül fel (<a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a>. ábra). Az adattábla egyesíti a mátrix és a lista adatszerkezet előnyeit. Az adattábla kétdimenziós, mint a mátrix, és inhomogén, mint a lista. Ha mátrixként tekintünk az adattáblára, akkor sorokból és oszlopokból áll, ha listaként, akkor azonos hosszúságú (oszlop)vektorok/faktorok egydimenziós sorozata.</p>
<div id="adattábla-létrehozása" class="section level4" number="5.3.7.1">
<h4>
<span class="header-section-number">5.3.7.1</span> Adattábla létrehozása<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Adattáblát legegyszerűbben a <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvénnyel hozhatunk létre, amely azonos hosszú vektorokat vagy faktorokat vár az argumentumában. A <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> tehát listaszerűen konstruálja az adattáblát.</p>
<div class="sourceCode" id="cb208"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  nev  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Péter"</span>, <span class="st">"Éva"</span>, <span class="st">"Lajos"</span><span class="op">)</span>,</span>
<span>  pont <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">34</span>, <span class="fl">32</span>, <span class="fl">29</span><span class="op">)</span></span>
<span><span class="op">)</span> </span>
<span><span class="va">df</span>      <span class="co"># adattábla kiírása</span></span>
<span><span class="co">#&gt;     nev pont</span></span>
<span><span class="co">#&gt; 1 Péter   34</span></span>
<span><span class="co">#&gt; 2   Éva   32</span></span>
<span><span class="co">#&gt; 3 Lajos   29</span></span></code></pre></div>
<p>A fenti <code>df</code> adattáblát egy 3 elemű karakteres vektorból, és egy 3 elemű numerikus vektorból hoztuk létre. A <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvénynek ezt a két vektort adtuk meg, ennek megfelelően két oszlopa lesz az adattáblának. Mindkét vektor 3 elemű, így 3 sor lesz a <code>df</code>-ben. Adattáblánk így 3 <span class="math inline">\(\times\)</span> 2-es. Mindkét argumentumot elneveztük (<code>nev</code>, <code>pont</code>), ezekből oszlopnevek lesznek. Az oszlopok elnevezéséhez az objektumneveknél használt szabályokat vegyük figyelembe (<a href="az-r-nyelv.html#objektumelnevezes">5.1.2.3</a>. fejezet), és ne használjunk ékezetes karaktereket és szóközt. A fenti outputból kiolvasható, hogy az adattábla sornevekkel is rendelkezik, ezek automatikusan jönnek létre 1-től kezdődő sorszámmal.</p>
<p>Ha a <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvényben a paraméterek hossza nem azonos, akkor a rövidebb vektorok és faktorok ismétléssel kiegészülnek a leghosszabb oszlop hosszára. Az ismétlés azonban csak egész számszor lehetséges, egyébként hibaüzenetet kapunk.</p>
<div class="sourceCode" id="cb209"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>,<span class="st">'B'</span><span class="op">)</span><span class="op">)</span>; <span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">6</span><span class="op">:</span><span class="fl">8</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>   <span class="va">tipus</span>, </span>
<span>   pont.1<span class="op">=</span><span class="va">x</span>, </span>
<span>   pont.2<span class="op">=</span><span class="va">y</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df2</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 1     A      6      1</span></span>
<span><span class="co">#&gt; 2     B      7      2</span></span>
<span><span class="co">#&gt; 3     A      8      3</span></span>
<span><span class="co">#&gt; 4     B      6      4</span></span>
<span><span class="co">#&gt; 5     A      7      5</span></span>
<span><span class="co">#&gt; 6     B      8      6</span></span></code></pre></div>
<p>A példában egy 6 sorból és 3 oszlopból álló adattáblát készítettünk (<code>df2</code> 6 <span class="math inline">\(\times\)</span> 3-as). A <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvényben nem azonos a <code>tipus</code> faktor és a két numerikus vektor (<code>x</code>, <code>y</code>) hossza, így ismétléssel kapjuk meg a fenti eredményt. Továbbá, ha elhagyjuk az argumentum nevét, akkor az oszlopnév a megfelelő objektum neve alapján jön létre. Így kapta az első oszlop a <code>tipus</code> nevet.</p>
</div>
<div id="adattábla-felépítése" class="section level4" number="5.3.7.2">
<h4>
<span class="header-section-number">5.3.7.2</span> Adattábla felépítése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla-fel%C3%A9p%C3%ADt%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Adattábláink ritkán olyan kicsik, mint a fenti <code>df</code> vagy <code>df2</code>. Sokszor több tucat sorból és oszlopból állnak, így az adattábla áttekintésére nem az adattáblát tároló objektum értékének képernyőre írása a legszerencsésebb. Kényelmesebb, ha az <em>RStudio</em> adatbázis ablakában jelenítjük meg az adattábla tartalmát, amit a <em>Környezet</em> panel megfelelő adatbázisnevén való kattintással és vagy a <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> paranccsal kezdeményezhetünk. Próbáljuk ki a <code>View(df)</code> és <code>View(df2)</code> függvényhívásokat.</p>
<p>Hasznos információ szolgáltat az <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> függvény is, amely az adattábla szerkezetéről ad felvilágosítást.</p>
<div class="sourceCode" id="cb210"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>     <span class="co"># a df adattábla szerkezete</span></span>
<span><span class="co">#&gt; 'data.frame':    3 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ nev : chr  "Péter" "Éva" "Lajos"</span></span>
<span><span class="co">#&gt;  $ pont: num  34 32 29</span></span></code></pre></div>
<p>Láthatjuk, hogy a <code>df</code> adattáblánk 3 sort (megfigyelést) és 2 oszlopot (változót) tartalmaz, valamint leolvashatjuk az egyes oszlopok típusát is. Megfigyelhetjük, hogy a <code>nev</code> oszlop karakteres, a <code>pont</code> pedig numerikus vektor.</p>
<p>Láttuk korábban, hogy az adattábla sorai és oszlopai névvel is rendelkeznek.</p>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>  <span class="co"># oszlopnevek</span></span>
<span><span class="co">#&gt; [1] "nev"  "pont"</span></span>
<span><span class="co">#&gt; [1] "nev"  "pont"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>             <span class="co"># sornevek</span></span>
<span><span class="co">#&gt; [1] "1" "2" "3"</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code> a sorok nevét, a <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> és a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> az oszlopok nevét írja ki, de segítségükkel ezeket módosíthatjuk is. A sorok és oszlopok nevének meghatározásánál ügyeljünk arra, hogy azok minden esetben legyenek egyediek. Két azonos sornév létrehozása hibaüzenethez vezet, de az azonos oszlopnevek használatát is kerüljük.</p>
<div class="sourceCode" id="cb212"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="st">".szemely"</span><span class="op">)</span>   <span class="co"># sornevek módosítása</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"X"</span>,<span class="st">"Y"</span><span class="op">)</span>                   <span class="co"># oszlopnevek módosítása</span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt;               X  Y</span></span>
<span><span class="co">#&gt; 1.szemely Péter 34</span></span>
<span><span class="co">#&gt; 2.szemely   Éva 32</span></span>
<span><span class="co">#&gt; 3.szemely Lajos 29</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> függvény az oszlopok számával tér vissza. Az <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code> és az <code><a href="https://rdrr.io/r/base/nrow.html">ncol()</a></code> a sor és oszlopok számával tér vissza.</p>
<div class="sourceCode" id="cb213"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>   <span class="co"># oszlopok száma</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>               <span class="co"># sorok száma</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code></pre></div>
</div>
<div id="adattábla-indexelése" class="section level4" number="5.3.7.3">
<h4>
<span class="header-section-number">5.3.7.3</span> Adattábla indexelése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az adattáblák indexelése a mátrixok és a listáknál megtanult indexelési formákat jelentik. Az általános indexelése formák a következők:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb214-1"><a href="az-r-nyelv.html#cb214-1" aria-hidden="true" tabindex="-1"></a>adattábla<span class="co">[</span><span class="ot">sorindexvektor, oszlopindexvektor</span><span class="co">]</span> # adattábla, vektor vagy faktor </span>
<span id="cb214-2"><a href="az-r-nyelv.html#cb214-2" aria-hidden="true" tabindex="-1"></a>adattábla<span class="co">[</span><span class="ot">oszlopindexvektor</span><span class="co">]</span>                 # adattábla</span>
<span id="cb214-3"><a href="az-r-nyelv.html#cb214-3" aria-hidden="true" tabindex="-1"></a>adattábla$oszlopnév                          # vektor vagy faktor                    </span></code></pre></div>
<p>A mátrixokhoz hasonlóan indexelhetjük a sorokat és az oszlopokat, hiszen az adattábla kétdimenziós. A <code>[]</code> operátorban szerepel egy vessző, amely a sor- és oszlopkoordinátákat választja el egymástól. Használhatjuk a következő hivatkozásokat:</p>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span>               <span class="co"># a df2 adattábla kiírása</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 1     A      6      1</span></span>
<span><span class="co">#&gt; 2     B      7      2</span></span>
<span><span class="co">#&gt; 3     A      8      3</span></span>
<span><span class="co">#&gt; 4     B      6      4</span></span>
<span><span class="co">#&gt; 5     A      7      5</span></span>
<span><span class="co">#&gt; 6     B      8      6</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span>         <span class="co"># a df2 2. sorában a 3. oszlop adata, vektor eredmény</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fl">3</span><span class="op">]</span>   <span class="co"># a df2 2. és 3. sorában a 3. oszlop adata, vektor</span></span>
<span><span class="co">#&gt; [1] 2 3</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># a df2 2. és 3. sorában a 1. és 2. oszlop adata, adattábla</span></span>
<span><span class="co">#&gt;   tipus pont.1</span></span>
<span><span class="co">#&gt; 2     B      7</span></span>
<span><span class="co">#&gt; 3     A      8</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="op">]</span>    <span class="co"># a df2 2. és 3. sora, adattábla</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 2     B      7      2</span></span>
<span><span class="co">#&gt; 3     A      8      3</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>          <span class="co"># a df2 2. sora, adattábla</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 2     B      7      2</span></span>
<span><span class="va">df2</span><span class="op">[</span>, <span class="fl">3</span><span class="op">]</span>          <span class="co"># a df2 3. oszlopa, vektor</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span>
<span><span class="va">df2</span><span class="op">[</span>, <span class="fl">3</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>  <span class="co"># a df2 3. oszlopa, adattábla</span></span>
<span><span class="co">#&gt;   pont.2</span></span>
<span><span class="co">#&gt; 1      1</span></span>
<span><span class="co">#&gt; 2      2</span></span>
<span><span class="co">#&gt; 3      3</span></span>
<span><span class="co">#&gt; 4      4</span></span>
<span><span class="co">#&gt; 5      5</span></span>
<span><span class="co">#&gt; 6      6</span></span>
<span><span class="va">df2</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>        <span class="co"># a df2 1. és 2. oszlopa, adattábla</span></span>
<span><span class="co">#&gt;   tipus pont.1</span></span>
<span><span class="co">#&gt; 1     A      6</span></span>
<span><span class="co">#&gt; 2     B      7</span></span>
<span><span class="co">#&gt; 3     A      8</span></span>
<span><span class="co">#&gt; 4     B      6</span></span>
<span><span class="co">#&gt; 5     A      7</span></span>
<span><span class="co">#&gt; 6     B      8</span></span></code></pre></div>
<p>Numerikus indexvektorok mellett használhatunk karakteres és logikai vektorokat is indexelésre.</p>
<div class="sourceCode" id="cb216"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tipus"</span>, <span class="st">"pont.1"</span><span class="op">)</span><span class="op">]</span>         <span class="co"># minden sor, 1. és 2. oszlop</span></span>
<span><span class="co">#&gt;   tipus pont.1</span></span>
<span><span class="co">#&gt; 1     A      6</span></span>
<span><span class="co">#&gt; 2     B      7</span></span>
<span><span class="co">#&gt; 3     A      8</span></span>
<span><span class="co">#&gt; 4     B      6</span></span>
<span><span class="co">#&gt; 5     A      7</span></span>
<span><span class="co">#&gt; 6     B      8</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tipus"</span>, <span class="st">"pont.1"</span><span class="op">)</span><span class="op">]</span>  <span class="co"># páratlan sorok 1. és 2. oszlop</span></span>
<span><span class="co">#&gt;   tipus pont.1</span></span>
<span><span class="co">#&gt; 1     A      6</span></span>
<span><span class="co">#&gt; 3     A      8</span></span>
<span><span class="co">#&gt; 5     A      7</span></span></code></pre></div>
<p>Karakteres vektorok tipikusan oszlopindexekben fordulnak elő, logikai vektorok pedig, később látjuk, az adattábla szűrésénél kapnak fontos szerepet.</p>
<p>Ha az adattáblára listaként tekintünk, akkor <code>[]</code> operátorban egyetlen indexvektort is szerepeltethetünk, amely az adattábla oszlopait indexeli, és minden esetben adattáblát szolgáltat, még akkor is, ha az adattábla egyetlen oszlopát érjük el.</p>
<div class="sourceCode" id="cb217"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>                    <span class="co"># a df2 2. oszlopa, adattábla</span></span>
<span><span class="co">#&gt;   pont.1</span></span>
<span><span class="co">#&gt; 1      6</span></span>
<span><span class="co">#&gt; 2      7</span></span>
<span><span class="co">#&gt; 3      8</span></span>
<span><span class="co">#&gt; 4      6</span></span>
<span><span class="co">#&gt; 5      7</span></span>
<span><span class="co">#&gt; 6      8</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>                  <span class="co"># a df2 1. és 2. oszlopa, adattábla</span></span>
<span><span class="co">#&gt;   tipus pont.1</span></span>
<span><span class="co">#&gt; 1     A      6</span></span>
<span><span class="co">#&gt; 2     B      7</span></span>
<span><span class="co">#&gt; 3     A      8</span></span>
<span><span class="co">#&gt; 4     B      6</span></span>
<span><span class="co">#&gt; 5     A      7</span></span>
<span><span class="co">#&gt; 6     B      8</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="st">"tipus"</span><span class="op">]</span>              <span class="co"># a df2 1. oszlopa, adattábla</span></span>
<span><span class="co">#&gt;   tipus</span></span>
<span><span class="co">#&gt; 1     A</span></span>
<span><span class="co">#&gt; 2     B</span></span>
<span><span class="co">#&gt; 3     A</span></span>
<span><span class="co">#&gt; 4     B</span></span>
<span><span class="co">#&gt; 5     A</span></span>
<span><span class="co">#&gt; 6     B</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tipus"</span>, <span class="st">"pont.2"</span><span class="op">)</span><span class="op">]</span> <span class="co"># a df2 1. és 3. oszlopa, adattábla</span></span>
<span><span class="co">#&gt;   tipus pont.2</span></span>
<span><span class="co">#&gt; 1     A      1</span></span>
<span><span class="co">#&gt; 2     B      2</span></span>
<span><span class="co">#&gt; 3     A      3</span></span>
<span><span class="co">#&gt; 4     B      4</span></span>
<span><span class="co">#&gt; 5     A      5</span></span>
<span><span class="co">#&gt; 6     B      6</span></span></code></pre></div>
<p>Az adattábla egyes oszlopai a <code>$</code> operátorral is elérhetők, amely az adattábla nevét és az oszlop nevét választja el egymástól. Az eredmény minden esetben vektor vagy faktor lesz.</p>
<div class="sourceCode" id="cb218"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">$</span><span class="va">tipus</span>               <span class="co"># a df2 1. oszlopa, faktor</span></span>
<span><span class="co">#&gt; [1] A B A B A B</span></span>
<span><span class="co">#&gt; Levels: A B</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span>              <span class="co"># a df2 2. oszlopa, vektor</span></span>
<span><span class="co">#&gt; [1] 6 7 8 6 7 8</span></span></code></pre></div>
<p>Az adattábla indexelése után kapott adatszerkezetek tovább indexelhetők. Attól függően, hogy a kiinduló adattábla indexelésével kapott adatszerkezet egy- vagy kétdimenziós használhatjuk a <code>[]</code> és <code>$</code> operátorokat is.</p>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>           <span class="co"># df2-ből adattábla, majd adattábla</span></span>
<span><span class="co">#&gt;   pont.1</span></span>
<span><span class="co">#&gt; 4      6</span></span>
<span><span class="co">#&gt; 3      8</span></span>
<span><span class="co">#&gt; 2      7</span></span>
<span><span class="co">#&gt; 1      6</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">$</span><span class="va">tipus</span>        <span class="co"># df2-ből adattábla, majd faktor</span></span>
<span><span class="co">#&gt; [1] B A B A</span></span>
<span><span class="co">#&gt; Levels: A B</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>            <span class="co"># df2-ből vektor, majd vektor</span></span>
<span><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div>
<p>Ne felejtsük el, hogy adattábla indexelése során a lekért elemek módosítására is lehetőségünk van, és a vektoraritmetika szabályai továbbra is teljesülnek.</p>
<div class="sourceCode" id="cb220"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">200</span>              <span class="co"># egyetlen érték módosítása </span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span> <span class="op">&lt;-</span> <span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span> <span class="op">+</span> <span class="fl">1</span>  <span class="co"># teljes oszlop módosítása</span></span>
<span><span class="va">df2</span>                           <span class="co"># df2 kiírása</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 1     A      6      2</span></span>
<span><span class="co">#&gt; 2     B      7    201</span></span>
<span><span class="co">#&gt; 3     A      8      4</span></span>
<span><span class="co">#&gt; 4     B      6      5</span></span>
<span><span class="co">#&gt; 5     A      7      6</span></span>
<span><span class="co">#&gt; 6     B      8      7</span></span></code></pre></div>
</div>
<div id="adattáblák-szűrése" class="section level4" number="5.3.7.4">
<h4>
<span class="header-section-number">5.3.7.4</span> Adattáblák szűrése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bl%C3%A1k-sz%C5%B1r%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az adattábla indexelésénél logikai vektorokat is használhatunk sorindexvektorban, melyek az adattábla tartalmára vonatkozó relációs kifejezések is lehetnek. Ezzel a módszerrel érhetjük el, hogy az adattábla sorait valamilyen szempont szerint leválogassuk, megszűrjük.</p>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">[</span><span class="va">df2</span><span class="op">$</span><span class="va">tipus</span> <span class="op">==</span> <span class="st">"A"</span>, <span class="op">]</span>                      <span class="co"># az A típusú sorok leválogatása</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 1     A      6      2</span></span>
<span><span class="co">#&gt; 3     A      8      4</span></span>
<span><span class="co">#&gt; 5     A      7      6</span></span>
<span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="va">df2</span><span class="op">[</span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span><span class="op">&lt;</span><span class="fl">8</span> <span class="op">&amp;</span> <span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span><span class="op">&gt;</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># összetett logikai kifejezés</span></span></code></pre></div>
<p>Az első szűrésünk az adattábla <code>"A"</code> címkékkel rendelkező sorait válogatta le, de csak képernyőn olvashatók ezek a sorok. A második szűrés eredményét azonban megőrizzük egy új <code>df3</code> objektumban, és látható, hogy a <code>pont.1</code> és a <code>pont.2</code> numerikus vektorokra vonatkozó összetett logikai kifejezéssel végezzük.</p>
</div>
<div id="adattáblák-sorainak-rendezése" class="section level4" number="5.3.7.5">
<h4>
<span class="header-section-number">5.3.7.5</span> Adattáblák sorainak rendezése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bl%C3%A1k-sorainak-rendez%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az adattábla sorainak rendezése a vektoroknál megismert <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény és a <code>[]</code> operátor kombinált alkalmazásával lehetséges. Rendezzük a <code>pont.1</code> változó alapján a <code>df2</code> sorait.</p>
<div class="sourceCode" id="cb222"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># df2 sorainak rendezése pont.1 növekvő sorrendjében</span></span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 1     A      6      2</span></span>
<span><span class="co">#&gt; 4     B      6      5</span></span>
<span><span class="co">#&gt; 2     B      7    201</span></span>
<span><span class="co">#&gt; 5     A      7      6</span></span>
<span><span class="co">#&gt; 3     A      8      4</span></span>
<span><span class="co">#&gt; 6     B      8      7</span></span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény <code>decreasing=TRUE</code> argumentumával csökkenő sorrendet is elérhetünk. Az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény több oszlopot is képes fogadni, így több oszlop alapján is tudunk sorokat rendezni.</p>
<div class="sourceCode" id="cb223"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># df2 sorainak rendezése pont.1 és pont.2 csökkenő sorrendjében</span></span>
<span><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span>, <span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span>, decreasing<span class="op">=</span><span class="cn">T</span><span class="op">)</span>, <span class="op">]</span> </span>
<span><span class="co">#&gt;   tipus pont.1 pont.2</span></span>
<span><span class="co">#&gt; 6     B      8      7</span></span>
<span><span class="co">#&gt; 3     A      8      4</span></span>
<span><span class="co">#&gt; 2     B      7    201</span></span>
<span><span class="co">#&gt; 5     A      7      6</span></span>
<span><span class="co">#&gt; 4     B      6      5</span></span>
<span><span class="co">#&gt; 1     A      6      2</span></span></code></pre></div>
<p>####Összefoglalás {#az-r-nyelv-9-summary}</p>
<div class="rmdsummary">
<p>
Az adattábla minden statisztikai munka kiindulópontja. Kétdimenziós,
inhomogén szerkezet, de mivel azonos hosszú vektorok vagy faktorok
listájának is tekinthető, oszlopaiban homogén adatszerkezet. Létrehozása
a <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvénnyel lehetséges, ahol az
argumentumban az oszlopokat alkotó vektorokat és faktorokat kell
felsorolni. Az adattábla indexelése a mátrixoknál és a listáknál
tanultak alapján lehetséges.
</p>
</div>
</div>
<div id="az-r-nyelv-9-exercise" class="section level4" number="5.3.7.6">
<h4>
<span class="header-section-number">5.3.7.6</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-9-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzunk létre egy 30 <span class="math inline">\(\times\)</span> 3-as adattáblát, <code>csoport</code>, <code>matematika</code> és <code>magyar</code> oszlopnevekkel. A <code>csoport</code> változó legyen egy <code>5.a</code>, <code>5.b</code> és <code>5.c</code> címkéket tetszőleges sorrendben tartalmazó faktor, a <code>matematika</code> és a <code>magyar</code> pedig 1-5 osztályzatokat tartalmazó numerikus vektor.</li>
<li>Írassuk ki a <strong>MASS</strong> csomag <code>survey</code> adattáblájának 3. sorában az 5. oszlopban lévő értéket!</li>
<li>Írassuk ki a <strong>MASS</strong> csomag <code>survey</code> adattáblájának 3. és 6. sorában sorában az 5. oszlopban lévő értékeket! Az adattábla típus maradjon meg!</li>
<li>Írassuk ki a <strong>MASS</strong> csomag <code>survey</code> adattáblájának 3. és 6. sorából az összes adatértéket!</li>
<li>Írassuk ki a <strong>MASS</strong> csomag <code>survey</code> adattábla <code>Pulse</code> oszlopát háromféle módszerrel!</li>
<li>Írassuk ki a <strong>MASS</strong> csomag <code>survey</code> adattábla <code>Pulse</code> változójának első 3 elemét háromféle módszerrel!</li>
<li>A <strong>HSAUR3</strong> csomag <code>Forbes2000</code> adattáblája 2000 vállalat adatát tartalmazza! Határozzuk meg a magyar cégek nevét és helyezését (<code>country</code> oszlop alapján)! Írassuk ki a képernyőre a 10 legnagyobb piaci értékkel (<code>marketvalue</code> oszlop) rendelkező cég nevét és piaci értékét! Határozzuk meg a legkisebb profittal (<code>profits</code> oszlop) rendelkező 5 cég minden adatát! Határozzuk meg a legnagyobb profittal (<code>profits</code> oszlop) rendelkező 10 amerikai vagy japán cég nevét, országát és profitját!</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-9-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
</div>
<div id="további-adatszerkezetek" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> További adatszerkezetek<a class="anchor" aria-label="anchor" href="#tov%C3%A1bbi-adatszerkezetek"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel2">
<p>Ebben a fejezetben:</p>
<ul>
<li>megismerjük a <em>tömb</em>, <em>táblázat</em>, <em>dátum</em>, <em>idő</em>, <em>időtartam</em> és <em>tibble</em> adatszerkezeteket,</li>
<li>valamint a a munkaterület és munkakönyvtár kezelésének függvényeit.</li>
</ul>
</div>
<p>Az R legfontosabb adatszerkezetit megismertük az előző fejezetben. Az adatelemzés kiindulópontja az <em>adattábla</em>, amely a <em>mátrix</em> és a <em>lista</em> adatszerkezet előnyeit egyesíti, lényegében <em>vektor</em>ok és <em>faktor</em>ok egymásutánja. A munka során azonban találkozhatunk három vagy több dimenzióba szervezett adatokkal (<em>tömb</em> és <em>táblázat</em>), valamint szükség lehet <em>dátum</em>, <em>idő</em> és <em>időtartam</em> kezelésére is. A <em>Tidyverse R</em> megújította az adattáblát, és bevezette a saját <em>tibble</em> típusát az adatok szokásos tárolására. Definiáljuk pontosabban a fenti, új adatszerkezeteket:</p>
<ul>
<li>
<em>tömb</em> - Azonos alaptípusú értékekből 3 vagy több dimenzió mentén készítünk adatszerkezetet.</li>
<li>
<em>táblázat</em> - A gyakorisági táblázatok R megfelelője, amelyben tipikusan <em>integer</em> adatokat rögzítünk, egy, két vagy több dimenzió mentén.</li>
<li>
<em>dátum</em> - Egyetlen <em>double</em> érték, amelynek jelentése az <code>1970-01-01</code> óta eltelt napok száma.</li>
<li>
<em>dátum-idő</em> - Egyetlen <em>double</em> érték, amelynek jelentése az <code>1970-01-01</code> óta eltelt másodpercek száma.</li>
<li>
<em>időtartam</em> - Egyetlen <em>double</em> érték, amelynek különböző mértékegységekben mutatja két időpont közötti különbséget.</li>
<li>
<em>tibble</em> - Speciális adattábla, amely a <code>Tidyverse R</code> része, és megkönnyíti az adatok kezelését.</li>
</ul>
<p>Az <a href="az-r-nyelv.html#tab:adatszerkezetek">5.8</a>. táblázatban már korábban bemutattuk az R legfontosabb adatszerkezeteit, aZ <a href="az-r-nyelv.html#tab:adatszerkezetek2">5.10</a>. táblázat azokat az új adatszerkezeteket sorolja fel, amelyeket ebben a fejezetben mutatunk be. Most is közöljük, hogy a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> és a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> milyen outputot szolgáltat az egyes adatszerkezetek esetén.</p>
<div class="inline-table"><table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:adatszerkezetek2">TÁBLÁZAT 5.10: </span>Adatszerkezetek (folytatás)
</caption>
<thead><tr>
<th style="text-align:left;">
Adatszerkezet
</th>
<th style="text-align:left;">
Létrehozó parancs
</th>
<th style="text-align:left;">
typeof(x)
</th>
<th style="text-align:left;">
class(x)
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
integer tömb
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array(2L,dim=c(2,3,5))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">integer</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
double tömb
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array(2,dim=c(2,3,5))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">double</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
karakteres tömb
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array(‘a’,dim=c(2,3,5))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">character</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
logikai tömb
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array(T,dim=c(2,3,5))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">logical</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">array</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
táblázat
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">table(sample(1:10, 100, T))</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">integer</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">table</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
dátum
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">as.Date(‘1971-05-09’)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">double</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">Date</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
dátum-idő
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">as.POSIXct(‘2018-08-01 22:00’,‘UTC’)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">double</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">POSIXct POSIXt</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
időtartam
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">as.difftime(7,units=‘days’)</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">double</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">difftime</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
tibble
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">tibble(x=1:3,y=letters[1:3])</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">list</span>
</td>
<td style="text-align:left;">
<span style="   font-family: monospace;  ">tbl_df tbl data.frame</span>
</td>
</tr>
</tbody>
</table></div>
<div id="tömbök-és-táblázatok" class="section level3" number="5.4.1">
<h3>
<span class="header-section-number">5.4.1</span> Tömbök és táblázatok<a class="anchor" aria-label="anchor" href="#t%C3%B6mb%C3%B6k-%C3%A9s-t%C3%A1bl%C3%A1zatok"><i class="fas fa-link"></i></a>
</h3>
<p>A <em>tömb</em> a mátrix általánosításával nyerhető adatszerkezet. Az azonos típusú adatokat a mátrix két dimenzió mentén rendezi össze. Azonban három vagy több dimenzió mentén is elvégezhető ez az összerendezés. Így nyerjük a három vagy több dimenziós tömböket. A mátrix két dimenziós tömbnek is tekinthető (vagy a vektor egy egy dimenziós tömbnek). A <em>táblázat</em> a tömbökhöz nagyon hasonló adatszerkezet, de tipikusan számlálással nyert <em>integer</em> értékeket rögzítünk bennük. A tömbökhöz hasonlóan lehetnek egy, két, vagy több dimenziósak.</p>
<div id="tömb-létrehozása-és-indexelése" class="section level4" number="5.4.1.1">
<h4>
<span class="header-section-number">5.4.1.1</span> Tömb létrehozása és indexelése<a class="anchor" aria-label="anchor" href="#t%C3%B6mb-l%C3%A9trehoz%C3%A1sa-%C3%A9s-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az <code><a href="https://rdrr.io/r/base/array.html">array()</a></code> függvénnyel egyszerűen hozhatunk létre tömböt. A függvény a <code>data=</code> argumentumban megadott vektor elemeit a <code>dim=</code> argumentumban megadott dimenzió-méretek mentén rendezi össze.</p>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="co"># az 1:12 vektorból 3 dimenziós tömb </span></span>
<span><span class="va">x</span>                       </span>
<span><span class="co">#&gt; , , 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    3    5</span></span>
<span><span class="co">#&gt; [2,]    2    4    6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    7    9   11</span></span>
<span><span class="co">#&gt; [2,]    8   10   12</span></span></code></pre></div>
<p>A háromdimenziós <em>integer</em> tömb 2 <span class="math inline">\(\times\)</span> 3 <span class="math inline">\(\times\)</span> 2-es, azaz 2 sorból, 3 oszlopból és 2 lapból áll. Természetesen <em>double</em>, <em>karakteres</em> és <em>logikai</em> tömbök is hasonló módszerrel hozhatók létre, csak a <code>data=</code> értéket kell megfelelően megválasztani.</p>
<p>A tömb kiíratása során az indexoperátorokban (<code>[]</code>) szereplő sorszámok segítségével igazodhatunk el az elemek között. A háromdimenziós <code>x</code> tömb dimenziói a sorok, oszlopok és a lapok. A 12 elemet két lapon a <code>, , 1</code> és a <code>, , 2</code> nevű lapokon, két-két sorba <code>[1, ]</code>, <code>[2, ]</code> és három-három oszlopba <code>[ ,1]</code>, <code>[ ,2]</code>, <code>[ ,3]</code> rendezve sorolja fel az R. A második lapon a 2. sor 1. eleméhez meg kell találnunk a <code>, , 2</code> lapot, a <code>[2, ]</code> sort és az <code>[ ,1]</code> oszlopot, ami esetünkben a 8.</p>
<p>A tömbök indexelése a mátrixokhoz hasonló, csak a dimenziószámnak megfelelő számú indexvektort kell használhatunk. Ha <code>x</code> 3 dimenziós, akkor az <code>x[1,3,2]</code> egy lehetséges példa indexelésére, ahol az első sor harmadik oszlopában lévő elemre gondolunk, a második lapról. Emlékezhetünk, hogy kétdimenziós mátrixok esetén csak a sor és oszlop azonosító indexekre volt szükségünk (például <code>x[2,3]</code>), míg 4 vagy afeletti dimenziószámok esetén természetesen 4 vagy több, vesszővel elválasztott indexet kell megadnunk.</p>
</div>
<div id="táblázat-létrehozása" class="section level4" number="5.4.1.2">
<h4>
<span class="header-section-number">5.4.1.2</span> Táblázat létrehozása<a class="anchor" aria-label="anchor" href="#t%C3%A1bl%C3%A1zat-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Táblázatokat a <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> függvénnyel hozhatunk létre, tipikusan kategorikus adatokból, vagyis faktor típusú objektumokból. A <strong>MASS</strong> csomag <code>survey</code> adattáblája több faktor oszlopot is tartalmaz, ezt használjuk a továbbiakban.</p>
<div class="sourceCode" id="cb225"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"survey"</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span>  <span class="co"># a survey betöltése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">survey</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    237 obs. of  12 variables:</span></span>
<span><span class="co">#&gt;  $ Sex   : Factor w/ 2 levels "Female","Male": 1 2 2 2 2 1 2 1 2 2 ...</span></span>
<span><span class="co">#&gt;  $ Wr.Hnd: num  18.5 19.5 18 18.8 20 18 17.7 17 20 18.5 ...</span></span>
<span><span class="co">#&gt;  $ NW.Hnd: num  18 20.5 13.3 18.9 20 17.7 17.7 17.3 19.5 18.5 ...</span></span>
<span><span class="co">#&gt;  $ W.Hnd : Factor w/ 2 levels "Left","Right": 2 1 2 2 2 2 2 2 2 2 ...</span></span>
<span><span class="co">#&gt;  $ Fold  : Factor w/ 3 levels "L on R","Neither",..: 3 3 1 3 2 1 1 3 3 3 ...</span></span>
<span><span class="co">#&gt;  $ Pulse : int  92 104 87 NA 35 64 83 74 72 90 ...</span></span>
<span><span class="co">#&gt;  $ Clap  : Factor w/ 3 levels "Left","Neither",..: 1 1 2 2 3 3 3 3 3 3 ...</span></span>
<span><span class="co">#&gt;  $ Exer  : Factor w/ 3 levels "Freq","None",..: 3 2 2 2 3 3 1 1 3 3 ...</span></span>
<span><span class="co">#&gt;  $ Smoke : Factor w/ 4 levels "Heavy","Never",..: 2 4 3 2 2 2 2 2 2 2 ...</span></span>
<span><span class="co">#&gt;  $ Height: num  173 178 NA 160 165 ...</span></span>
<span><span class="co">#&gt;  $ M.I   : Factor w/ 2 levels "Imperial","Metric": 2 1 NA 2 2 1 1 2 2 2 ...</span></span>
<span><span class="co">#&gt;  $ Age   : num  18.2 17.6 16.9 20.3 23.7 ...</span></span></code></pre></div>
<p>Egydimenziós gyakorisági táblázat létrehozásához egyetlen faktort használunk a <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> argumentumában. Érdemes a <code>useNA="ifany"</code> argumentumot is használni, amely a faktorban lévő hiányzó értékek számát adja meg, amennyiben van hiányzó érték a változóban.</p>
<div class="sourceCode" id="cb226"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span>  <span class="co"># egydimenziós gyakorisági táblázat</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Female   Male   &lt;NA&gt; </span></span>
<span><span class="co">#&gt;    118    118      1</span></span></code></pre></div>
<p>Az output első sorában az egydimenziós táblázat (integer vektor) elemeinek a nevét olvashatjuk, melyek a <code>Sex</code> faktor lehetséges értékeit és a hiányzó értékek címkéjét jelentik. A táblázat második sorában lévő számok az egyes címkék előfordulási gyakoriságát jelentik a faktorban. Ebben a kutatásban (<code><a href="https://rdrr.io/pkg/MASS/man/survey.html">?survey</a></code>) 118 nőt és 118 férfit kérdeztek meg, egyetlen személynek nem ismerjük a nemét.</p>
<p>Kétdimenziós gyakorisági táblázat készítéséhez két faktorra van szükség. A nem (<code>Sex</code>) mellett a kezességet (<code>W.Hnd</code>) is bevontuk a vizsgálatba:</p>
<div class="sourceCode" id="cb227"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># kétdimenziós gyakorisági táblázat</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    7   110    1</span></span>
<span><span class="co">#&gt;   Male     10   108    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span></code></pre></div>
<p>A kétdimenziós gyakorisági táblázat (integer mátrix) sornevei és oszlopnevei segítenek értelmezni a gyakorisági értékeket. A 7 például a balkezes nők számát jelenti a mintában.</p>
<p>Három vagy magasabb dimenziószámú táblázatokat is hasonlóan készíthetünk: egyre több faktort vonunk be a <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> függvénybe. Háromdimenziós gyakorisági táblázatra mutatunk példát az <code>Exer</code> faktor bevonásával.</p>
<div class="sourceCode" id="cb228"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># háromdimenziós gyakorisági táblázat</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Exer</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span>  </span>
<span><span class="co">#&gt; , ,  = Freq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    45    1</span></span>
<span><span class="co">#&gt;   Male      3    62    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = None</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    1    10    0</span></span>
<span><span class="co">#&gt;   Male      2    11    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = Some</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    55    0</span></span>
<span><span class="co">#&gt;   Male      5    35    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span></code></pre></div>
<p>A háromdimenziós vagy afeletti táblázatok esetében az <code><a href="https://rdrr.io/r/stats/ftable.html">ftable()</a></code> kétdimenziós ábrázolással segíti a gyakorisági adatok értelmezését.</p>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/ftable.html">ftable</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>  <span class="co"># háromdimenziós táblázat két dimenzióban</span></span>
<span><span class="co">#&gt;               Freq None Some</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt; Female Left      3    1    3</span></span>
<span><span class="co">#&gt;        Right    45   10   55</span></span>
<span><span class="co">#&gt; Male   Left      3    2    5</span></span>
<span><span class="co">#&gt;        Right    62   11   35</span></span>
<span><span class="va">tab4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Exer</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Smoke</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/ftable.html">ftable</a></span><span class="op">(</span><span class="va">tab4</span><span class="op">)</span>  <span class="co"># négydimenziós táblázat két dimenzióban</span></span>
<span><span class="co">#&gt;                    Heavy Never Occas Regul</span></span>
<span><span class="co">#&gt;                                           </span></span>
<span><span class="co">#&gt; Female Left  Freq      0     2     1     0</span></span>
<span><span class="co">#&gt;              None      0     1     0     0</span></span>
<span><span class="co">#&gt;              Some      0     3     0     0</span></span>
<span><span class="co">#&gt;        Right Freq      3    36     4     2</span></span>
<span><span class="co">#&gt;              None      0     9     1     0</span></span>
<span><span class="co">#&gt;              Some      2    47     3     3</span></span>
<span><span class="co">#&gt; Male   Left  Freq      0     2     1     0</span></span>
<span><span class="co">#&gt;              None      0     1     0     1</span></span>
<span><span class="co">#&gt;              Some      1     3     1     0</span></span>
<span><span class="co">#&gt;        Right Freq      4    45     6     7</span></span>
<span><span class="co">#&gt;              None      1     7     2     0</span></span>
<span><span class="co">#&gt;              Some      0    31     0     4</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> függvény helyett használhatjuk az <code><a href="https://rdrr.io/r/stats/xtabs.html">xtabs()</a></code> függvényt is, amely támogatja a kicsit kényelmesebb formula argumentumot. Az R formula olyan kifejezés, amely tartalmaz egy tilde (<code>~</code>) karaktert, és annak két oldalán rendszerint egy adattábla oszlopnevei jelennek meg. A <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> és az <code><a href="https://rdrr.io/r/stats/xtabs.html">xtabs()</a></code> általános használata a következő:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb230-1"><a href="az-r-nyelv.html#cb230-1" aria-hidden="true" tabindex="-1"></a>table(df$változó_1, df$változó_2, ..., df$változó_n)</span>
<span id="cb230-2"><a href="az-r-nyelv.html#cb230-2" aria-hidden="true" tabindex="-1"></a>xtabs(~változó_1 + változó_2 + ... + változó_n, data=df)</span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/stats/xtabs.html">xtabs()</a></code> használatára mutatunk 3 példát. Figyeljük meg, hogy a hiányzó értékek megjelenítéséhez itt az <code>addNA=T</code> argumentumot kell használnunk. Az <code><a href="https://rdrr.io/r/stats/xtabs.html">xtabs()</a></code> függvény speciális formulájának bal oldala üres, jobb oldalán pedig a faktor változók <code>+</code> karakterrel vannak összekapcsolva.</p>
<div class="sourceCode" id="cb231"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">Sex</span>, data<span class="op">=</span><span class="va">survey</span>, addNA <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>             <span class="co"># 1D gyakorisági táblázat</span></span>
<span><span class="co">#&gt; Sex</span></span>
<span><span class="co">#&gt; Female   Male   &lt;NA&gt; </span></span>
<span><span class="co">#&gt;    118    118      1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">Sex</span><span class="op">+</span><span class="va">W.Hnd</span>, data<span class="op">=</span><span class="va">survey</span>, addNA <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>       <span class="co"># 2D gyakorisági táblázat</span></span>
<span><span class="co">#&gt;         W.Hnd</span></span>
<span><span class="co">#&gt; Sex      Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    7   110    1</span></span>
<span><span class="co">#&gt;   Male     10   108    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">Sex</span><span class="op">+</span><span class="va">W.Hnd</span><span class="op">+</span><span class="va">Exer</span>, data<span class="op">=</span><span class="va">survey</span>, addNA <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="co"># 3D gyakorisági táblázat</span></span>
<span><span class="co">#&gt; , , Exer = Freq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         W.Hnd</span></span>
<span><span class="co">#&gt; Sex      Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    45    1</span></span>
<span><span class="co">#&gt;   Male      3    62    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , Exer = None</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         W.Hnd</span></span>
<span><span class="co">#&gt; Sex      Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    1    10    0</span></span>
<span><span class="co">#&gt;   Male      2    11    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , Exer = Some</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         W.Hnd</span></span>
<span><span class="co">#&gt; Sex      Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    55    0</span></span>
<span><span class="co">#&gt;   Male      5    35    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span></code></pre></div>
</div>
<div id="táblázatok-átalakítása" class="section level4" number="5.4.1.3">
<h4>
<span class="header-section-number">5.4.1.3</span> Táblázatok átalakítása<a class="anchor" aria-label="anchor" href="#t%C3%A1bl%C3%A1zatok-%C3%A1talak%C3%ADt%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Korábban megismertük az <code>as.*()</code> kezdetű függvényeket, amelyek egyszerű típuskonverziót végeznek. A gyakorisági táblázatokat gyakran szeretnénk vektor, mátrix, tömb, vagy még gyakrabban adattábla típusban rögzíteni. Ezek az átalakítások az <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code>, <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code>, <code><a href="https://rdrr.io/r/base/array.html">as.array()</a></code>, valamint az <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> függvénnyel könnyen elvégezhetők.</p>
<div class="sourceCode" id="cb232"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span>       <span class="co"># 1D gyakorisági táblázat</span></span>
<span><span class="va">tab2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span>              <span class="co"># 2D   </span></span>
<span><span class="va">tab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Exer</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span> <span class="co"># 3D  </span></span>
<span><span class="op">(</span><span class="va">vekt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span><span class="op">)</span>     <span class="co"># 1D táblázatból vektor</span></span>
<span><span class="co">#&gt; [1] 118 118   1</span></span>
<span><span class="op">(</span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span><span class="op">)</span>      <span class="co"># 2D táblázatból mátrix</span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    7   110    1</span></span>
<span><span class="co">#&gt;   Male     10   108    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="op">(</span><span class="va">tomb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">as.array</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span><span class="op">)</span>      <span class="co"># 3D táblázatból 3D tömb</span></span>
<span><span class="co">#&gt; , ,  = Freq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    45    1</span></span>
<span><span class="co">#&gt;   Male      3    62    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = None</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    1    10    0</span></span>
<span><span class="co">#&gt;   Male      2    11    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = Some</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    55    0</span></span>
<span><span class="co">#&gt;   Male      5    35    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span>
<span><span class="op">(</span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span><span class="op">)</span>  <span class="co"># 1D táblázatból adattábla</span></span>
<span><span class="co">#&gt;     Var1 Freq</span></span>
<span><span class="co">#&gt; 1 Female  118</span></span>
<span><span class="co">#&gt; 2   Male  118</span></span>
<span><span class="co">#&gt; 3   &lt;NA&gt;    1</span></span>
<span><span class="op">(</span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span><span class="op">)</span>  <span class="co"># 2D táblázatból adattábla</span></span>
<span><span class="co">#&gt;     Var1  Var2 Freq</span></span>
<span><span class="co">#&gt; 1 Female  Left    7</span></span>
<span><span class="co">#&gt; 2   Male  Left   10</span></span>
<span><span class="co">#&gt; 3   &lt;NA&gt;  Left    1</span></span>
<span><span class="co">#&gt; 4 Female Right  110</span></span>
<span><span class="co">#&gt; 5   Male Right  108</span></span>
<span><span class="co">#&gt; 6   &lt;NA&gt; Right    0</span></span>
<span><span class="co">#&gt; 7 Female  &lt;NA&gt;    1</span></span>
<span><span class="co">#&gt; 8   Male  &lt;NA&gt;    0</span></span>
<span><span class="co">#&gt; 9   &lt;NA&gt;  &lt;NA&gt;    0</span></span>
<span><span class="op">(</span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span><span class="op">)</span>  <span class="co"># 3D táblázatból adattábla</span></span>
<span><span class="co">#&gt;      Var1  Var2 Var3 Freq</span></span>
<span><span class="co">#&gt; 1  Female  Left Freq    3</span></span>
<span><span class="co">#&gt; 2    Male  Left Freq    3</span></span>
<span><span class="co">#&gt; 3    &lt;NA&gt;  Left Freq    1</span></span>
<span><span class="co">#&gt; 4  Female Right Freq   45</span></span>
<span><span class="co">#&gt; 5    Male Right Freq   62</span></span>
<span><span class="co">#&gt; 6    &lt;NA&gt; Right Freq    0</span></span>
<span><span class="co">#&gt; 7  Female  &lt;NA&gt; Freq    1</span></span>
<span><span class="co">#&gt; 8    Male  &lt;NA&gt; Freq    0</span></span>
<span><span class="co">#&gt; 9    &lt;NA&gt;  &lt;NA&gt; Freq    0</span></span>
<span><span class="co">#&gt; 10 Female  Left None    1</span></span>
<span><span class="co">#&gt; 11   Male  Left None    2</span></span>
<span><span class="co">#&gt; 12   &lt;NA&gt;  Left None    0</span></span>
<span><span class="co">#&gt; 13 Female Right None   10</span></span>
<span><span class="co">#&gt; 14   Male Right None   11</span></span>
<span><span class="co">#&gt; 15   &lt;NA&gt; Right None    0</span></span>
<span><span class="co">#&gt; 16 Female  &lt;NA&gt; None    0</span></span>
<span><span class="co">#&gt; 17   Male  &lt;NA&gt; None    0</span></span>
<span><span class="co">#&gt; 18   &lt;NA&gt;  &lt;NA&gt; None    0</span></span>
<span><span class="co">#&gt; 19 Female  Left Some    3</span></span>
<span><span class="co">#&gt; 20   Male  Left Some    5</span></span>
<span><span class="co">#&gt; 21   &lt;NA&gt;  Left Some    0</span></span>
<span><span class="co">#&gt; 22 Female Right Some   55</span></span>
<span><span class="co">#&gt; 23   Male Right Some   35</span></span>
<span><span class="co">#&gt; 24   &lt;NA&gt; Right Some    0</span></span>
<span><span class="co">#&gt; 25 Female  &lt;NA&gt; Some    0</span></span>
<span><span class="co">#&gt; 26   Male  &lt;NA&gt; Some    0</span></span>
<span><span class="co">#&gt; 27   &lt;NA&gt;  &lt;NA&gt; Some    0</span></span></code></pre></div>
<p>Az ellenkező irányú átalakítás is érdekes lehet, vagyis amikor egy-, két- vagy háromdimenziós tömbökből gyakorisági táblázatot képezünk (<code><a href="https://rdrr.io/r/base/table.html">as.table()</a></code> függvény), de főképp amikor az adattáblában létező gyakorisági adatokat táblázattá alakítjuk. Itt érdemes az <code>xtabs(Freq~Változó_1+Változó_2+...+Változó_n, data=df)</code> függvényhívást használni, ahol a tilde (<code>~</code>) előtti oszlop az adattábla gyakorisági adatait tartalmazza, a jobbra lévő változók pedig lényegében a faktor változókat nevezik meg.</p>
<div class="sourceCode" id="cb233"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">as.table</a></span><span class="op">(</span><span class="va">vekt</span><span class="op">)</span> <span class="co"># vektorból 1D táblázat</span></span>
<span><span class="co">#&gt;   A   B   C </span></span>
<span><span class="co">#&gt; 118 118   1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">as.table</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span>  <span class="co"># mátrixból 2D táblázat</span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    7   110    1</span></span>
<span><span class="co">#&gt;   Male     10   108    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">as.table</a></span><span class="op">(</span><span class="va">tomb</span><span class="op">)</span> <span class="co"># tömbből 3D táblázat  </span></span>
<span><span class="co">#&gt; , ,  = Freq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    45    1</span></span>
<span><span class="co">#&gt;   Male      3    62    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      1     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = None</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    1    10    0</span></span>
<span><span class="co">#&gt;   Male      2    11    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = Some</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         </span></span>
<span><span class="co">#&gt;          Left Right &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   Female    3    55    0</span></span>
<span><span class="co">#&gt;   Male      5    35    0</span></span>
<span><span class="co">#&gt;   &lt;NA&gt;      0     0    0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Var1</span>, data<span class="op">=</span><span class="va">df1</span><span class="op">)</span>           <span class="co"># adattáblából 1D táblázat</span></span>
<span><span class="co">#&gt; Var1</span></span>
<span><span class="co">#&gt; Female   Male </span></span>
<span><span class="co">#&gt;    118    118</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Var1</span><span class="op">+</span><span class="va">Var2</span>, data<span class="op">=</span><span class="va">df2</span><span class="op">)</span>      <span class="co"># adattáblából 2D táblázat</span></span>
<span><span class="co">#&gt;         Var2</span></span>
<span><span class="co">#&gt; Var1     Left Right</span></span>
<span><span class="co">#&gt;   Female    7   110</span></span>
<span><span class="co">#&gt;   Male     10   108</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Var1</span><span class="op">+</span><span class="va">Var2</span><span class="op">+</span><span class="va">Var3</span>, data<span class="op">=</span><span class="va">df3</span><span class="op">)</span> <span class="co"># adattáblából 3D táblázat</span></span>
<span><span class="co">#&gt; , , Var3 = Freq</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         Var2</span></span>
<span><span class="co">#&gt; Var1     Left Right</span></span>
<span><span class="co">#&gt;   Female    3    45</span></span>
<span><span class="co">#&gt;   Male      3    62</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , Var3 = None</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         Var2</span></span>
<span><span class="co">#&gt; Var1     Left Right</span></span>
<span><span class="co">#&gt;   Female    1    10</span></span>
<span><span class="co">#&gt;   Male      2    11</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , Var3 = Some</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         Var2</span></span>
<span><span class="co">#&gt; Var1     Left Right</span></span>
<span><span class="co">#&gt;   Female    3    55</span></span>
<span><span class="co">#&gt;   Male      5    35</span></span></code></pre></div>
<p>Érdekes lehet egy harmadik eset is, amikor a gyakorisági adatok állnak rendelkezésre (táblázatos vagy adattábla formátumban) és el szeretnénk készíteni ennek a nyers adatokat tartalmazó adattábla megfelelőjét. Vegyük a legbonyolultabb eddig tárgyalt esetet, és legyen a <code>tab3</code> a kiinduló pontunk, amely egy táblázat. A táblázatot a korábban tanult módszerrel gyakoriságokat tartalmazó adattáblává alakítjuk, majd eseteket (nyers adatokat) tartalmazó adattáblává.</p>
<div class="sourceCode" id="cb234"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">W.Hnd</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Exer</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span>  </span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/ftable.html">ftable</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span> <span class="co"># 3D gyakorisági táblázat kiterítve</span></span>
<span><span class="co">#&gt;               Freq None Some</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt; Female Left      3    1    3</span></span>
<span><span class="co">#&gt;        Right    45   10   55</span></span>
<span><span class="co">#&gt;        NA        1    0    0</span></span>
<span><span class="co">#&gt; Male   Left      3    2    5</span></span>
<span><span class="co">#&gt;        Right    62   11   35</span></span>
<span><span class="co">#&gt;        NA        0    0    0</span></span>
<span><span class="co">#&gt; NA     Left      1    0    0</span></span>
<span><span class="co">#&gt;        Right     0    0    0</span></span>
<span><span class="co">#&gt;        NA        0    0    0</span></span>
<span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span> <span class="co"># adattáblából 3D táblázat</span></span>
<span><span class="va">df3</span></span>
<span><span class="co">#&gt;      Var1  Var2 Var3 Freq</span></span>
<span><span class="co">#&gt; 1  Female  Left Freq    3</span></span>
<span><span class="co">#&gt; 2    Male  Left Freq    3</span></span>
<span><span class="co">#&gt; 3    &lt;NA&gt;  Left Freq    1</span></span>
<span><span class="co">#&gt; 4  Female Right Freq   45</span></span>
<span><span class="co">#&gt; 5    Male Right Freq   62</span></span>
<span><span class="co">#&gt; 6    &lt;NA&gt; Right Freq    0</span></span>
<span><span class="co">#&gt; 7  Female  &lt;NA&gt; Freq    1</span></span>
<span><span class="co">#&gt; 8    Male  &lt;NA&gt; Freq    0</span></span>
<span><span class="co">#&gt; 9    &lt;NA&gt;  &lt;NA&gt; Freq    0</span></span>
<span><span class="co">#&gt; 10 Female  Left None    1</span></span>
<span><span class="co">#&gt; 11   Male  Left None    2</span></span>
<span><span class="co">#&gt; 12   &lt;NA&gt;  Left None    0</span></span>
<span><span class="co">#&gt; 13 Female Right None   10</span></span>
<span><span class="co">#&gt; 14   Male Right None   11</span></span>
<span><span class="co">#&gt; 15   &lt;NA&gt; Right None    0</span></span>
<span><span class="co">#&gt; 16 Female  &lt;NA&gt; None    0</span></span>
<span><span class="co">#&gt; 17   Male  &lt;NA&gt; None    0</span></span>
<span><span class="co">#&gt; 18   &lt;NA&gt;  &lt;NA&gt; None    0</span></span>
<span><span class="co">#&gt; 19 Female  Left Some    3</span></span>
<span><span class="co">#&gt; 20   Male  Left Some    5</span></span>
<span><span class="co">#&gt; 21   &lt;NA&gt;  Left Some    0</span></span>
<span><span class="co">#&gt; 22 Female Right Some   55</span></span>
<span><span class="co">#&gt; 23   Male Right Some   35</span></span>
<span><span class="co">#&gt; 24   &lt;NA&gt; Right Some    0</span></span>
<span><span class="co">#&gt; 25 Female  &lt;NA&gt; Some    0</span></span>
<span><span class="co">#&gt; 26   Male  &lt;NA&gt; Some    0</span></span>
<span><span class="co">#&gt; 27   &lt;NA&gt;  &lt;NA&gt; Some    0</span></span>
<span><span class="co"># az átalakítás 2 sora:</span></span>
<span><span class="va">df.long</span> <span class="op">&lt;-</span> <span class="va">df3</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span>, <span class="va">df3</span><span class="op">$</span><span class="va">Freq</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Var1"</span>, <span class="st">"Var2"</span>, <span class="st">"Var3"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">df.long</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">df.long</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df.long</span><span class="op">)</span>  <span class="co"># az első 6 sor kiírása</span></span>
<span><span class="co">#&gt;     Var1 Var2 Var3</span></span>
<span><span class="co">#&gt; 1 Female Left Freq</span></span>
<span><span class="co">#&gt; 2 Female Left Freq</span></span>
<span><span class="co">#&gt; 3 Female Left Freq</span></span>
<span><span class="co">#&gt; 4   Male Left Freq</span></span>
<span><span class="co">#&gt; 5   Male Left Freq</span></span>
<span><span class="co">#&gt; 6   Male Left Freq</span></span></code></pre></div>
</div>
</div>
<div id="dátum-és-idő" class="section level3" number="5.4.2">
<h3>
<span class="header-section-number">5.4.2</span> Dátum és idő<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-%C3%A9s-id%C5%91"><i class="fas fa-link"></i></a>
</h3>
<p>Az adatelemzés során a dátumok kezelésének két fő oka lehet, egyrészt szűrésekben használhatjuk őket, például adott dátum vagy időpont előtti, utáni vagy közötti sorok leválogatásában, másrészt statisztikai elemzések is irányulhatnak két dátum vagy időpont között eltelt időtartamra.</p>
<div id="dátum-kezelése" class="section level4" number="5.4.2.1">
<h4>
<span class="header-section-number">5.4.2.1</span> Dátum kezelése<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Amennyiben le akarjuk kérdezni az aktuális dátumot, akkor a <code><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date()</a></code> függvényt kell használnunk.</p>
<div class="sourceCode" id="cb235"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">datum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>    <span class="co"># aktuális dátum, dátum típusú objektum</span></span>
<span><span class="va">datum</span>                  <span class="co"># datum kiírása</span></span>
<span><span class="co">#&gt; [1] "2022-09-09"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">datum</span><span class="op">)</span>          <span class="co"># datum típusa</span></span>
<span><span class="co">#&gt; [1] "double"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">datum</span><span class="op">)</span>           <span class="co"># datum típusa</span></span>
<span><span class="co">#&gt; [1] "Date"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">datum</span><span class="op">)</span>         <span class="co"># datum alapja</span></span>
<span><span class="co">#&gt; [1] 19244</span></span></code></pre></div>
<p>Láthatjuk, hogy a <code>datum</code> objektum <em>dátum</em> (<em>Date</em>) típusú annak ellenére, hogy az objektum értéke a képernyőn kettős idézőjelek között jelenik meg. A <em>dátum</em> típus alapja egy <em>double</em> szám van, amely az 1970. 01. 01. óta eltelt napok számát tartalmazza, ahogyan az <code>unclass(datum)</code> ezt számunkra meg is mutatja. Világos, hogy az a <em>double</em> érték lehet nulla vagy negatív is.</p>
<div class="sourceCode" id="cb236"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1980-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a double szám pozitív</span></span>
<span><span class="co">#&gt; [1] 3652</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1970-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a double szám nulla</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1960-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a double szám negatív</span></span>
<span><span class="co">#&gt; [1] -3653</span></span></code></pre></div>
<div id="dátum-létrehozása-karakteres-adatból" class="section level5" number="5.4.2.1.1">
<h5>
<span class="header-section-number">5.4.2.1.1</span> Dátum létrehozása karakteres adatból<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-l%C3%A9trehoz%C3%A1sa-karakteres-adatb%C3%B3l"><i class="fas fa-link"></i></a>
</h5>
<p>Dátumot legtöbb esetben karakteres konstansból hozunk létre az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvény segítségével. A dátumok változatos formában jelenhetnek meg, a szabványos <code>"2019-02-12"</code> (<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) alak mellett sok olyan forma létezik, amelyben elválasztó karakterként a perjel vagy a pont szerepel, valamint az év-hó-nap hármas sorrendje is változhat. A konkrét dátum értelmezéséhez az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvény <code>format=</code> argumentumát kell helyesen beállítani. A használható kódokat a <a href="az-r-nyelv.html#tab:datumkodok">5.11</a>. táblázat tartalmazza.</p>
<div class="inline-table"><table style="width:54%;" class="table table-sm">
<caption>
<span id="tab:datumkodok">TÁBLÁZAT 5.11: </span> Formátumkódok a dátumokban</caption>
<colgroup>
<col width="19%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th>Formátum kód</th>
<th>Jelentés</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>%Y</td>
<td>év 4 számjeggyel</td>
</tr>
<tr class="even">
<td>%y</td>
<td>év 2 számjeggyel</td>
</tr>
<tr class="odd">
<td>%m</td>
<td>hónap</td>
</tr>
<tr class="even">
<td>%b</td>
<td>hónap rövidített neve</td>
</tr>
<tr class="odd">
<td>%B</td>
<td>hónap teljes neve</td>
</tr>
<tr class="even">
<td>%d</td>
<td>nap</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020-04-12"</span><span class="op">)</span>   <span class="co"># szabványos, nem kell format= argumentum</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020/04/12"</span><span class="op">)</span>   <span class="co"># szabványos, nem kell format= argumentum</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"04/12/2020"</span>, format<span class="op">=</span><span class="st">"%m/%d/%Y"</span><span class="op">)</span>          <span class="co"># amerikai stílus</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"12.04.2020"</span>, format<span class="op">=</span><span class="st">"%d.%m.%Y"</span><span class="op">)</span>          <span class="co"># brit stílus</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020. 04. 12."</span>, format<span class="op">=</span><span class="st">"%Y. %m. %d."</span><span class="op">)</span>    <span class="co"># magyar stílus</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span></code></pre></div>
<p>Látható, hogy a szabványos esetekben nem szükséges a <code>format=</code> argumentum használata, de a formátumkódokkal tetszőleges sztringet <em>dátum</em> típusúvá alakíthatunk. A hónapnevek megjelenése azonban nyelvfüggő, ezért itt a R verziónk helyi beállításaira is figyelni kell.</p>
<div class="sourceCode" id="cb238"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.getlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span><span class="op">)</span>                          <span class="co"># a helyi beállítás magyar?</span></span>
<span><span class="co">#&gt; [1] "Hungarian_Hungary.utf8"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020. ápr. 12."</span>, format<span class="op">=</span><span class="st">"%Y. %b %d."</span><span class="op">)</span>    <span class="co"># rövid magyar hónapnévvel</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020. április 12."</span>, format<span class="op">=</span><span class="st">"%Y. %B %d."</span><span class="op">)</span> <span class="co"># magyar hónapnévvel</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span></code></pre></div>
<p>Magyar számítógépes környezetben a helyi beállítás (<code><a href="https://rdrr.io/r/base/locales.html">?locales</a></code>) alapértelmezés szerint magyar, ennek megfelelően a magyar hónapnevekkel dolgozik az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvény, így a fenti konverziók a kívánt eredményt adják. A <code>Sys.getlocale("LC_TIME")</code> paranccsal vizsgálhatjuk meg, hogy milyen környezetben dolgozunk. A <code>Sys.setlocale("LC_TIME", "C")</code> utasítás észak-amerikai beállításokra vált az R, az angol hónapnevek felismerésére így nyílik lehetőség:</p>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lct</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.getlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span><span class="op">)</span>                   <span class="co"># helyi beállítás mentése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.setlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span>, <span class="st">"C"</span><span class="op">)</span>                     <span class="co"># észak-amerikai beállítás </span></span>
<span><span class="co">#&gt; [1] "C"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"Apr 12, 2020"</span>, format<span class="op">=</span><span class="st">"%b %d, %Y"</span><span class="op">)</span>       <span class="co"># rövid angol hónapnévvel</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"12 April 2020"</span>, format<span class="op">=</span><span class="st">"%d %B %Y"</span><span class="op">)</span>       <span class="co"># angol hónapnévvel</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.setlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span>, <span class="va">lct</span><span class="op">)</span>  <span class="co"># magyar helyi beállítás visszatöltése  </span></span>
<span><span class="co">#&gt; [1] "Hungarian_Hungary.utf8"</span></span></code></pre></div>
</div>
<div id="dátum-létrehozása-numerikus-adatokból" class="section level5" number="5.4.2.1.2">
<h5>
<span class="header-section-number">5.4.2.1.2</span> Dátum létrehozása numerikus adatokból<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-l%C3%A9trehoz%C3%A1sa-numerikus-adatokb%C3%B3l"><i class="fas fa-link"></i></a>
</h5>
<p>Dátumot a szeparáltan létező numerikus év, hónap, nap információkból is létrehozhatunk. Ehhez először az <code><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate()</a></code> függvénnyel időpontot állítunk elő, majd az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code>-tel dátumot. Ezzel a módszerrel egyszerre több dátumot is előállíthatunk.</p>
<div class="sourceCode" id="cb240"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span>, month <span class="op">=</span> <span class="fl">4</span>, day <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span>   <span class="co"># dátum előállítása</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span>, month <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, day <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span> <span class="co"># dátumok előállítása</span></span>
<span><span class="co">#&gt; [1] "2020-01-12" "2020-02-12" "2020-03-12" "2020-04-12"</span></span></code></pre></div>
</div>
<div id="dátum-konvertálása" class="section level5" number="5.4.2.1.3">
<h5>
<span class="header-section-number">5.4.2.1.3</span> Dátum konvertálása<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-konvert%C3%A1l%C3%A1sa"><i class="fas fa-link"></i></a>
</h5>
<p>Ha már van egy <em>dátum</em> típusú objektumunk, akkor azt változatos módon jeleníthetjük meg a <code><a href="https://rdrr.io/r/base/format.html">format()</a></code> függvény segítségével, amely egyszerű karakteres adattal tér vissza.</p>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">datum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"04/12/2020"</span>, format <span class="op">=</span> <span class="st">"%m/%d/%Y"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2020-04-12"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum</span>, format<span class="op">=</span><span class="st">"%Y. %m. %d."</span><span class="op">)</span> <span class="co"># magyar dátum</span></span>
<span><span class="co">#&gt; [1] "2020. 04. 12."</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum</span>, format<span class="op">=</span><span class="st">"%Y. %B %d."</span><span class="op">)</span>  <span class="co"># magyar dátum</span></span>
<span><span class="co">#&gt; [1] "2020. április 12."</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum</span>, format<span class="op">=</span><span class="st">"%Y. %b %d."</span><span class="op">)</span>  <span class="co"># magyar dátum</span></span>
<span><span class="co">#&gt; [1] "2020. ápr. 12."</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum</span>, format<span class="op">=</span><span class="st">"%Y-%m"</span><span class="op">)</span>       <span class="co"># csak az év és a hónap</span></span>
<span><span class="co">#&gt; [1] "2020-04"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum</span>, format<span class="op">=</span><span class="st">"%Y"</span><span class="op">)</span>          <span class="co"># csak az év</span></span>
<span><span class="co">#&gt; [1] "2020"</span></span></code></pre></div>
</div>
</div>
<div id="dátum-idő-kezelése" class="section level4" number="5.4.2.2">
<h4>
<span class="header-section-number">5.4.2.2</span> Dátum-idő kezelése<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-id%C5%91-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>A <em>dátum-idő</em> (<em>POSIXct</em> típus) olyan <em>double</em> érték, amelynek jelentése az <code>1970-01-01</code> óta eltelt másodpercek száma. Az aktuális dátum és idő lekérdezése <code><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time()</a></code> függvénnyel lehetséges, és ez az általunk <em>dátum-idő</em> típusnak tekintett <em>POSIXct</em> objektummal tér vissza:</p>
<div class="sourceCode" id="cb242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ido</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>     <span class="co"># pontos dátum-idő, POSIXct típusú objektum</span></span>
<span><span class="va">ido</span>                   <span class="co"># ido kírása</span></span>
<span><span class="co">#&gt; [1] "2022-09-09 20:23:11 CEST"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">ido</span><span class="op">)</span>           <span class="co"># ido típusa</span></span>
<span><span class="co">#&gt; [1] "double"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">ido</span><span class="op">)</span>            <span class="co"># ido típusa</span></span>
<span><span class="co">#&gt; [1] "POSIXct" "POSIXt"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">ido</span><span class="op">)</span>          <span class="co"># ido alapja</span></span>
<span><span class="co">#&gt; [1] 1662747791</span></span></code></pre></div>
<p>A fentiek alapján úgy tűnhet, hogy a <em>POSIXct</em> objektum egész másodperceket tárol csupán, de ez nem így van. Az alapértelmezett megjelenítéseken módosítva láthatóvá válnak a tört másodpercek is:</p>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits.secs <span class="op">=</span> <span class="fl">6</span>, digits <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span>
<span><span class="va">ido</span>             <span class="co"># POSIXct kiírása változott digits.sec=6 miatt</span></span>
<span><span class="co">#&gt; [1] "2022-09-09 20:23:11.208062 CEST"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">ido</span><span class="op">)</span>    <span class="co"># double kiírása változott digits=6 miatt</span></span>
<span><span class="co">#&gt; [1] 1662747791.208063</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span>     <span class="co"># alapértelmezések visszaállítása</span></span></code></pre></div>
<p>A <em>POSIXct</em> objektumok másik érdekessége az időzóna tárolása, amely alapértelmezés szerint a magyar környezetben futó R helyi beállításainak megfelelően közép-európai (CEST) időt jelent. A saját rendszerünk időzónája a <code><a href="https://rdrr.io/r/base/timezones.html">Sys.timezone()</a></code> függvénnyel kérdezhető le, a lehetséges időzónákat az <code><a href="https://rdrr.io/r/base/timezones.html">OlsonNames()</a></code> függvény listázza. A legtöbb esetben ezzel nem kell foglalkoznunk, nemzetközi kutatások esetében azonban fontos lehet ismerni az időzóna váltás lehetőségét.</p>
<p>Egyik lehetőség, hogy eleve a kívánt időzónának megfelelő időpontokkal dolgozunk. Ekkor a <code><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv()</a></code> függvénnyel beállíthatjuk a kívánt időzónát, amely a legtöbb esetben a a koordinált világidő (UTC) vagy másképp a greenwichi középidő (GMT). Tudjuk, hogy a magyarországi időzóna téli időszámításkor közép-európai idő (CET, UTC+1), nyáron közép-európai nyári idő (CEST, UTC+2).</p>
<div class="sourceCode" id="cb244"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/timezones.html">Sys.timezone</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># helyi időzóna mentése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span>TZ<span class="op">=</span><span class="st">"UTC"</span><span class="op">)</span>  <span class="co"># UTC (GMT) időzóna beállítása</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>            <span class="co"># pontos dátum-idő lekérése UTC szerint</span></span>
<span><span class="co">#&gt; [1] "2022-09-09 18:23:11 UTC"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span>TZ<span class="op">=</span><span class="va">tz</span><span class="op">)</span>     <span class="co"># alapértelmezett időzóna visszaállítása</span></span></code></pre></div>
<p>A másik lehetőség, hogy már egy létező <em>POSIXct</em> objektumon végzünk időzóna konverziót, amely így az objektum óra (vagy egyéb) részét is érintheti.</p>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ido</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># pontos dátum-idő, helyi beállításnak megfelelően</span></span>
<span><span class="va">ido.utc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">ido</span>, tz<span class="op">=</span><span class="st">"UTC"</span><span class="op">)</span>, tz<span class="op">=</span><span class="st">"UTC"</span><span class="op">)</span>  <span class="co"># konverzió UTC-re</span></span>
<span><span class="va">ido</span>        <span class="co"># helyi időzónával</span></span>
<span><span class="co">#&gt; [1] "2022-09-09 20:23:11 CEST"</span></span>
<span><span class="va">ido.utc</span>    <span class="co"># UTC-vel</span></span>
<span><span class="co">#&gt; [1] "2022-09-09 18:23:11 UTC"</span></span></code></pre></div>
<div id="dátum-idő-létrehozása-karakteres-adatból" class="section level5" number="5.4.2.2.1">
<h5>
<span class="header-section-number">5.4.2.2.1</span> Dátum-idő létrehozása karakteres adatból<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-id%C5%91-l%C3%A9trehoz%C3%A1sa-karakteres-adatb%C3%B3l"><i class="fas fa-link"></i></a>
</h5>
<p>Amennyiben karakteres formában rendelkezésre áll egy időpont, akkor mindössze az egyes komponensek jelentését kell elmagyaráznunk az <code><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct()</a></code> függvény <code>format=</code> argumentumában. Szabványos idő megadása esetén ((<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>)) ezt el is hagyhatjuk.</p>
<div class="sourceCode" id="cb246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-06-02 22:12:23"</span>, tz <span class="op">=</span> <span class="st">"Europe/Budapest"</span><span class="op">)</span>  <span class="co"># szabványos idő</span></span>
<span><span class="co">#&gt; [1] "2022-06-02 22:12:23 CEST"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2019.09.06. 16 34 17"</span>, format<span class="op">=</span><span class="st">"%Y.%m.%d. %H %M %S"</span>, tz<span class="op">=</span><span class="st">"UTC"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2019-09-06 16:34:17 UTC"</span></span></code></pre></div>
<p>A dátum értelmezéséhez használt kódok köre (<a href="az-r-nyelv.html#tab:datumkodok">5.11</a>. táblázat) kibővül a <a href="#tab:datumidokodok"><strong>??</strong></a>. táblázatban szereplő időre vonatkozó kódokkal, így ezeket is használhatjuk a <em>POSIXct</em> objektum létrehozása során. Teljes listát az <code><a href="https://rdrr.io/r/base/strptime.html">?strptime</a></code> súgójában olvashatunk.</p>
<div class="inline-table"><table style="width:54%;" class="table table-sm">
<colgroup>
<col width="19%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th>Formátum kód</th>
<th>Jelentés</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>%H</td>
<td>óra (00-23)</td>
</tr>
<tr class="even">
<td>%I</td>
<td>óra (01-12)</td>
</tr>
<tr class="odd">
<td>%M</td>
<td>perc (00-59) neve</td>
</tr>
<tr class="even">
<td>%p</td>
<td>AM/PM jelzése</td>
</tr>
<tr class="odd">
<td>%S</td>
<td>másodperc (00-59)</td>
</tr>
<tr class="even">
<td>%Z</td>
<td>időzóna (csak output)</td>
</tr>
</tbody>
</table></div>
</div>
<div id="dátum-idő-létrehozása-numerikus-adatokból" class="section level5" number="5.4.2.2.2">
<h5>
<span class="header-section-number">5.4.2.2.2</span> Dátum-idő létrehozása numerikus adatokból<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-id%C5%91-l%C3%A9trehoz%C3%A1sa-numerikus-adatokb%C3%B3l"><i class="fas fa-link"></i></a>
</h5>
<p>Dátum-időt szeparáltan létező információkból is létrehozhatunk. Ehhez az <code><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdatetime()</a></code> függvényt kell használni, ahol minden egyes komponens egyesével felsorolható:</p>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># POSIXct objektum a dátum-idő tárolására</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdatetime</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">2022</span>, month<span class="op">=</span><span class="fl">7</span>, day<span class="op">=</span><span class="fl">3</span>, </span>
<span>            hour<span class="op">=</span><span class="fl">11</span>, min<span class="op">=</span><span class="fl">12</span>, sec<span class="op">=</span><span class="fl">3</span>, tz <span class="op">=</span> <span class="st">"Europe/Budapest"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2022-07-03 11:12:03 CEST"</span></span></code></pre></div>
</div>
<div id="dátum-idő-konvertálása" class="section level5" number="5.4.2.2.3">
<h5>
<span class="header-section-number">5.4.2.2.3</span> Dátum-idő konvertálása<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-id%C5%91-konvert%C3%A1l%C3%A1sa"><i class="fas fa-link"></i></a>
</h5>
<p>A <em>POSIXct</em> objektum <em>dátum</em> típusúvá konvertálható az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvénnyel, illetve a <code><a href="https://rdrr.io/r/base/format.html">format()</a></code> függvény segítségével tetszőleges formájú karakteres dátumot/időt nyerhetünk ki az objektumból.</p>
<div class="sourceCode" id="cb248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ido</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># pontos dátum-idő, helyi beállításnak megfelelően</span></span>
<span><span class="va">ido</span>                <span class="co"># dátum-idő objektum</span></span>
<span><span class="co">#&gt; [1] "2022-09-09 20:23:11 CEST"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">ido</span><span class="op">)</span>       <span class="co"># dátum objektum</span></span>
<span><span class="co">#&gt; [1] "2022-09-09"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">ido</span>, format<span class="op">=</span><span class="st">"%Y. %m. %d."</span><span class="op">)</span>              <span class="co"># magyar dátum</span></span>
<span><span class="co">#&gt; [1] "2022. 09. 09."</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">ido</span>, format<span class="op">=</span><span class="st">"%Y. %B %d. %H.%M.%S"</span><span class="op">)</span>      <span class="co"># magyar dátum-idő</span></span>
<span><span class="co">#&gt; [1] "2022. szeptember 09. 20.23.11"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">ido</span>, format<span class="op">=</span><span class="st">"%Y. %b %d. %H:%M:%S"</span><span class="op">)</span>      <span class="co"># magyar dátum-idő</span></span>
<span><span class="co">#&gt; [1] "2022. szept. 09. 20:23:11"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">ido</span>, format<span class="op">=</span><span class="st">"%Y. %m. %d. %H:%M:%S %Z"</span><span class="op">)</span>  <span class="co"># magyar dátum-idő</span></span>
<span><span class="co">#&gt; [1] "2022. 09. 09. 20:23:11 CEST"</span></span></code></pre></div>
</div>
</div>
<div id="műveletek-és-az-időtartam" class="section level4" number="5.4.2.3">
<h4>
<span class="header-section-number">5.4.2.3</span> Műveletek és az időtartam<a class="anchor" aria-label="anchor" href="#m%C5%B1veletek-%C3%A9s-az-id%C5%91tartam"><i class="fas fa-link"></i></a>
</h4>
<p>A többnyire szöveges formában megjelenő dátumok és dátum-idők R objektummá alakításának a legnagyobb haszna, hogy a <em>Date</em> és <em>POSIXct</em> objektumokkal számos műveletet hajthatunk végre. Lehetőségünk van például különböző dátumok összehasonlítására, kivonására, léptetésére, vagy ábrákon a tengelyeket címkézhetjük dátum objektumokkal. Két dátum (vagy dátum-idő) különbsége az időtartam, amelyet a kivonás (<code>-</code>) operátorral, vagy a <code><a href="https://rdrr.io/r/base/difftime.html">difftime()</a></code> függvénnyel is előállíthatunk. Utóbbi nagyobb szabadságot ad, mert rendelkezik egy <code>unit=</code> argumentummal az időtartam mértékegységének megadására, így értéke lehet a <code>"secs"</code>, <code>"mins"</code>, <code>"hours"</code>, <code>"days"</code> vagy <code>"weeks"</code> is.</p>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2001-03-17"</span><span class="op">)</span>          <span class="co"># születésnap óta eltelt idő napokban</span></span>
<span><span class="co">#&gt; Time difference of 7846 days</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2001-03-17"</span><span class="op">)</span><span class="op">)</span> <span class="co"># ua.</span></span>
<span><span class="co">#&gt; Time difference of 7846 days</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2001-03-17"</span><span class="op">)</span>, unit<span class="op">=</span><span class="st">"hours"</span><span class="op">)</span> <span class="co"># órákban</span></span>
<span><span class="co">#&gt; Time difference of 188304 hours</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2001-03-17"</span><span class="op">)</span>, unit<span class="op">=</span><span class="st">"hours"</span><span class="op">)</span><span class="op">)</span> <span class="co"># számként</span></span>
<span><span class="co">#&gt; [1] 188304</span></span></code></pre></div>
<p>Ne feledjük, hogy az időtartam is egy típus az R-ben (<em>difftime</em> osztály), ahogyan a következő sorokban ez megfigyelhetjük:</p>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">difft</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2001-03-17"</span><span class="op">)</span>, unit<span class="op">=</span><span class="st">"hours"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">difft</span><span class="op">)</span>   <span class="co"># difft típusa</span></span>
<span><span class="co">#&gt; [1] "double"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">difft</span><span class="op">)</span>    <span class="co"># difft típusa</span></span>
<span><span class="co">#&gt; [1] "difftime"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">difft</span><span class="op">)</span>  <span class="co"># difft alapja</span></span>
<span><span class="co">#&gt; [1] 188304</span></span>
<span><span class="co">#&gt; attr(,"units")</span></span>
<span><span class="co">#&gt; [1] "hours"</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/difftime.html">difftime()</a></code> működik dátum-idővel is, és természetesen két dátum vagy időpont között a szokásos műveletek is elvégezhetők. A Google Űrlap időbélyeg oszlopából rögzítettünk két adatot és elvégeztünk néhány műveletet köztük:</p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">idobelyeg.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022.04.06. 11:11:33"</span>, </span>
<span>                          format<span class="op">=</span><span class="st">"%Y.%m.%d. %H:%M:%S"</span>, tz<span class="op">=</span><span class="st">"UTC"</span><span class="op">)</span></span>
<span><span class="va">idobelyeg.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022.04.06. 12:06:35"</span>, </span>
<span>                          format<span class="op">=</span><span class="st">"%Y.%m.%d. %H:%M:%S"</span>, tz<span class="op">=</span><span class="st">"UTC"</span><span class="op">)</span></span>
<span><span class="va">idobelyeg.1</span> <span class="op">==</span> <span class="va">idobelyeg.2</span>  <span class="co"># nem egyenlőek</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="va">idobelyeg.1</span> <span class="op">&lt;</span> <span class="va">idobelyeg.2</span>   <span class="co"># az első időbélyeg a korábbi</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co"># hány másodperc telt el a két válasz között</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">idobelyeg.2</span>, <span class="va">idobelyeg.1</span>, unit<span class="op">=</span><span class="st">"sec"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3302</span></span></code></pre></div>
</div>
<div id="az-r-nyelv-12-summary" class="section level4" number="5.4.2.4">
<h4>
<span class="header-section-number">5.4.2.4</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-12-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A dátumokat <em>Date</em> a dátum-időket <em>POSIXct</em> objektumban
tároljuk az R-ben, melyekkel a szokásos dátumkezelő műveletek már
könnyen elvégezhetők. Időtartamot, vagyis két dátum vagy időpont közötti
különbséget a <code><a href="https://rdrr.io/r/base/difftime.html">difftime()</a></code> függvénnyel határozhatunk meg.
</p>
</div>
</div>
<div id="az-r-nyelv-12-exercise" class="section level4" number="5.4.2.5">
<h4>
<span class="header-section-number">5.4.2.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-12-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Konvertáljuk dátummá a következő két sztringet: <code>"6November2020"</code>, <code>"2013-02-29"</code>! Utóbbi esetben mi lehet a hiba oka?</li>
<li>A <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvény <code>from=</code> és <code>to=</code> argumentuma a dátum típusú objektumokkal is működik. A <code>by=</code> argumentum értéke ilyenkor lehet numerikus (ekkor napokat jelent), de lehet <code>x weeks</code>, <code>x months</code> vagy <code>x years</code>, ahol <code>x</code> nullánál nagyobb egész lehet. Hozzunk létre egy dátum-vektort 2020 összes hétfőjének dátumával!</li>
<li>A Halley-üstökös utoljára 1986-ban járt a Naprendszerünkben, így az előrejelzések szerint legközelebb 2061. július 26-ban tér vissza. Rögzítsük ezt dátumként, és számoljuk ki, hány napotot kell még várni az üstökös érkezésére.</li>
</ol>
</div>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:forestgreen;overflow:visible;position:relative;"><path d="M182.6 246.6C170.1 259.1 149.9 259.1 137.4 246.6L57.37 166.6C44.88 154.1 44.88 133.9 57.37 121.4C69.87 108.9 90.13 108.9 102.6 121.4L159.1 178.7L297.4 41.37C309.9 28.88 330.1 28.88 342.6 41.37C355.1 53.87 355.1 74.13 342.6 86.63L182.6 246.6zM182.6 470.6C170.1 483.1 149.9 483.1 137.4 470.6L9.372 342.6C-3.124 330.1-3.124 309.9 9.372 297.4C21.87 284.9 42.13 284.9 54.63 297.4L159.1 402.7L393.4 169.4C405.9 156.9 426.1 156.9 438.6 169.4C451.1 181.9 451.1 202.1 438.6 214.6L182.6 470.6z"></path></svg><a href="#az-r-nyelv-12-exercise-solution">A fenti feladatok megoldása</a></p>
</div>
</div>
<div id="tibble" class="section level3" number="5.4.3">
<h3>
<span class="header-section-number">5.4.3</span> Tibble<a class="anchor" aria-label="anchor" href="#tibble"><i class="fas fa-link"></i></a>
</h3>
<p>A <em>Tidyverse R</em> használata során az adatainkat <em>tibble</em> típusú objektumban tároljuk. Használatához töltsük be a <strong>tidyverse</strong> csomagot.</p>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>,<span class="st">'B'</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">4</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">9</span>, times<span class="op">=</span><span class="fl">2</span><span class="op">)</span>; <span class="va">z</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>nev<span class="op">=</span><span class="va">x</span>, pont.1<span class="op">=</span><span class="va">y</span>, pont.2<span class="op">=</span><span class="va">z</span><span class="op">)</span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 3</span></span>
<span><span class="co">#&gt;   nev   pont.1 pont.2</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 A          6      1</span></span>
<span><span class="co">#&gt; 2 B          7      2</span></span>
<span><span class="co">#&gt; 3 A          8      3</span></span>
<span><span class="co">#&gt; 4 B          9      4</span></span>
<span><span class="co">#&gt; 5 A          6      5</span></span>
<span><span class="co">#&gt; 6 B          7      6</span></span>
<span><span class="co">#&gt; 7 A          8      7</span></span>
<span><span class="co">#&gt; 8 B          9      8</span></span></code></pre></div>
<p>A tibble objektumok alaptípusa lista, de az osztálytípusok között megjelennek a tibble-re specifikus osztályok is. A A <code>tbl_df</code> osztály jelenléte hozza magával azokat az új tulajdonságokat és lehetőségeket, amit a Tidyverse R központi adatszerkezetévé teszi ezt az objektumtípust.</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $row.names</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6 7 8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $names</span></span>
<span><span class="co">#&gt; [1] "nev"    "pont.1" "pont.2"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></span></code></pre></div>
<p>A tibble és a data frame típusú objektumok között az átjárhatóságot az <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble()</a></code> és az <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> függvény biztosítja.</p>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 3</span></span>
<span><span class="co">#&gt;   nev   pont.1 pont.2</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 A          6      1</span></span>
<span><span class="co">#&gt; 2 B          7      2</span></span>
<span><span class="co">#&gt; 3 A          8      3</span></span>
<span><span class="co">#&gt; 4 B          9      4</span></span>
<span><span class="co">#&gt; 5 A          6      5</span></span>
<span><span class="co">#&gt; 6 B          7      6</span></span>
<span><span class="co">#&gt; 7 A          8      7</span></span>
<span><span class="co">#&gt; 8 B          9      8</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   nev pont.1 pont.2</span></span>
<span><span class="co">#&gt; 1   A      6      1</span></span>
<span><span class="co">#&gt; 2   B      7      2</span></span>
<span><span class="co">#&gt; 3   A      8      3</span></span>
<span><span class="co">#&gt; 4   B      9      4</span></span>
<span><span class="co">#&gt; 5   A      6      5</span></span>
<span><span class="co">#&gt; 6   B      7      6</span></span>
<span><span class="co">#&gt; 7   A      8      7</span></span>
<span><span class="co">#&gt; 8   B      9      8</span></span></code></pre></div>
<p>A tibble típus tesztelése az <code><a href="https://tibble.tidyverse.org/reference/is_tibble.html">is_tibble()</a></code> segítségével történik, de a tibble típusú objektumokra az <code><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame()</a></code> is igaz értékkel tér vissza:</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/is_tibble.html">is_tibble</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Melyek a data frame és a tibble közötti különbségek? Már három eltérést akár észre is vehettünk. Az első a tibble létrehozásához kötődik. Egy tibble típusú objektum, csak azonos hosszúságú oszlopvektorokból hozható létre, így biztonságosabban konstruálható, mint az ismétlést is támogató data frame típusú objektumok. Tibble esetében csak az egy hosszú vektorok ismétlése megengedett. Tehát ez a konstrukció működik:</p>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, p<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;   a         p</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 a         1</span></span>
<span><span class="co">#&gt; 2 b         1</span></span>
<span><span class="co">#&gt; 3 c         1</span></span></code></pre></div>
<p>A második különbség, hogy a tibble a létrehozás során nem végez automatikus típuskonverziót. Tehát a karakteres vektorokat nem alakítja át faktorokká.</p>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [8 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ nev   : chr [1:8] "A" "B" "A" "B" ...</span></span>
<span><span class="co">#&gt;  $ pont.1: int [1:8] 6 7 8 9 6 7 8 9</span></span>
<span><span class="co">#&gt;  $ pont.2: int [1:8] 1 2 3 4 5 6 7 8</span></span></code></pre></div>
<p>A harmadik különbség az adatok megjelenítésében van. Tibble esetében csak az első 10 sor jelenik meg, és annyi oszlop, amennyi az aktuális képernyőre kifér. A több oszlop neve alul jelenik meg. Az oszlopnevek alatt az oszlop típusa is megjelenik.</p>
<p>A negyedik eltérés a tibble indexeléséhez kötődik. Az <code>[</code> operátor használata során minden esetben tibble típusú objektumot kapunk, nem kaphatunk vektort, azaz nem történhet dimenzióvesztés.</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 1</span></span>
<span><span class="co">#&gt;   pont.1</span></span>
<span><span class="co">#&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1      6</span></span>
<span><span class="co">#&gt; 2      7</span></span>
<span><span class="co">#&gt; 3      8</span></span>
<span><span class="co">#&gt; 4      9</span></span>
<span><span class="co">#&gt; 5      6</span></span>
<span><span class="co">#&gt; 6      7</span></span>
<span><span class="co">#&gt; 7      8</span></span>
<span><span class="co">#&gt; 8      9</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   nev   pont.1 pont.2</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 A          6      1</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span><span class="co">#&gt;   pont.1</span></span>
<span><span class="co">#&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1      6</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span>, drop<span class="op">=</span><span class="cn">T</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 6</span></span></code></pre></div>
</div>
<div id="a-munkaterület-függvényei" class="section level3" number="5.4.4">
<h3>
<span class="header-section-number">5.4.4</span> A munkaterület függvényei<a class="anchor" aria-label="anchor" href="#a-munkater%C3%BClet-f%C3%BCggv%C3%A9nyei"><i class="fas fa-link"></i></a>
</h3>
<p>Megbeszéltük, hogy a munka során az objektumaink a memória speciális területére, a munkaterületre (workspace) kerülnek. Ha még korábban nem is hoztunk létre objektumot, akkor a következő három parancs, három objektumot hoz létre a munkaterületen:</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fib.0</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">fib.1</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">fib.2</span> <span class="op">&lt;-</span> <span class="va">fib.0</span> <span class="op">+</span> <span class="va">fib.1</span></span></code></pre></div>
<p>A munkaterületen létrehozott objektumok neveit az <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> függvény listázza ki:</p>
<div class="sourceCode" id="cb260"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ls()</span></span></code></pre></div>
<p>A munkaterületről objektumot az <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> paranccsal távolíthatunk el, például a</p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">fib.0</span><span class="op">)</span>         <span class="co"># fib.0 törlése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "a"               "alap"            "D"               "datum"          </span></span>
<span><span class="co">#&gt;  [5] "df"              "df.long"         "df1"             "df2"            </span></span>
<span><span class="co">#&gt;  [9] "df3"             "difft"           "egyutthato.a"    "egyutthato.b"   </span></span>
<span><span class="co">#&gt; [13] "egyutthato.c"    "eset.1"          "eset.2"          "eset.3"         </span></span>
<span><span class="co">#&gt; [17] "fib.1"           "fib.2"           "fiu"             "foglalkozas"    </span></span>
<span><span class="co">#&gt; [21] "hazas"           "ido"             "ido.utc"         "idobelyeg.1"    </span></span>
<span><span class="co">#&gt; [25] "idobelyeg.2"     "import_example"  "isk.vegz"        "isk.vegz.f"     </span></span>
<span><span class="co">#&gt; [29] "iteletek"        "lakohely"        "lct"             "magassag"       </span></span>
<span><span class="co">#&gt; [33] "mat"             "nev"             "nevek"           "obj.double"     </span></span>
<span><span class="co">#&gt; [37] "obj.integer"     "obj.karakteres"  "obj.logikai"     "op"             </span></span>
<span><span class="co">#&gt; [41] "peter.bmi"       "peter.magassaga" "peter.sulya"     "pontszamok"     </span></span>
<span><span class="co">#&gt; [45] "pulzus.atlag"    "Pulzus.atlag"    "regi.v.1"        "regi.v.2"       </span></span>
<span><span class="co">#&gt; [49] "survey"          "szamok"          "tab1"            "tab2"           </span></span>
<span><span class="co">#&gt; [53] "tab3"            "tab4"            "table.kiir"      "tan.ido"        </span></span>
<span><span class="co">#&gt; [57] "tipus"           "tomb"            "tz"              "uj.v"           </span></span>
<span><span class="co">#&gt; [61] "v.d"             "v.i"             "v.k"             "v.l"            </span></span>
<span><span class="co">#&gt; [65] "van.kocsija"     "vekt"            "x"               "x.d"            </span></span>
<span><span class="co">#&gt; [69] "x.f"             "x.f.1"           "x.f.2"           "x.f.3"          </span></span>
<span><span class="co">#&gt; [73] "y"               "z"               "z.uj"</span></span></code></pre></div>
<p>a <code>fib.0</code> objektumot távolította el, így az <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> eredményében ez nem is szerepel. Az összes munkaterület-objektum eltávolítása a</p>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># rm(list = ls())   # összes objektum törlése</span></span>
<span><span class="co"># ls()</span></span></code></pre></div>
<p>segítségével történik.</p>
</div>
<div id="a-munkakönyvtár-függvényei" class="section level3" number="5.4.5">
<h3>
<span class="header-section-number">5.4.5</span> A munkakönyvtár függvényei<a class="anchor" aria-label="anchor" href="#a-munkak%C3%B6nyvt%C3%A1r-f%C3%BCggv%C3%A9nyei"><i class="fas fa-link"></i></a>
</h3>
<p>Az R használata során mindig van egy kitüntetett, aktuális könyvtárunk, amelyet munkakönyvtárnak nevezünk. A munkakönyvtár célja, hogy az állományok nyitása és mentése során, ha nem használunk külön könyvtárhivatkozást, akkor ez lesz az alapértelmezett könyvtár.</p>
<p>A munkakönyvtár az R-ben lekérdezhető ill. beállítható a <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> és a <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> parancsok kiadásával. Például</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/Data/peldak"</span><span class="op">)</span></span></code></pre></div>
<p>parancsokkal először megismerjük az aktuális könyvtárat, majd megváltoztatjuk a <code>C:/Data/peldak</code> könyvtárra. Figyeljük meg, hogy az elérési útban perjelet (<code>/</code>) használtunk.</p>
<p>Megjegyezzük, hogy az RStudio projekt üzemmódú használata során nincs szükség a munkakönyvtár beállítására a <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> paranccsal, sőt, kerüljük a használatát. A munkakönyvtárunk a munka során végig maradjon meg az alapértelmezetten beállított könyvtár, maga a projektkönyvtár.</p>
<p>A munkakönyvtár jelentőségét tovább növeli, hogy az R indításakor ebben a könyvtárban 2 állomány létezését figyeli:
* <code>.Rhistory</code> (a visszahívható parancsokat tartalmazó szöveges állomány)
* <code>.RData</code> (a tárolt objektumokat tartalmazó bináris állomány).</p>
<p>A fenti állományok ugyanis betöltésre kerülnek az R indításakor, ha azokat az R megtalálja a munkakönyvtárban. Így ezek után, az <code>.Rhistory</code> állományból jövő parancsok között válogathatunk a parancssor használata során, illetve az <code>.RData</code> állományban tárolt objektumok azonnal elérhetőek, vagyis lesz egy induló munkaterületünk.</p>
</div>
<div id="csomagkezelő-függvények" class="section level3" number="5.4.6">
<h3>
<span class="header-section-number">5.4.6</span> Csomagkezelő függvények<a class="anchor" aria-label="anchor" href="#csomagkezel%C5%91-f%C3%BCggv%C3%A9nyek"><i class="fas fa-link"></i></a>
</h3>
<p>Korábban megbeszéltük, hogy a csomagok adatobjektumokat és függvényeket tartalmaznak. Az ún. egyéb csomagok (számuk kb. 17000) elsődleges célja az <em>Alap R</em> tudásának kiegészítése.</p>
<p>Az R indítása után néhány csomag automatikusan betöltésre kerül a standard csomagok közül. Ezeket a csomagokat és egyéb ún. környezeteket listázhatunk ki a <code><a href="https://rdrr.io/r/base/search.html">search()</a></code> függvénnyel.</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="st">"tools:rstudio"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## [1] ".GlobalEnv"        "package:stats"     "package:graphics" </span></span>
<span><span class="co">## [4] "package:grDevices" "package:utils"     "package:datasets" </span></span>
<span><span class="co">## [7] "package:methods"   "Autoloads"         "package:base"</span></span></code></pre></div>
<p>A fenti eredményben a <code>package</code> karaktersorozattal kezdődő elemek mutatják, hogy melyek az éppen betöltött csomagok. A listában nem szereplő, de korábban telepített csomagok betöltéséhez használjuk a <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> vagy <code><a href="https://rdrr.io/r/base/library.html">require()</a></code> függvényeket.</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://svn.r-project.org/R-packages/trunk/foreign/">foreign</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##  [1] ".GlobalEnv"        "package:foreign"   "package:MASS"     </span></span>
<span><span class="co">##  [4] "package:stats"     "package:graphics"  "package:grDevices"</span></span>
<span><span class="co">##  [7] "package:utils"     "package:datasets"  "package:methods"  </span></span>
<span><span class="co">## [10] "Autoloads"         "package:base"  </span></span></code></pre></div>
<p>A fenti példában a <strong>MASS</strong> és a <strong>foreign</strong> csomag betöltését és annak hatását követhetjük nyomon a <code><a href="https://rdrr.io/r/base/search.html">search()</a></code> függvény outputjára. Egy csomag betöltése azt jelenti, hogy a csomagban lévő függvények és objektumok a memóriába kerültek, azokat a parancsainkban ezután szabadon felhasználhatjuk.</p>
<p>Egy adott csomagban (esetünkben a <strong>foreign</strong> csomagban) lévő függvények és objektumok a</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span>help<span class="op">=</span><span class="va">foreign</span><span class="op">)</span></span></code></pre></div>
<p>vagy a</p>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html">help</a></span><span class="op">(</span>package<span class="op">=</span><span class="va">foreign</span><span class="op">)</span></span></code></pre></div>
<p>paranccsal kérdezhetők le. Betöltött csomagok esetében használhatjuk az</p>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"package:foreign"</span>, all.names <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"package:base"</span>, all.names <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>parancsot is, amely a csomag adatobjektumainak és függvényeinek a nevét listázza.</p>
<p>Betöltött csomagot a <code><a href="https://rdrr.io/r/base/detach.html">detach()</a></code> függvénnyel távolíthatunk el a memóriából:</p>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">package</span><span class="op">:</span><span class="va">foreign</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">package</span><span class="op">:</span><span class="va">MASS</span><span class="op">)</span></span></code></pre></div>
<p>Ha a használni kívánt csomag még nincs telepítve a számítógépünkre, akkor az @ref(Csomagok_telepítése). fejezetben ismertetett módok egyikét válasszuk, attól függően, hogy a csomag melyik tárhelyről érhető el.</p>
<p>A CRAN-ról elérhető csomagok közül telepítsük fel a <strong>DescTools</strong> és <strong>psych</strong> csomagokat:</p>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"DescTools"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"psych"</span><span class="op">)</span></span></code></pre></div>
<p>A számítógépünkön telepített csomagokról az <code><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages()</a></code> függvény ad tájékoztatást. Amennyiben a</p>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">csomagok</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">csomagok</span><span class="op">)</span>                    <span class="co"># RStudio-ban vagy RGui-ban</span></span></code></pre></div>
<p>parancsot kiadjuk az RStudio-ban, akkor csomagjainkat kényelmesen áttekinthetjük.</p>
<p>Csomagok frissítésére használjuk a már korábban említett</p>
<div class="sourceCode" id="cb274"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/update.packages.html">update.packages</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>parancsot.</p>
</div>
<div id="az-r-nyelv-14-exercise" class="section level3" number="5.4.7">
<h3>
<span class="header-section-number">5.4.7</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-14-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdlevel1">
<ol style="list-style-type: decimal">
<li>Írassuk ki a munkaterület objektumait!</li>
<li>Hozzunk létre egy <code>pulzus</code> nevű objektumot és újra írassuk ki a munkaterület objektumneveit!</li>
<li>Távolítsuk el a <code>pulzus</code> objektumot a munkaterületről!</li>
<li>Határozzuk meg az aktuális munkakönyvtárat!</li>
<li>Növeljük meg a betű méretét az RGui, az R Commander és az R Studio alkalmazásokban is!</li>
<li>Vizsgáljuk meg, hogy a számítógépünkön van-e telepítve a <strong>DescTools</strong> csomag, ha nincs telepítsük! Derítsük ki, hogy a <strong>DescTools</strong> csomagnak mi a célja? Soroljunk fel három függvényt és adattáblát ebből a csomagból! Távolítsuk el a memóriából a <strong>DescTools</strong> csomagot!</li>
<li>Telepítsük a számítógépünkre a következő csomagokat: <strong>HSAUR2</strong>, <strong>psych</strong>, <strong>prettyR</strong>, <strong>descr</strong> és <strong>pastecs</strong>!</li>
</ol>
</div>
</div>
</div>
<div id="haladó-nyelvi-elemek" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Haladó nyelvi elemek<a class="anchor" aria-label="anchor" href="#halad%C3%B3-nyelvi-elemek"><i class="fas fa-link"></i></a>
</h2>
<div id="objektumok-és-típusok" class="section level3" number="5.5.1">
<h3>
<span class="header-section-number">5.5.1</span> Objektumok és típusok<a class="anchor" aria-label="anchor" href="#objektumok-%C3%A9s-t%C3%ADpusok"><i class="fas fa-link"></i></a>
</h3>
<p>Az R-ben használható objektumok név-érték párok, vagyis minden objektumnak van neve és értéke. Objektumok alatt ebben a könyvben az adatobjektumokat értjük, bár már említettünk, hogy valójában a függvények is objektumoknak tekinthetők az R-ben, hiszen a függvénynek is van neve, és értéke, az utóbbi pedig utasítások sorozata. Az R-ben minden objektum, például az eddig vizsgált vektorok, attribútumokkal is rendelkezhetnek. Az attribútumok név-értek párok, amelyek speciális tulajdonságokkal ruházzák fel az objektumunkat. Például a <code>names</code> nevű attribútummal a vektor egyes elemeit nevezhetjük el. Későbbiekben látjuk a <code>dim</code>, <code>dimnames</code>, <code>level</code> és <code>class</code> attribútumok jelentőségét is.</p>
<p>Egy objektum összes attribútuma az <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code> függvénnyel kérdezhetők le. Ha a <code>names</code> attribútumra vagyunk kíváncsiak a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvényt is használhatjuk. Ha létrehozunk egy <code>x</code> numerikus vektort, akkor</p>
<div class="sourceCode" id="cb275"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>        <span class="co"># integer vektor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>   <span class="co"># x attribútumainak kiírása </span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>        <span class="co"># x name attribútumának kiírása</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"length"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"integer"</span></span></code></pre></div>
<p>Az <code>x</code> numerikus vektornak nincsenek attribútumai. A <code>NULL</code> az általános, elem nélküli vektort jelenti. A fenti outputban szereplő két <code>NULL</code> esetünkben azt jelzi, hogy nem állítottunk be semmilyen attribútumot, így <code>names</code> attribútumot sem.</p>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span><span class="op">=</span><span class="fl">1</span>, <span class="st">"b"</span><span class="op">=</span><span class="fl">2</span>, <span class="st">"c"</span><span class="op">=</span><span class="fl">3</span>, <span class="st">"d"</span><span class="op">=</span><span class="fl">4</span>, <span class="st">"e"</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span> <span class="co"># integer vektor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                  <span class="co"># x attribútumainak kiírása </span></span>
<span><span class="co">#&gt; $names</span></span>
<span><span class="co">#&gt; [1] "a" "b" "c" "d" "e"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                       <span class="co"># x name attribútumának kiírása</span></span>
<span><span class="co">#&gt; [1] "a" "b" "c" "d" "e"</span></span></code></pre></div>
<p>A <code>names</code> attribútum beállítható a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvénnyel is.</p>
<div class="sourceCode" id="cb277"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"elégtelen"</span>, <span class="st">"elégséges"</span>, <span class="st">"közepes"</span>, <span class="st">"jó"</span>, <span class="st">"jeles"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                  <span class="co"># x attribútumainak kiírása </span></span>
<span><span class="co">#&gt; $names</span></span>
<span><span class="co">#&gt; [1] "elégtelen" "elégséges" "közepes"   "jó"        "jeles"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                       <span class="co"># x name attribútumának kiírása</span></span>
<span><span class="co">#&gt; [1] "elégtelen" "elégséges" "közepes"   "jó"        "jeles"</span></span></code></pre></div>
<p>A <code>names</code> attribútum értéke karakteres vektor lehet, amely az outputokban is megjelenik és a indexelésben is felhasználhatjuk.</p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span></span>
<span><span class="co">#&gt; elégtelen elégséges   közepes        jó     jeles </span></span>
<span><span class="co">#&gt;         1         2         3         4         5</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"közepes"</span>, <span class="st">"jó"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; közepes      jó </span></span>
<span><span class="co">#&gt;       3       4</span></span></code></pre></div>
<p>Rögzítsük a (0, 1, 2) értékek előfordulási gyakoriságait a (18, 12, 20) elemeket tartalmazó vektorban. Az elemek nevei most is karakteres konstansok lesznek, az automatikus konverzióról az R gondoskodik.</p>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">12</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">2</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt;  0  1  2 </span></span>
<span><span class="co">#&gt; 18 12 20</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "0" "1" "2"</span></span></code></pre></div>
<p>Az <code>y</code> vektor indexelésénél fontos, hogy megkülönböztessük a numerikus és a karakteres indexeket, az utóbbiaknál mindig idézőjelet kell használnunk.</p>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co">#&gt; elégtelen </span></span>
<span><span class="co">#&gt;         1</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="st">"1"</span><span class="op">]</span></span>
<span><span class="co">#&gt; &lt;NA&gt; </span></span>
<span><span class="co">#&gt;   NA</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span>; <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"2"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; elégtelen   közepes </span></span>
<span><span class="co">#&gt;         1         3</span></span>
<span><span class="co">#&gt; &lt;NA&gt; &lt;NA&gt; </span></span>
<span><span class="co">#&gt;   NA   NA</span></span></code></pre></div>
<p>Egyetlen attribútum lekérdezésére és beállítására az <code><a href="https://rdrr.io/r/base/attr.html">attr()</a></code> függvényt is használhatjuk. Az <code><a href="https://rdrr.io/r/base/attr.html">attr()</a></code> függvényben meg kell adnunk az elérendő attribútum nevét is.</p>
<div class="sourceCode" id="cb281"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"names"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"names"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "A" "B" "C" "D" "E"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $names</span></span>
<span><span class="co">#&gt; [1] "A" "B" "C" "D" "E"</span></span></code></pre></div>
<p>Attribútumok törlésére a <code>NULL</code> értéket használjuk.</p>
<div class="sourceCode" id="cb282"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>             <span class="co"># names attribútum törlése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"names"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>     <span class="co"># names attribútum törlése</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>        <span class="co"># az összes attribútum törlése</span></span></code></pre></div>
<p>A <code>dim</code> argumentum</p>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>                      <span class="co"># integer vektor</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"dim"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">6</span><span class="op">)</span>       <span class="co"># integer mátrix (2x6-os)       </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $dim</span></span>
<span><span class="co">#&gt; [1] 2 6</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">#&gt; [1,]    1    3    5    7    9   11</span></span>
<span><span class="co">#&gt; [2,]    2    4    6    8   10   12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"dim"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>   <span class="co"># integer tömb (2x3x2-es)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $dim</span></span>
<span><span class="co">#&gt; [1] 2 3 2</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; , , 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    3    5</span></span>
<span><span class="co">#&gt; [2,]    2    4    6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    7    9   11</span></span>
<span><span class="co">#&gt; [2,]    8   10   12</span></span></code></pre></div>
<p>Amennyiben</p>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>                      <span class="co"># integer vektor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"dim"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">6</span><span class="op">)</span>       <span class="co"># integer mátrix (2x6-os)       </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html">dimnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>nem<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>, osztaly<span class="op">=</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span>        </span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;        osztaly</span></span>
<span><span class="co">#&gt; nem     A B C D  E  F</span></span>
<span><span class="co">#&gt;   férfi 1 3 5 7  9 11</span></span>
<span><span class="co">#&gt;   nő    2 4 6 8 10 12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $dim</span></span>
<span><span class="co">#&gt; [1] 2 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dimnames</span></span>
<span><span class="co">#&gt; $dimnames$nem</span></span>
<span><span class="co">#&gt; [1] "férfi" "nő"   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dimnames$osztaly</span></span>
<span><span class="co">#&gt; [1] "A" "B" "C" "D" "E" "F"</span></span></code></pre></div>
<p>Osztályok</p>
<p>A faktor ennek megfelelően tartalmaz egy <code>levels</code> attribútumot, amely a faktor különböző értékeit (szintjeit) sorolja fel. A faktorok <code>class</code> attribútumának értéke pedig <code>factor</code>.</p>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"a"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="co">#&gt; $levels</span></span>
<span><span class="co">#&gt; [1] "a" "b"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "factor"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "b"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "factor"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="co">#attributes(f)&lt;- NULL</span></span>
<span><span class="co">#f</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 1</span></span>
<span><span class="co">#&gt; attr(,"levels")</span></span>
<span><span class="co">#&gt; [1] "a" "b"</span></span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> függvény az objektum <code>class</code> argumentumával tér vissza. Azok az objektumok, amelyek nem rendelkeznek <code>class</code> argumentummal, a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> visszatérési értéke</p>
<ul>
<li>
<code>"numeric"</code>, ha az objektum <em>integer</em> vagy <em>double</em> vektor</li>
<li>
<code>"array"</code> és/vagy <code>"matrix"</code>, ha az objektum rendelkezik <code>dim</code> attributummal</li>
<li>más esetben a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> visszatérési értékével.</li>
</ul>
<p>Az <code><a href="https://rdrr.io/r/base/class.html">unclass()</a></code> visszatérési értéke az az objektum, amelynek a <code>class</code> attribűtumát eltávolították.</p>
<p>A korábban tárgyat típusok mindegyike osztály: <em>Date</em>, <em>difftime</em>, <em>POSIXct</em>, <em>POSIXlt</em>, <em>table</em>.</p>
<div class="sourceCode" id="cb286"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-12"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "Date"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Date"</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-12"</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; Time difference of 911 days</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "difftime"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $units</span></span>
<span><span class="co">#&gt; [1] "days"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "difftime"</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span>, month <span class="op">=</span> <span class="fl">12</span>, day <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] "2020-12-02 12:00:00 GMT"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "POSIXct" "POSIXt" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tzone</span></span>
<span><span class="co">#&gt; [1] "GMT"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "POSIXct" "POSIXt"</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXlt</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] "2020-12-02 12:00:00 GMT"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $names</span></span>
<span><span class="co">#&gt; [1] "sec"   "min"   "hour"  "mday"  "mon"   "year"  "wday"  "yday"  "isdst"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "POSIXlt" "POSIXt" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tzone</span></span>
<span><span class="co">#&gt; [1] "GMT"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "POSIXlt" "POSIXt"</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  A  B  C </span></span>
<span><span class="co">#&gt; 37 32 31</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $dim</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dimnames</span></span>
<span><span class="co">#&gt; $dimnames[[1]]</span></span>
<span><span class="co">#&gt; [1] "A" "B" "C"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "table"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "table"</span></span></code></pre></div>
<p>A listaelemek nevét a <code>x</code> lis <code>names</code> attribútuma tartalmazza, segítségével a többi elemnek is adhatunk értéket:</p>
<div class="sourceCode" id="cb287"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "A" "B" "C"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "b" "C"</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;  a  b  C </span></span>
<span><span class="co">#&gt; 37 32 31</span></span></code></pre></div>
<div id="értékek-kizárása" class="section level4" number="5.5.1.1">
<h4>
<span class="header-section-number">5.5.1.1</span> Értékek kizárása<a class="anchor" aria-label="anchor" href="#%C3%A9rt%C3%A9kek-kiz%C3%A1r%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>A faktor létrehozásánál gondoskodhatunk bizonyos értékek kizárásáról, olyan értékekről, amelyeket nem szeretnénk a faktorban felsorolni:</p>
<div class="sourceCode" id="cb288"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 1    2    3    4    5    &lt;NA&gt; 3    4    5    6   </span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4 5 6</span></span></code></pre></div>
<p>Alapértelmezés szerint az <code>NA</code> értéket zárjuk ki a faktor szintjeiből, de ezt megváltoztathatjuk az <code>exclude=</code> paraméter használatával:</p>
<div class="sourceCode" id="cb289"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>, exclude<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 1    2    3    4    5    &lt;NA&gt; 3    4    5    6   </span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4 5 6 &lt;NA&gt;</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>, exclude<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 1    2    3    &lt;NA&gt; 5    &lt;NA&gt; 3    &lt;NA&gt; 5    6   </span></span>
<span><span class="co">#&gt; Levels: 1 2 3 5 6</span></span></code></pre></div>
<p>Ahogy látjuk a fenti példában, akár az <code>NA</code> értéket is bevonhatjuk a faktor szintjeibe, akár más értékeket is kizárhatunk az <code>NA</code>-n kívül.</p>
<p>Nézzük, hogyan tekint az R az adattáblára.</p>
<div class="sourceCode" id="cb290"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#typeof(df); class(df); length(df)</span></span>
<span><span class="co">#is.list(df); is.matrix(df); is.data.frame(df)</span></span></code></pre></div>
<p>Az adattáblák alaptípusa <code>list</code>, osztálytípusa pedig <code>data.frame</code> a hossza pedig az alkotó (oszlop)vektorok/faktorok száma. Az adattáblára tehát tekinthetünk úgy, mint egy listára, melynek elemei az adattábla oszlopai lesznek.</p>
<p><strong>Feladat</strong></p>
<p>2<strong>3</strong>4
(2<strong>3)</strong>4
2<strong>(3</strong>4)</p>

</div>
</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="munka-az-r-ben.html"><span class="header-section-number">4</span> Munka az R-ben</a></div>
<div class="next"><a href="beolvasas.html"><span class="header-section-number">6</span> Beolvasás</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#az-r-nyelv"><span class="header-section-number">5</span> Az R nyelv</a></li>
<li>
<a class="nav-link" href="#adatobjektumok"><span class="header-section-number">5.1</span> Adatobjektumok</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#sz%C3%A1mol%C3%A1s-az-r-ben"><span class="header-section-number">5.1.1</span> Számolás az R-ben</a></li>
<li><a class="nav-link" href="#objektumok"><span class="header-section-number">5.1.2</span> Objektumok</a></li>
<li><a class="nav-link" href="#MegjegyzesazRben"><span class="header-section-number">5.1.3</span> Megjegyzések</a></li>
<li><a class="nav-link" href="#az-r-nyelv-1-summary"><span class="header-section-number">5.1.4</span> Összefoglalás</a></li>
<li><a class="nav-link" href="#az-r-nyelv-1-exercise"><span class="header-section-number">5.1.5</span> Feladatok</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#f%C3%BCggv%C3%A9nyek"><span class="header-section-number">5.2</span> Függvények</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#a-f%C3%BCggv%C3%A9nyh%C3%ADv%C3%A1s-szab%C3%A1lyai"><span class="header-section-number">5.2.1</span> A függvényhívás szabályai</a></li>
<li><a class="nav-link" href="#a-kifejez%C3%A9s-fogalma"><span class="header-section-number">5.2.2</span> A kifejezés fogalma</a></li>
<li><a class="nav-link" href="#az-r-nyelv-2-summary"><span class="header-section-number">5.2.3</span> Összefoglalás</a></li>
<li><a class="nav-link" href="#az-r-nyelv-2-exercise"><span class="header-section-number">5.2.4</span> Feladatok</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#adatszerkezetek"><span class="header-section-number">5.3</span> Adatszerkezetek</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#konstansok"><span class="header-section-number">5.3.1</span> Konstansok</a></li>
<li><a class="nav-link" href="#%C3%A1ttekint%C3%A9s"><span class="header-section-number">5.3.2</span> Áttekintés</a></li>
<li><a class="nav-link" href="#vektor"><span class="header-section-number">5.3.3</span> Vektor</a></li>
<li><a class="nav-link" href="#m%C3%A1trix"><span class="header-section-number">5.3.4</span> Mátrix</a></li>
<li><a class="nav-link" href="#faktor"><span class="header-section-number">5.3.5</span> Faktor</a></li>
<li><a class="nav-link" href="#listadefalf"><span class="header-section-number">5.3.6</span> Lista</a></li>
<li><a class="nav-link" href="#adatt%C3%A1bla"><span class="header-section-number">5.3.7</span> Adattábla</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#tov%C3%A1bbi-adatszerkezetek"><span class="header-section-number">5.4</span> További adatszerkezetek</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#t%C3%B6mb%C3%B6k-%C3%A9s-t%C3%A1bl%C3%A1zatok"><span class="header-section-number">5.4.1</span> Tömbök és táblázatok</a></li>
<li><a class="nav-link" href="#d%C3%A1tum-%C3%A9s-id%C5%91"><span class="header-section-number">5.4.2</span> Dátum és idő</a></li>
<li><a class="nav-link" href="#tibble"><span class="header-section-number">5.4.3</span> Tibble</a></li>
<li><a class="nav-link" href="#a-munkater%C3%BClet-f%C3%BCggv%C3%A9nyei"><span class="header-section-number">5.4.4</span> A munkaterület függvényei</a></li>
<li><a class="nav-link" href="#a-munkak%C3%B6nyvt%C3%A1r-f%C3%BCggv%C3%A9nyei"><span class="header-section-number">5.4.5</span> A munkakönyvtár függvényei</a></li>
<li><a class="nav-link" href="#csomagkezel%C5%91-f%C3%BCggv%C3%A9nyek"><span class="header-section-number">5.4.6</span> Csomagkezelő függvények</a></li>
<li><a class="nav-link" href="#az-r-nyelv-14-exercise"><span class="header-section-number">5.4.7</span> Feladatok</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#halad%C3%B3-nyelvi-elemek"><span class="header-section-number">5.5</span> Haladó nyelvi elemek</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#objektumok-%C3%A9s-t%C3%ADpusok"><span class="header-section-number">5.5.1</span> Objektumok és típusok</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/abarik/aeer/blob/master/05-Az-R-nyelv.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/abarik/aeer/edit/master/05-Az-R-nyelv.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Adatkezelés és egyváltozós elemzések R-ben</strong>" was written by Abari Kálmán. It was last built on 2022-09-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
