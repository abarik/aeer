<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>5 Az R nyelv | Adatkezelés és egyváltozós elemzések R-ben</title>
<meta name="author" content="Abari Kálmán">
<meta name="description" content="Az előző fejezetekben megismertük az R környezetet, az Alap R, az RStudio és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="5 Az R nyelv | Adatkezelés és egyváltozós elemzések R-ben">
<meta property="og:type" content="book">
<meta property="og:url" content="https://abarik.github.io/aeer/az-r-nyelv.html">
<meta property="og:image" content="https://abarik.github.io/aeer/images/cover.jpg">
<meta property="og:description" content="Az előző fejezetekben megismertük az R környezetet, az Alap R, az RStudio és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="5 Az R nyelv | Adatkezelés és egyváltozós elemzések R-ben">
<meta name="twitter:description" content="Az előző fejezetekben megismertük az R környezetet, az Alap R, az RStudio és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a...">
<meta name="twitter:image" content="https://abarik.github.io/aeer/images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68765210-2', 'auto');
      ga('send', 'pageview');

    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Adatkezelés és egyváltozós elemzések R-ben</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Üdvözöljük</a></li>
<li><a class="" href="eloszo.html">Előszó</a></li>
<li><a class="" href="itt-kezdodik.html"><span class="header-section-number">1</span> Itt kezdődik</a></li>
<li><a class="" href="mi-az-r.html"><span class="header-section-number">2</span> Mi az R?</a></li>
<li><a class="" href="az-r-telepitese.html"><span class="header-section-number">3</span> Az R telepítése</a></li>
<li><a class="" href="munka-az-r-ben.html"><span class="header-section-number">4</span> Munka az R-ben</a></li>
<li><a class="active" href="az-r-nyelv.html"><span class="header-section-number">5</span> Az R nyelv</a></li>
<li><a class="" href="beolvasas.html"><span class="header-section-number">6</span> Beolvasás</a></li>
<li><a class="" href="adatmanipulacio.html"><span class="header-section-number">7</span> Adatmanipuláció</a></li>
<li><a class="" href="leiro-statisztika.html"><span class="header-section-number">8</span> Leíró statisztika</a></li>
<li><a class="" href="grafika-az-r-ben.html"><span class="header-section-number">9</span> Grafika az R-ben</a></li>
<li><a class="" href="hipotezisvizsgalatok.html"><span class="header-section-number">10</span> Hipotézisvizsgálatok</a></li>
<li><a class="" href="publikacio.html"><span class="header-section-number">11</span> Publikáció</a></li>
<li class="book-part">Függelék</li>
<li><a class="" href="megoldasok.html"><span class="header-section-number">A</span> Megoldások</a></li>
<li><a class="" href="szinek.html"><span class="header-section-number">B</span> Színek</a></li>
<li><a class="" href="oravazlat-az-r-tanitasahoz.html"><span class="header-section-number">C</span> Óravázlat az R tanításához</a></li>
<li><a class="" href="irodalomjegyzek.html">Irodalomjegyzék</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/abarik/aeer">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="az-r-nyelv" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Az R nyelv<a class="anchor" aria-label="anchor" href="#az-r-nyelv"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="images/ch_05_small.png" width="70%" style="display: block; margin: auto;"></div>
<p>Az előző fejezetekben megismertük az R környezetet, az <em>Alap R</em>, az <em>RStudio</em> és a csomagok telepítését, megtanultuk a projektek, parancsállományok és RMarkdown állományok létrehozását. Tudjuk, a különböző környezetekben eltérő módszerekkel hajthatjuk végre az R parancsokat: a konzolban az <code>ENTER</code>, a Windows-os <em>RGui</em>-ban a <code>Ctrl+R</code>, míg az <em>RStudio</em>-ban a <code>Ctrl+Enter</code> billentyűkombinációt kell használnunk. A parancsok végrehajtása közben érdemes észben tartani, ha a folytatás prompt (<code>+</code>) feltűnik, akkor kattintsunk bele a konzolba, és nyomjuk meg az <code>Esc</code> billentyűt, így tudunk kilépni a befejezetlen sor szerkesztéséből</p>
<p>A fejezet példáinak kipróbáláshoz hozzunk létre egy <code>gyakorlas</code> nevű új projektet az <em>RStudio</em>-ban (<code>File / New Project</code>), majd készítsünk egy <code>gyakorlas.Rmd</code> RMarkdown állományt (<code>File / New File / R Markdown</code>) és egy <code>gyakorlas.R</code> parancsállományt (<code>File / New File / R Script</code>). A fejezet példáit felváltva gépeljük az RMarkdown állomány R csonkjaiba, illetve a parancsállomány tetszőleges soraiba. A fejezet további részében az R nyelvre koncentrálunk, arra, hogy mit írunk, és nem arra, hogy hová írjuk a parancsokat.</p>
<div id="adatobjektumok" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Adatobjektumok<a class="anchor" aria-label="anchor" href="#adatobjektumok"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel1">
<p>Ebben a fejezetben:</p>
<ul>
<li>áttekintjük az egyszerű számolási lehetőségek R-ben,</li>
<li>bevezetjük az aritmetikai operátor és a kifejezés fogalmát,</li>
<li>megismerjük az objektum létrehozását és elnevezését,</li>
<li>több parancs elhelyezését egy sorban,</li>
<li>és a megjegyzések használatát.</li>
</ul>
</div>
<p>Az R nyelv megismerését számadatok írásával kezdjük. Az adatelemzés során a számszerű adatok kezelése a leggyakoribb, hiszen méréssel és számlálással is ilyen jellegű adatokhoz jutunk. Számszerű adat a testmagasságunk cm-ben kifejezve, az IQ-teszten elért pontszámunk, vagy a testvéreink és a Facebook ismerőseink száma is.</p>
<div id="számolás-az-r-ben" class="section level3" number="5.1.1">
<h3>
<span class="header-section-number">5.1.1</span> Számolás az R-ben<a class="anchor" aria-label="anchor" href="#sz%C3%A1mol%C3%A1s-az-r-ben"><i class="fas fa-link"></i></a>
</h3>
<p>Kezdjük a számszerű adatok megismerését egy egyszerű sor begépelésével.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">2</span><span class="op">+</span><span class="fl">2</span> 
<span class="co">#&gt; [1] 4</span></code></pre></div>
<p>Végrehajtás után a konzolban láthatjuk az összeadás eredményét, a 4-et. Az eredmény előtt egy szögletes zárójelben lévő sorszámot is láthatunk (<code>[1]</code>), amely bonyolultabb outputokban segít eligazodni. Később az <a href="az-r-nyelv.html#szabalyosvektorokalfejezet">5.3.3.2</a> fejezetben visszatérünk a <code>[1]</code> értelmezésére.</p>
<p>Látjuk, ebben az esetben az R úgy viselkedik, mint egy számológép. A parancssorba gépelt algebrai kifejezés értékét kiszámolja és a képernyőn megjeleníti. Természetesen az összeadáson túl más műveletet is használhatunk.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">4</span><span class="op">+</span><span class="fl">6</span><span class="op">*</span><span class="fl">2</span>
<span class="co">#&gt; [1] 16</span></code></pre></div>
<p>A fenti példából látható, hogy az R követi a műveletek elvégzésének matematikában megszokott sorrendjét. Azaz a szorzás műveletre (<code>*</code>) hamarabb sor kerül, ennek eredménye 12. Ezt követi az összeadás (<code>+</code>), most már a 4 és a 12 között. Ennek az összeadás műveletnek az eredménye 16, ami egyben a kifejezés értéke is, tehát ez jelenik meg a konzolban.</p>
<p>Természetesen a matematikában megszokott módon változtathatunk a műveletek végrehajtásának alapértelmezett sorrendjén, azaz használhatunk kerek zárójeleket. Ezeket az R a megszokott módon értelmezi: a zárójelben szereplő műveletek végrehajtását előreveszi.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="fl">4</span><span class="op">+</span><span class="fl">6</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span>
<span class="co">#&gt; [1] 20</span></code></pre></div>
<p>A fenti példában az összeadás művelet lesz az első, amelynek az eredménye 10. Ezt követi a szorzás, így kapjuk a kifejezés értékeként a 20-at.</p>
<p>Ezeket a matematikában megszokott algebrai kifejezéseket, az R-ben egyszerűen kifejezésnek vagy – utalva arra, hogy a kifejezés értéke szám – <em>aritmetikai kifejezésnek</em> nevezünk. Az eddigiek alapján az aritmetikai kifejezések tehát a következő nyelvi elemeket tartalmazhatják:</p>
<ul>
<li>számok, amelyeket <em>numerikus konstans</em>oknak nevezünk,</li>
<li>műveleti jelek, amelyeket <em>aritmetikai operátor</em>oknak nevezünk,</li>
<li>és kerekzárójelek.</li>
</ul>
<p>A fentiek alapján összetettebb aritmetikai kifejezéseket is megformálhatunk. Az R minden esetben kiszámolja a kifejezések értékét – azaz <em>kiértékeli</em> a kifejezést –, és a kapott értéket megjeleníti a konzolban.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">4</span><span class="op">^</span><span class="fl">2</span><span class="op">-</span><span class="fl">3</span><span class="op">*</span><span class="fl">2</span><span class="op">+</span><span class="fl">1</span>
<span class="co">#&gt; [1] 11</span>
<span class="op">(</span><span class="fl">104</span><span class="op">-</span><span class="fl">20</span><span class="op">)</span><span class="op">/</span><span class="fl">6</span><span class="op">-</span><span class="fl">4</span><span class="op">*</span><span class="fl">7</span><span class="op">*</span><span class="fl">10</span><span class="op">/</span><span class="op">(</span><span class="fl">5</span><span class="op">**</span><span class="fl">2</span><span class="op">-</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>Az aritmetikai kifejezések használata során ne felejtkezzünk el a műveletek alapértelmezett végrehajtási sorrendjéről. A műveletek megjelenítését most az operátorok végzik, melyeknek fontos tulajdonsága, hogy mennyire szorosan kötik magukhoz az adatokat (vagy más néven az operandusokat). Az operátorok ezen fonos tulajdonságát <em>precedenciának</em> nevezzük. Az R-ben használható aritmetikai operátorokat a precedenciájuk csökkenő sorrendjében az <a href="#tab:matoperatorok"><strong>??</strong></a> táblázat tartalmazza.</p>
<p>Például a hatványozás és az előjel operátor precedenciája eltér egymástól, a hatványozás nagyobb precedenciájú, azaz szorosabban köti magához az adatokat, így végrehajtása megelőzi az előjel operátort. Ha nem vagyunk elég óvatosak, és plusz zárójelek segítségével nem biztosítjuk a kívánt végrehajtási sorrendet, akkor nem kívánt eredményhez juthatunk. A lenti példában láthatjuk, hogy zárójelek nélkül a nagyobb precedenciájú hatványozás az elsőként végrehajtott művelet.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">-</span><span class="fl">2</span><span class="op">^</span><span class="fl">2</span>    <span class="co"># először hatványozás, majd előjel</span>
<span class="co">#&gt; [1] -4</span>
<span class="op">(</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span>  <span class="co"># először előjel, majd hatványozás</span>
<span class="co">#&gt; [1] 4</span></code></pre></div>
<p>Eddig láthattuk, hogy kifejezéseinket operátorok, numerikus konstansok és zárójelek segítségével építettük fel. Ezek a kifejezések két alkotójukban is általánosíthatók:</p>
<ul>
<li>általánosítható a kifejezés adat része, amelyet eddig a numerikus konstansok képviseltek (ezekből lesznek az <em>objektum</em>ok),</li>
<li>általánosíthatő a kifejezés művelet része, amelyet eddig az operátorok jelenítettek meg (ezek lesznek a <em>függvény</em>ek).</li>
</ul>
<p>Az adatrész általánosítása tehát az adatobjektum (vagy röviden objektum), a műveleteké pedig a függvényobjektum (vagy röviden függvény). Ezeket tekintjük át a következőkben.</p>
</div>
<div id="objektumok" class="section level3" number="5.1.2">
<h3>
<span class="header-section-number">5.1.2</span> Objektumok<a class="anchor" aria-label="anchor" href="#objektumok"><i class="fas fa-link"></i></a>
</h3>
<p>Ha egy kifejezés értéket nem egyszerűen a képernyőn szeretnénk megjeleníteni, hanem azt később is fel szeretnénk használni, akkor objektumot<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Más programozási nyelvekben az “objektum” helyett a “változó” elnevezést használják, de a változó fogalma már foglalt a statisztikában, így mi is az objektumot használjuk.&lt;/p&gt;"><sup>4</sup></a> kell létrehoznunk. Az objektumok révén a memóriába rögzíthetünk tetszőleges értékeket, később pedig elővehetjük és felhasználhatjuk ezeket az értékeket.
Tudjuk, ha a lenti aritmetikai kifejezést a parancssorba írjuk, az R miután kiértékelte a kifejezést, a kifejezés értékét megjeleníti a konzolban. Ez az érték azonban a megjelenítés után rögtön el is vész, többször nem használhatjuk fel.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1157</span><span class="op">/</span><span class="fl">13</span><span class="op">+</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span> 
<span class="co">#&gt; [1] 97</span></code></pre></div>
<p>Ha létrehozunk egy <code>x</code> nevű objektumot, akkor ezt az értéket további kifejezésekben is szerepeltethetjük. Minden olyan helyen, ahol eddig számok jelentek meg a kifejezésekben, oda ez az <code>x</code> objektumnév is beírható.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1157</span><span class="op">/</span><span class="fl">13</span><span class="op">+</span><span class="fl">2</span><span class="op">^</span><span class="fl">3</span> </code></pre></div>
<p>A fenti sor végrehajtása után írhatjuk a következőket, hiszen a kifejezések kiértékelése során az <code>x</code> objektum memóriában tárolt értékével fog számolni az R.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">+</span><span class="fl">2</span>       <span class="co"># mintha 97+2 lenne</span>
<span class="co">#&gt; [1] 99</span>
<span class="fl">2</span><span class="op">*</span><span class="va">x</span><span class="op">^</span><span class="fl">3</span><span class="op">+</span><span class="fl">5</span>   <span class="co"># 2*97^3+5</span>
<span class="co">#&gt; [1] 1825351</span></code></pre></div>
<p>Minden objektumnak van neve és tartozik hozzá a memóriában egy terület, ahol a kérdéses érték tárolásra kerül. Esetünkben az objektum neve <code>x</code>, a hozzá tartozó memóriaterületen pedig a 97 értéket tárolja az R. Az objektum leegyszerűsítve tehát egy név-érték pár, ahol a nevet és a memóriában eltárolandó értéket is mi magunk választjuk meg.</p>
<p>Az objektumok kezeléséhez 3 művelet kapcsolódik:</p>
<ul>
<li>objektum létrehozása,</li>
<li>objektum értékének lekérdezése,</li>
<li>és az objektum értékének megváltoztatása.</li>
</ul>
<div id="objektumok-létrehozása" class="section level4" number="5.1.2.1">
<h4>
<span class="header-section-number">5.1.2.1</span> Objektumok létrehozása<a class="anchor" aria-label="anchor" href="#objektumok-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Objektumot értékadással hozhatunk létre. Az értékadás tartalmaz egy értékadás operátort, melynek alakja <code>&lt;-</code> (balra nyíl), vagyis egy kisebb jel és egy mínusz előjel egymás után írva szóköz nélkül<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;További értékadás operátorok a &lt;code&gt;-&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;&amp;lt;-&lt;/code&gt;, &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; és a &lt;code&gt;=&lt;/code&gt;. Ezeket nem használjuk ebben a könyvben.&lt;/p&gt;"><sup>5</sup></a>.</p>
<p>Az értékadás általános alakja:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb53-1"><a href="az-r-nyelv.html#cb53-1" aria-hidden="true" tabindex="-1"></a>objektumnév &lt;- kifejezés    # értékadó utasítás</span></code></pre></div>
<p>Ahol lehet a továbbiakban ezt a balra nyíl alakú értékadó operátort használjuk az értékadás során, és nem a szintén legális egyenlőségjelet (<code>=</code>). A balra nyíl írását az <em>RStudio</em> az <code>Alt+-</code> segítségével támogatja, így a bevitele nem okozhat nehézséget. Az egyenlőségjelet megtartjuk a függvényargumentumok elnevezésére. Az egyszerűség kedvéért a balra nyíl előtt lévő objektumnevet az értékadás bal oldalának, az utána lévő kifejezést az értékadás jobb oldalának nevezzük.</p>
<p>Ha olyan objektumnevet szerepeltetünk az értékadásban, amely még nem létezik, akkor az R létrehoz egy ilyen nevű új objektumot, és a hozzá tartozó memóriaterületen pedig az értékadás jobb oldalán lévő kifejezés kiértékelése után kapott értéket tárolja el.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">+</span><span class="fl">2</span>    <span class="co"># objektum létrehozása</span></code></pre></div>
<p>A fenti sor végrehajtása után a konzolban nem jelenik meg eredmény, mégis egy nagyon fontos dolog történik, létrejön az <code>a</code> nevű objektum, amelynek értéke 3 lesz mindaddig, amig ezen nem változtatunk. A munkánk során létrehozott objektumok a memória egy speciális területére, a <em>munkaterület</em>re (<em>workspace</em>) kerülnek.</p>
<p>Ha az értékadásban használt objektum már létezik, akkor a jobb oldali kifejezés kiértékelése után a kapott értékkel felülírja a bal oldali objektumhoz tartozó memóriaterületet. Ezzel a módszerrel tehát a korábban létrehozott objektum értékét módosíthatjuk.</p>
<p>A már létező <code>a</code> objektum értékét könnyen megváltoztathatjuk.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">/</span><span class="fl">3</span>   <span class="co"># objektum értékének megváltoztatása</span></code></pre></div>
</div>
<div id="objektumok-értékének-lekérdezése" class="section level4" number="5.1.2.2">
<h4>
<span class="header-section-number">5.1.2.2</span> Objektumok értékének lekérdezése<a class="anchor" aria-label="anchor" href="#objektumok-%C3%A9rt%C3%A9k%C3%A9nek-lek%C3%A9rdez%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az objektum memóriában tárolt értékét le is kérdezhetjük. A legegyszerűbb mód erre, ha az objektum nevét a parancssorba írjuk és végrehajtjuk a sort, máris megkapjuk az objektum memóriában tárolt értékét.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span>     <span class="co"># vajon mi az objektum értéke?</span>
<span class="co">#&gt; [1] 3.333333</span></code></pre></div>
<p>Objektumok tetszőleges kifejezésben megjelenhetnek, akár egy értékadás jobb oldalán lévő kifejezésben is. A kifejezések kiértékelésében az objektum a memóriában tárolt értékével vesz részt.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span><span class="op">*</span><span class="fl">3</span>              <span class="co"># a kifejezés értéke konzolba kerül</span>
<span class="co">#&gt; [1] 10</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">4</span> <span class="op">+</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">3</span>   <span class="co"># megváltozik az objektum értéke, nincs output</span>
<span class="va">a</span>                <span class="co"># megtudjuk az objektum értékét</span>
<span class="co">#&gt; [1] 14</span></code></pre></div>
<p>A fenti sorokból kiolvasható, hogy immár az <code>a</code> objektum értéke 14.</p>
</div>
<div id="objektumelnevezes" class="section level4" number="5.1.2.3">
<h4>
<span class="header-section-number">5.1.2.3</span> Objektumok elnevezése<a class="anchor" aria-label="anchor" href="#objektumelnevezes"><i class="fas fa-link"></i></a>
</h4>
<p>Az objektumok elnevezésére eddig egyetlen betűt (karaktert) használtunk, de ez elég ritka eset a munka során. Helyes gyakorlat, ha az objektum neve utal az objektum tartalmára, céljára. Ha például testmagasságot tárolunk el egy objektumban, akkor írhatjuk a következőt:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">magassag</span> <span class="op">&lt;-</span> <span class="fl">179</span></code></pre></div>
<p>A fenti sor létrehozza a munkaterületen a <code>magassag</code> nevű objektumot 179 értékkel.</p>
<p>Az objektumok elnevezésére</p>
<ul>
<li>betűket,</li>
<li>számjegyeket,</li>
<li>a pont (<code>.</code>) és az aláhúzás (<code>_</code>) szimbólumokat használhatjuk.</li>
</ul>
<p>Az objektum neve csak betűvel vagy ponttal kezdődhet, számjeggyel vagy aláhúzással nem. Továbbá a név nem lehet az R-ben már lefoglalt kulcsszó, mint például <code>if</code>, <code>function</code> vagy <code>TRUE</code> (a kulcsszavak listáját a <code><a href="https://rdrr.io/r/base/Reserved.html">?Reserved</a></code> paranccsal ismerhetjük meg). Hagyományosan a pont karaktert használjuk az objektumnevekben a tagolásra (például <code>magassag.peter</code> Péter magasságának tárolására). Az R a magyar ékezetes karakterek használatát is megengedi az objektumnevekben, de csakúgy mint az állományok és könyvtárak elnevezésében, érdemes ezek használatát mellőzni.</p>
<p>Az objektumoknak érdemes “beszédes” nevet választani, még ha ennek az ára némi extra gépelés is. Tudjuk, a <code>Tab</code> billentyű segíti a gépelést az <em>RStudio</em>-ban.</p>
<p>Az R kis- és nagybetű érzékeny, vagyis az <code>x</code> és a <code>X</code> különböző objektumoknak számítanak. Például a következő</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pulzus.atlag</span> <span class="op">&lt;-</span> <span class="fl">72</span></code></pre></div>
<p>parancs után a</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Pulzus.atlag</span>
<span class="co">#&gt; Error: object 'Pulzus.atlag' not found</span></code></pre></div>
<p>sor hibát jelez (<code>Error: object 'Pulzus.atlag' not found</code>), azaz a <code>Pulzus.atlag</code> objektumot nem találja az R. Minden olyan esetben, ha nem létező objektumra hivatkozunk, a fenti hibaüzenet jelenik meg a konzolban.</p>
<p>Amennyiben gondoskodunk nagy <code>P</code>-vel kezdődő objektumról is, akkor lehetőségünk van hibaüzenet nélkül mindkét objektum értékének kiíratására.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Pulzus.atlag</span> <span class="op">&lt;-</span> <span class="fl">69</span>           <span class="co"># új objektumot hozunk létre</span>
<span class="va">Pulzus.atlag</span>; <span class="va">pulzus.atlag</span>   <span class="co"># két parancs egy sorban</span>
<span class="co">#&gt; [1] 69</span>
<span class="co">#&gt; [1] 72</span></code></pre></div>
<p>A gyakorlatban kerüljük el az olyan helyzeteket, amikor két objektumnév csak kis- nagybetűk használatában tér el.</p>
<p>A fenti példában egy további apró újdonság is szerepelt. Ha egy parancssorban több utasítást szeretnénk elhelyezni, akkor ezeket pontosvesszővel (<code>;</code>) kell elválasztanunk. A pontosvesszővel elválasztott utasításokat az R értelmező egymás után, balról jobbra haladva hajtja végre, mintha külön sorba írtuk volna őket. A lenti sor 3 kifejezést (parancsot) tartalmaz pontosvesszővel elválasztva, mindegyik eredménye külön-külön jelenik meg a konzolban, mintha 3 különböző sorba írtuk volna őket.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">+</span><span class="fl">2</span>; <span class="fl">3</span><span class="op">+</span><span class="fl">4</span>; <span class="fl">5</span><span class="op">+</span><span class="fl">6</span>     <span class="co"># három kifejezés egy sorban</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 11</span></code></pre></div>
</div>
</div>
<div id="MegjegyzesazRben" class="section level3" number="5.1.3">
<h3>
<span class="header-section-number">5.1.3</span> Megjegyzések az R-ben<a class="anchor" aria-label="anchor" href="#MegjegyzesazRben"><i class="fas fa-link"></i></a>
</h3>
<p>Nagyon sok példában láttunk már magyar nyelvű, magyarázó, értelmező szövegrészeket az R parancsok körül. Ezek az R <em>megjegyzések</em>. Megjegyzést az R-ben a kettőskereszt (<code>#</code>) karakter használatával vezetünk be. Az R értelmező a kettőskereszttől a sor végéig tartó részt figyelmen kívül hagyja. Itt helyezhetjük el a paranccsal kapcsolatos magyarázatainkat magunk vagy a kódot később olvasók számára. Teljes sorokat, vagy a sorok végét tudjuk így kivonni a végrehajtás alól.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Érdekes tény, ha a 153 számjegyeit köbre emeljük, </span>
<span class="co">#   majd összeadjuk őket, pontosan 153-at kapunk</span>
<span class="fl">1</span><span class="op">^</span><span class="fl">3</span><span class="op">+</span><span class="fl">5</span><span class="op">^</span><span class="fl">3</span><span class="op">+</span><span class="fl">3</span><span class="op">^</span><span class="fl">3</span>       <span class="co"># hatványozás a ^ operátorral</span>
<span class="co">#&gt; [1] 153</span>
<span class="fl">1</span><span class="op">**</span><span class="fl">3</span><span class="op">+</span><span class="fl">5</span><span class="op">**</span><span class="fl">3</span><span class="op">+</span><span class="fl">3</span><span class="op">**</span><span class="fl">3</span>    <span class="co"># hatványozás a ** operátorral</span>
<span class="co">#&gt; [1] 153</span></code></pre></div>
<p>Nem kizárólag magyarázó szövegek kerülhetnek megjegyzésbe, sokszor R parancsok végrehajtását akadályozzuk meg ezzel a módszerrel. Úgy kerülhetjük el egy parancs végrehajtását, hogy nem kell kitörölnünk a parancsállományból vagy az RMarkdown állományból, egyszerűen csak megjegyzésbe kell tennünk őket. Emlékezzünk vissza, hogy az <a href="az-r-telepitese.html#Csomagoktelepitese">3.1.3</a> fejezetben a csomagok telepítésért felelős parancsok esetében kifezetten javasoltuk a megjegyzések használatát:</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># xkcd: Randall Munroe webképregényei</span>
<span class="co"># install.packages("RXKCD")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RXKCD</span><span class="op">)</span>             <span class="co"># csomag betöltése       </span>
<span class="fu"><a href="https://rdrr.io/pkg/RXKCD/man/searchXKCD.html">searchXKCD</a></span><span class="op">(</span><span class="st">"Star Wars"</span><span class="op">)</span>    <span class="co"># keresés címben vagy leírásban</span>
<span class="fu"><a href="https://rdrr.io/pkg/RXKCD/man/getXKCD.html">getXKCD</a></span><span class="op">(</span><span class="fl">1769</span><span class="op">)</span>              <span class="co"># webképregény megjelenítése</span></code></pre></div>
<p>Végül megemlítjük, hogy az <em>RStuio</em>-ban egyszerre több kijelölt sort tudunk megjegyzésbe tenni, vagy onnan kivenni a <code>Ctrl+Shift+c</code> segítségével.</p>
</div>
<div id="az-r-nyelv-1-summary" class="section level3" number="5.1.4">
<h3>
<span class="header-section-number">5.1.4</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-1-summary"><i class="fas fa-link"></i></a>
</h3>
<div class="rmdsummary">
<p>
Egyszerű kifejezéseket építhetünk numerikus konstansok (számok), operátorok és kerekzárójelek segítségével. A legfontosabb matematikai operátorok a négy alapművelet és a hatványozás. A kifejezés kiértékelése balról jobbra sorrendben történik, de ezt felülírja a kerekzárójelek használata és az operátorok precedenciája. Egy kifejezés értékét eltárolhatjuk a memória speciális területén, a munkamemóriában. Ehhez az értékeadó operátorral létre kell hoznunk egy új objektumot. Az objektum egy név-érték páros. Az objektum létrehozása után az objektum neve tetszőleges kifejezés adat részében szerepelhet. Több parancsot a pontosvesszővel (<code>;</code>) írhatunk egy sorba. Megjegyzéseket a kettőskereszt (<code>#</code>) segítségével helyezthetünk el.
</p>
</div>
</div>
<div id="az-r-nyelv-1-exercise" class="section level3" number="5.1.5">
<h3>
<span class="header-section-number">5.1.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-1-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Gondoljuk át, mi lehet a következő algebrai kifejezés eredménye, majd ellenőrizzük R-ben is: <span class="math inline">\(8/2(2+2)\)</span>.</li>
<li>Gondoljuk át, hogy a <code>.342e1</code> név miért nem lehet érvényes objektumnév? Próbáljuk ki a <code>make.names(".342e1")</code> parancsot, majd tanulmányozzuk a <code><a href="https://rdrr.io/r/base/make.names.html">?make.names</a></code> leírást!</li>
<li>Magyarázzuk meg a <code>make.names(c("", "", ""))</code> és a <code>make.names(c("", "", ""), unique = T)</code> parancsok közötti különbséget!</li>
<li>Gondoljuk át, hogy egy parancsállomány mely pontjain érdemes feltétlenül megjegyzéseket használni!</li>
<li>Jelentősen segíthetjük a navigációt az RStudio parancsállományaiban, ha bizonyos megjegyzések végére ezt írjuk: <code>----</code> (négy mínusz jel). Hogyan használhatjuk ezt a lehetőséget az <em>RStudio</em>-ban, és milyen előnyei vannak?</li>
<li>Az <em>RStudio</em>-ban parancsállomány (<code>.R</code>) szerkesztése közben próbáljuk ki a <code>Ctrl+Shift+R</code> billentyűparancsot, és a hozzá kapcsolódó <code>Shift+Alt+J</code> billentyűparancsot is. Mi a jelentése az <code>Alt+L</code>, <code>Shift+Alt+L</code>, <code>Alt+O</code> és <code>Shift+Alt+O</code> billentyűparancsoknak? A most megismert funkciók hogyan válthatók ki RMarkdown (<code>.Rmd</code>) állomány szerkesztése közben?</li>
</ol>
</div>
</div>
</div>
<div id="függvények" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Függvények<a class="anchor" aria-label="anchor" href="#f%C3%BCggv%C3%A9nyek"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel1">
<p>Ebben a fejezetben:</p>
<ul>
<li>áttekintjük a függvényhívás lehetőségeit a nevesített argumentumokkal, az alapértelmezésekkel és az argumentumok sorrendjének megváltoztatásával,</li>
<li>megismerjük a legfontosabb matematikai függvényeket,</li>
<li>és pontosítjuk a kifejezés fogalmát.</li>
</ul>
</div>
<p>Az aritmetikai kifejezéseinkben használható operátorok nem teszik lehetővé minden matematikai művelet elvégzését. Mit tegyünk ha a 2 négyzetgyökét szeretnénk kiszámolni? A négyzetgyökvonás operátor nem létezik az R-ben, de ebben a speciális esetben a hatványozás operátor segítségével is elérhetjük a célunkat.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">2</span><span class="op">^</span><span class="fl">0.5</span>
<span class="co">#&gt; [1] 1.414214</span></code></pre></div>
<p>Az R azonban más lehetőséget is biztosít a négyzetgyök kiszámítására és ez az <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> függvény.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.414214</span></code></pre></div>
<p>A függvények valamilyen utasítássorozatot hajtanak végre és a számítás eredményét szolgáltatják. Esetünkben az <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> függvény egy szám (pozitív) négyzetgyökét számolja ki, annak a számnak a négyzetgyökét, amely a kerek zárójelek között szerepel. Tehát az R a paraméterben megadott 2 értékre meghívja az <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> függvényt, ami visszatér a 2 négyzetgyökével.</p>
<div id="a-függvényhívás-szabályai" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> A függvényhívás szabályai<a class="anchor" aria-label="anchor" href="#a-f%C3%BCggv%C3%A9nyh%C3%ADv%C3%A1s-szab%C3%A1lyai"><i class="fas fa-link"></i></a>
</h3>
<p>A függvényhívás általános alakja:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb67-1"><a href="az-r-nyelv.html#cb67-1" aria-hidden="true" tabindex="-1"></a>függvénynév(argNév1=arg1, argNév2=arg2, ..., argNévN=argN)</span></code></pre></div>
<p>A függvény neve ugyanazoknak a szabályoknak engedelmeskedik, amelyeket az objektumok nevénél megtárgyaltunk (lévén a függvény is egy objektum). A függvény neve után kerek zárójelben következnek a függvény argumentumai, amelyek a függvény utasításainak a bemenő paraméterei. A függvény a bemenő paraméterek alapján az utasításainak megfelelően egy visszatérési értéket fog szolgáltatni.</p>
<p>Egy függvény különböző hívásainál az előforduló argumentumok száma és azok sorrendje igen változatos képet mutathat. Elöljáróban elmondhatjuk, hogy a függvények argumentumai alapértelmezett értékkel is rendelkezhetnek, így ezek az argumentumok elhagyhatók. Továbbá, a függvények argumentumai névvel is rendelkeznek, amelyeket ha a függvény hívásánál felhasználjuk, az argumentumok sorrendje tetszőleges lehet.</p>
<p>Először tekintsük át az R alapvető matematikai függvényeit (<a href="#tab:matfuggvenyek"><strong>??</strong></a> táblázat). Nézzük meg részletesebben a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvényt. Ha kikérjük a súgóját <code><a href="https://rdrr.io/r/base/Log.html">?log</a></code> parancs begépelésével, akkor megtudhatjuk, hogy ez a legáltalánosabb logaritmus függvény, tetszőleges alap esetén hívható. Számunkra most a legfontosabb a súgónak az a sora, amely a logaritmus függvény használatát mutatja: <code>log(x, base=exp(1))</code>.</p>
<p>Ebből kiolvasható, hogy a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvénynek 2 argumentuma (más néven paramétere) van. Az elsőt <code>x</code>-nek, a másodikat <code>base</code>-nek nevezik. A második paraméter alapértelmezett értékkel is rendelkezik, tehát ez a paraméter a hívásnál elhagyható, míg az <code>x=</code> argumentum megadása kötelező. A <code>base=</code> paraméter értéke könnyen kideríthető az</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>    <span class="co">#  Euler-féle szám, a természetes logaritmus alapja </span>
<span class="co">#&gt; [1] 2.718282</span></code></pre></div>
<p>parancsból. Ezt az irracionális számot a matematikában <em>e</em>-vel jelöljük, és Euler-féle számnak nevezzük. Ha nem határozzuk meg a második paramétert, akkor a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvény természetes alappal (<code>base=exp(1)</code>) számítja ki az <code>x</code> logaritmusát.</p>
<p>Ezek alapján 2 természetes alapú logaritmusát a</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>    <span class="co"># 2 természetes alapú logaritmusa</span>
<span class="co">#&gt; [1] 0.6931472</span></code></pre></div>
<p>függvényhívás adja meg. Azt is megtehetjük, hogy felhasználjuk hívásnál az argumentum nevét (<code>x</code>), és egy egyenlőségjel (<code>=</code>) felhasználásával ezt a 2 elé szúrjuk be.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">2</span><span class="op">)</span>   <span class="co"># 2 természetes alapú logaritmusa</span>
<span class="co">#&gt; [1] 0.6931472</span></code></pre></div>
<p>A fenti sor természetesen ugyanúgy a 2 természetes alapú logaritmusát szolgáltatja, csak most explicit módon közöltük, hogy az aktuális paraméterben szereplő 2-es értéket az <code>x=</code> nevű formális paraméternek feleltetjük meg. Ez most felesleges gépelést jelentett és általában is elmondhatjuk, hogy matematikai függvények esetében az oly gyakori <code>x=</code> argumentumnevet szokás szerint nem írjuk ki a függvényhívás során.</p>
<p>Hívjuk most két argumentummal a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvényt. A 100 10-es alapú logaritmusát a</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span>        <span class="co"># 100 10-es alapú logaritmusa</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>paranccsal tudhatjuk meg. A függvényhívásnál az <code>x=</code> formális argumentum a 100, a <code>base=</code> pedig a 10 értéket kapja. Természetesen ezt a hívásnál mi is rögzíthetjük a világosabb értelmezés kedvéért saját magunk számára a</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">100</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>    <span class="co"># 100 10-es alapú logaritmusa</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>vagy akár</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">100</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>  <span class="co"># 100 10-es alapú logaritmusa</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>formában is.</p>
<p>Arra is lehetőség van, hogy megcseréljük az aktuális paraméterek sorrendjét. A legbiztonságosabb ekkor az összes paraméter nevesítése,</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>base<span class="op">=</span><span class="fl">10</span>, x<span class="op">=</span><span class="fl">100</span><span class="op">)</span>  <span class="co"># 100 10-es alapú logaritmusa</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>de két argumentum esetén így is egyértelmű a hozzárendelés:</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>base<span class="op">=</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">10</span>, x<span class="op">=</span><span class="fl">100</span><span class="op">)</span>  <span class="co"># 100 10-es alapú logaritmusa 2x</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>Ha az argumentumok nevesítése nélkül cseréljük fel az aktuális paramétereket, akkor természetesen nem várt eredményt kapunk, mert a 10 100-as alapú logaritmusa lesz az eredmény.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>  <span class="co"># 10 100-as alapú logaritmusa</span>
<span class="co">#&gt; [1] 0.5</span></code></pre></div>
<p>Kényelmi lehetőség az aktuális paraméterek elnevezésénél, hogy rövidítéseket is használhatunk, addig csonkolhatjuk az argumentum nevét, amíg az argumentumok egyértelműen azonosíthatók maradnak. Így a példában akár a <code>b=</code>-vel is helyettesíthetjük a <code>base=</code> argumentumnevet:</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>b<span class="op">=</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>   <span class="co"># 100 10-es alapú logaritmusa</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>Mint korábban említettük, az <code>x=</code> argumentum nem rendelkezik alapértelmezett értékkel, így paraméter nélkül nem hívható a <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> függvény.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error: argument "x" is missing, with no default</span></code></pre></div>
<p>A fenti hibaüzenethez hasonlót láthatunk, ha egy függvényt nem megfelelő számú paraméterrel hívunk.</p>
<p>Eddig a függvények aktuális paramétereiként csak numerikus konstansokat használtunk, pedig valójában tetszőleges kifejezéseket is megadhatunk. A függvény hívása előtt ezek kiértékelődnek és a hívás során ezek az értékek rendelődnek a formális paraméterekhez.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">alap</span> <span class="op">&lt;-</span> <span class="fl">10</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>, base<span class="op">=</span><span class="va">alap</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, b<span class="op">=</span><span class="va">alap</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 1.737178</span>
<span class="co">#&gt; [1] 1.673346</span></code></pre></div>
<p>A fenti példa a következő numerikus konstansokkal történő hívásoknak felel meg:</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2.718282</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">54.59815</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">14.77811</span>, base<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 1.737178</span>
<span class="co">#&gt; [1] 1.673346</span></code></pre></div>
<p>A függvények sokféle csoportja létezik az R-ben, a most látott matematikai függvények osztálya csak egy a sok közül. A következő fejezetekben függvények más csoportjait is megismerjük.</p>
</div>
<div id="a-kifejezés-fogalma" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> A kifejezés fogalma<a class="anchor" aria-label="anchor" href="#a-kifejez%C3%A9s-fogalma"><i class="fas fa-link"></i></a>
</h3>
<p>Elérkezett az idő, hogy a kifejezés fogalmát pontosíthassuk: egy konstans, egy objektum vagy egy függvényhívás önmagában kifejezés, de ezek operátorokkal és kerekzárójelekkel helyesen összefűzött sorozata is kifejezés.</p>
<p>Az R nyelv parancsai, vagy más néven utasításai lényegében kifejezések. Az R nyelvben egy parancs végrehajtása lényegében egy kifejezés kiértékelését jelenti, és a legtöbb esetben a kifejezés értékének megjelenítését a konzolban.</p>
<p>A munka során az R értelmező az utasítások egymás utáni kiértékelését végzi. Az utasításokat újsor karakter vagy pontosvessző választhatja el. A szintaktikailag helyes utasítások kiértékelése mindig egy értéket eredményez, ez lesz az utasítás értéke. Még akkor is rendelkezik értékkel az utasításunk, ha az nem jelenik meg a parancssorban, például az értékadó utasítás értéke a jobb oldali kifejezés értéke. Ezért írhatjuk a következő parancsot:</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">x</span>; <span class="va">y</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>Amennyiben egy értékadás, mint kifejezés értékét szeretnénk megjeleníteni a konzolban, akkor tegyük kerekzárójelbe a teljes sort:</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">20</span><span class="op">)</span>
<span class="co">#&gt; [1] 20</span></code></pre></div>
<p>A kifejezés fogalmának gyakorlásához nézzünk egy példát. A másodfokú egyenlet megoldóképlete segítségével oldjuk meg az <span class="math inline">\(x^{2}–5x+4=0\)</span> egyenletet. Gépeljük be a következő sorokat:</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">egyutthato.a</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">egyutthato.b</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">5</span>
<span class="va">egyutthato.c</span> <span class="op">&lt;-</span> <span class="fl">4</span>
<span class="va">D</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">egyutthato.b</span><span class="op">^</span><span class="fl">2</span><span class="op">-</span><span class="fl">4</span><span class="op">*</span><span class="va">egyutthato.a</span><span class="op">*</span><span class="va">egyutthato.c</span><span class="op">)</span> <span class="co"># diszkrimináns</span>
<span class="op">(</span><span class="op">-</span><span class="va">egyutthato.b</span><span class="op">+</span><span class="va">D</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">egyutthato.a</span><span class="op">)</span>   <span class="co"># 1. gyök</span>
<span class="co">#&gt; [1] 4</span>
<span class="op">(</span><span class="op">-</span><span class="va">egyutthato.b</span><span class="op">-</span><span class="va">D</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">egyutthato.a</span><span class="op">)</span>   <span class="co"># 2. gyök</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>A fenti hat sor mindegyike egy-egy kifejezés. Az első három sorban lévő kifejezéseknek nincs outputja a konzolban, céljuk új objektumok létrehozása, és maguk a kifejezések csupán értékadó operátort, objektumnevet és konstanst tartalmaznak. A negyedik sor kifejezése szintén output nélkül hajtódik végre, és itt is új objektum jön létre, a kifejezés több összetevőt tartalmaz: objektumneveket, függvényhívást, matematikai operátorokat és konstansokat. Az ötödik és hatodik sorban lévő kifejezések értékei a kiértékelés után megjelennek az outputban, és objektumnevekből, matematikai operátorokból, kerekzárójelekből és konstansokból épülnek fel.</p>
</div>
<div id="az-r-nyelv-2-summary" class="section level3" number="5.2.3">
<h3>
<span class="header-section-number">5.2.3</span> Összefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-2-summary"><i class="fas fa-link"></i></a>
</h3>
<div class="rmdsummary">
<p>
A függvényobjektumok (vagy röviden függvények) előre definiált utasítások sorozatát hajtják végre, és egy visszatérési értéket szolgáltatnak. A visszatérési érték meghatározását a függvény bemenő paraméterei, az argumentumok is befolyásolják. Minden argumentumnak van neve, és opcionálisan rendelkezhetnek alapértelmezett értékkel is. Az R-rel való munka nem más, mint kifejezések létrehozása és végrehajtása, vagyis kiértékelése. A kifejezés fogalma: egy konstans, egy objektum vagy egy függvényhívás önmagában kifejezés, de ezek operátorokkal és kerekzárójelekkel helyesen összefűzött sorozata is kifejezés. A kifejezések kiértékelése során az eredmény megjelenhet a konzolban, de látható output nélkül is végbemehet a kifejezés végrehajtása.
</p>
</div>
</div>
<div id="az-r-nyelv-2-exercise" class="section level3" number="5.2.4">
<h3>
<span class="header-section-number">5.2.4</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-2-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Tekintsük át az <a href="#tab:matfuggvenyek"><strong>??</strong></a> táblázat utolsó oszlopában szereplő R függvényeket. Próbáljuk megjósolni a függvények visszatérési értékét. Végezzünk ellenőrzést: gépeljük be, és hajtsuk végre a matematikai függvényeket! Egészítsük ki a begépelt matematikai függvényeket az argumentumok nevével, mindegyik argumentumnak adjunk nevet az <a href="#tab:matfuggvenyek"><strong>??</strong></a> táblázat első oszlopa alapján!</li>
<li>Az előző feladatban a matematikai függvények gépelése során milyen <em>RStudio</em> kényelmi funkciókat fedeztünk fel. Soroljunk fel legalább hármat!</li>
<li>Az aranymetszés arányait tartalmazó épületek, képzőművészeti alkotások máig nagy esztétikai értékkel bírnak. Határozzuk meg ezt az arányt a <span class="math inline">\(\phi=\frac{1+\sqrt{5}}{2}\)</span>
képlet segítségével! Egy A/4-es oldalra kb. 47 sort írhatunk 12-es betűmérettel, és kb. 35 sort 16-os betűmérettel. Egy üres lap hanyadik sorába írnánk címet 12-es és 16-os betűméret esetén? Próbáljuk ki mindezt egy szövegszerkesztőben is!</li>
<li>A trigonometrikus függvények argumentumában radinánban kell megadni a szög értékét, és nem fokban. Ezt figyelembe véve határozzuk meg a 0, 30, 45, 60, 90 és 180 fok szinuszát, koszinuszát és tangensét!</li>
</ol>
</div>
</div>
</div>
<div id="adatszerkezetek" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Adatszerkezetek<a class="anchor" aria-label="anchor" href="#adatszerkezetek"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel1">
<p>Ebben a fejezetben:</p>
<ul>
<li>áttekintjük a numerikus, karakteres és logikai konstansok írását,</li>
<li>a vektor, mátrix, faktor, lista, és adattábla adatszerkezeteket,</li>
<li>ezek kezelését, indexelését, tesztelését és konvertálását.</li>
</ul>
</div>
<p>Kezdünk egyre mélyebre ásni az R nyelvben. Megismertük már az adatobjektum, függvény és kifejezés fogalmát. Ezek birtokában már bátran belevághatunk könyvünk kulcsfontosságú fejezetébe, az adatszerkezetek tanulmányozásába. Legyünk alaposak az itt szereplő témakörök áttekintésében, és lehetőleg oldjunk meg minden kitűzött feladatot. Később ez sokszorosan megtérül.</p>
<p>Minden statisztikai programcsomag adatokkal dolgozik. Az R-ben nevekkel ellátott objektumokban tároljuk ezeket az adatokat. Lényegében minden tevékenység ezen objektumok létrehozása, módosítása és lekérdezése köré csoportosítható. Ezeket a műveleteket az R-ben az operátorok és függvények képviselik. Láttuk, adatokból (objektumokból), operátorokból és függvényekből kifejezéseket építünk, és hajtunk végre – így foglalható össze minden egyes tevékenység az R-ben.</p>
<p>Ebben a fejezetben a kifejezések adat részére összpontosítunk, hiszen minden adatelemzési munka kiinduló pontja maga az adat. Eddig csak számszerű (numerikus) adatokkal találkoztunk, és azok közül is csak az egész számok leírására fókuszáltunk. Adatfeldolgozási folyamatainkban a mért adatok azonban a numerikus mellett karakteres formában is előfordulnak, valamint az R-ben egy harmadik adattípus, a logikai is fontos szerepet kap. Összefoglalva, három R alaptípus lesz fontos számunkra az adatfeldolgozás során:</p>
<ul>
<li>
<em>numerikus</em> típus, amely lehet <em>double</em> vagy <em>integer</em>, attól függően, hogy tizedestörteket vagy egész számokat szeretnénk tárolni,</li>
<li>
<em>karakteres</em> típus, amelyek nem egyetlen karaktert, hanem egy karaktersorozatot vagy más néven sztringet jelentenek,</li>
<li>
<em>logikai</em> típus, amely az adatszerkezetek manipulációja során jut nagyon fontos szerephez.</li>
</ul>
<p>A továbbiakban megismerjük, hogyan adhatjuk meg az R számára a fenti típusokba tartozó értékeket, illetve ezek felhasználásával, hogyan tudunk bonyolultabb adatszerkezeteket, összetett típusokat létrehozni.</p>
<div id="konstansok" class="section level3" number="5.3.1">
<h3>
<span class="header-section-number">5.3.1</span> Konstansok<a class="anchor" aria-label="anchor" href="#konstansok"><i class="fas fa-link"></i></a>
</h3>
<p>Mért adatokat közvetlenül az R-be konstansok segítségével írhatunk be. A konstansok olyan objektumoknak is tekinthetők, amelyeknek nincs nevük, csak értékük, és azt nem is tudjuk megváltoztatni. Ha Péter 18 éves, akkor azt a <code>18</code> leírásával közölhetjük az R-rel, és ez nem is jelenthet mást (nem lehet más az értéke), mint 18. A már említett három egyszerű típusnak megfelelően tekintsük át a numerikus, karakteres és logikai konstansokat.</p>
<div id="numerikus-konstansok" class="section level4" number="5.3.1.1">
<h4>
<span class="header-section-number">5.3.1.1</span> Numerikus konstansok<a class="anchor" aria-label="anchor" href="#numerikus-konstansok"><i class="fas fa-link"></i></a>
</h4>
<p>A numerikus konstansok többféle alakban is megjelenhetnek az R-ben. Az <em>integer</em> szóval az egész számok tárolását végző konstansra hivatkozunk, a <em>double</em> konstansok pedig törtrészt is tartalmazhatnak, de ez nem kötelező. Ha nem érdekes, hogy a szám <em>integer</em> vagy <em>double</em>, akkor egyszerűen a numerikus (R-ben <em>numeric</em>) elnevezést használjuk.</p>
<p>Az <a href="#tab:numkonstansok"><strong>??</strong></a> táblázatban látható, hogy <em>integer</em> értékek írásához szükséges az <code>L</code> utótag használata, egyébként <em>double</em>-ként kezeli az R a számot, még akkor is ha nem adtunk meg törtrészt.</p>
<p>Fontos szabály, hogy a tizedesvessző alakja az R-ben a pont. A nulla egészrészű tizedestörtek esetében az értéktelen nullát elhagyhatjuk.</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">0.04</span>; <span class="fl">.04</span>; <span class="op">-</span><span class="fl">.04</span> <span class="co"># utóbbi egy negatív szám, a nulla egészrész megadása nélkül</span>
<span class="co">#&gt; [1] 0.04</span>
<span class="co">#&gt; [1] 0.04</span>
<span class="co">#&gt; [1] -0.04</span></code></pre></div>
<p>Használhatunk az R-ben exponenciális alakú és hexadecimális (16-os számrendszerű) számokat is.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">12e3</span>; <span class="fl">12E+3</span>; <span class="fl">12e-3</span>; <span class="fl">0xa2e</span>; <span class="fl">0Xa2e</span>
<span class="co">#&gt; [1] 12000</span>
<span class="co">#&gt; [1] 12000</span>
<span class="co">#&gt; [1] 0.012</span>
<span class="co">#&gt; [1] 2606</span>
<span class="co">#&gt; [1] 2606</span></code></pre></div>
<p>Az exponenciális alakú számokat <code>e</code> vagy <code>E</code> karakter vágja ketté, egy bal oldali és egy jobb oldali részre. Az exponenciális alakú szám értéke: a bal oldali rész szorozva 10 annyiadik hatványával, mint amennyi a jobb oldali rész. Érdemes időt szentelni az exponenciális alakú számok értelmezésére, mert az R outputokban gyakran előfordulnak: a szám előjelét a bal oldali rész előjele dönti el, viszont a nagyságrendjét a jobb oldali szám nagyságrendje és előjele együtt határozza meg.</p>
<p>Az exponenciális alakú számok nagy előnye, hogy a nagyon kis, illetve nagyon nagy számok nagyságát jobban meg tudjuk ítélni, és persze az ilyen alakú számok leírásánál helyet is megtakarítunk.</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">0.0000000000000000000000000016726</span>         <span class="co"># proton tömege (kg)</span>
<span class="co">#&gt; [1] 1.6726e-27</span>
<span class="fl">0.00000000000000000000000000000091093822</span>  <span class="co"># elektron tömege (kg)</span>
<span class="co">#&gt; [1] 9.109382e-31</span>
<span class="fl">100000000</span>        <span class="co"># ennyi fele kell figyelni egy diáknak (százmillió)</span>
<span class="co">#&gt; [1] 1e+08</span>
<span class="fl">5970000000000000000000000</span>                 <span class="co"># A Föld tömege (kg)</span>
<span class="co">#&gt; [1] 5.97e+24</span></code></pre></div>
<p>Az R automatikusan exponenciális alakra vált túl kicsi vagy túl nagy számok konzolbeli megjelenítésénél. Ezt a viselkedést az R egyik globális opciójának beállításával tudjuk némileg szabályozni. A globális opciókat az <code><a href="https://rdrr.io/r/base/options.html">options()</a></code> függvénnyel tudjuk állítani az R-ben (<code><a href="https://rdrr.io/r/base/options.html">?options</a></code>), amelyben most a <code>scipen=</code> paramétert kell megadnunk. Minél nagyobb pozitív értéket adunk meg, annál jobban törekszik az R a számok fix alakú megjelenítésére, negatív érték megadásánál pedig ugyanez igaz az exponenciális alakra.</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span> <span class="fl">0</span><span class="op">)</span>       <span class="co"># az alapértelmezés</span>
<span class="fl">0.0000001</span>                <span class="co"># túl kicsi: exponenciális lesz</span>
<span class="co">#&gt; [1] 1e-07</span>
<span class="fl">123</span>                      <span class="co"># marad fix alakú </span>
<span class="co">#&gt; [1] 123</span>
<span class="fl">100000000</span>                <span class="co"># túl nagy: exponenciális lesz</span>
<span class="co">#&gt; [1] 1e+08</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span><span class="op">-</span><span class="fl">8</span><span class="op">)</span>; <span class="fl">0.0000001</span>; <span class="fl">123</span>; <span class="fl">100000000</span> <span class="co"># exponenciális lesz mind</span>
<span class="co">#&gt; [1] 1e-07</span>
<span class="co">#&gt; [1] 1.23e+02</span>
<span class="co">#&gt; [1] 1e+08</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span> <span class="fl">8</span><span class="op">)</span>; <span class="fl">0.0000001</span>; <span class="fl">123</span>; <span class="fl">100000000</span> <span class="co"># fix lesz mind</span>
<span class="co">#&gt; [1] 0.0000001</span>
<span class="co">#&gt; [1] 123</span>
<span class="co">#&gt; [1] 100000000</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span> <span class="fl">0</span><span class="op">)</span>       <span class="co"># az alapértelmezés visszaállítása</span></code></pre></div>
<p>A 16-os számrendszerű számok írásához a <code>0-9</code> és a kis <code>a-f</code> vagy nagy <code>A-F</code> betűket használhatjuk fel. A hexadecimális számokat a <code>0x</code> vagy <code>0X</code> előtag vezeti be.</p>
<p>Aritmetikai műveleteinkben rendszerint double típusú számokat, 10-es számrendszerben és fix (nem exponenciális) alakban használunk. De ettől bármikor eltérhetünk:</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">12L</span> <span class="op">+</span> <span class="op">-</span><span class="fl">3.04</span> <span class="op">+</span> <span class="fl">3.4e2</span> <span class="op">+</span> <span class="op">-</span><span class="fl">0x1af</span>  <span class="co"># számok 4 különböző formában</span>
<span class="co">#&gt; [1] -82.04</span></code></pre></div>
<p>A számok megjelenését a konzolban még egy globális opció befolyásolja. A <code>digits</code> megszabja, hány értékes jegyre pontosan jelenjenek meg a számaink a konzolban. Lehetséges értékei az 1-22 tartományba esnek, alapértelmezés szerint 7 az értéke. A beállított érték csak egy ajánlás az R számára, és főképp tizedestörtek esetén okozhat meglepetést, ha túl kicsire állítjuk a <code>digits</code> értékét.</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>; <span class="fl">12.36</span>
<span class="co">#&gt; [1] 12</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>; <span class="fl">12.36</span>
<span class="co">#&gt; [1] 12</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>; <span class="fl">12.36</span>
<span class="co">#&gt; [1] 12.4</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>; <span class="fl">12.36</span>
<span class="co">#&gt; [1] 12.36</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>        <span class="co"># alapértelmezés visszaállítása</span></code></pre></div>
<p>Természetesen objektumokat is létrehozhatunk a numerikus értékek tárolására, ahogyan korábban már láttuk. Az objektum típusa a konstans típusával fog megegyezni:</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">peter.magassaga</span> <span class="op">&lt;-</span> <span class="fl">181</span>                                  <span class="co"># double objektum</span>
<span class="va">peter.sulya</span>     <span class="op">&lt;-</span> <span class="fl">72L</span>                                  <span class="co"># integer objektum</span>
<span class="va">peter.bmi</span>       <span class="op">&lt;-</span> <span class="va">peter.sulya</span> <span class="op">/</span><span class="op">(</span><span class="va">peter.magassaga</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="co"># double objektum</span></code></pre></div>
</div>
<div id="karakteres-konstansok" class="section level4" number="5.3.1.2">
<h4>
<span class="header-section-number">5.3.1.2</span> Karakteres konstansok<a class="anchor" aria-label="anchor" href="#karakteres-konstansok"><i class="fas fa-link"></i></a>
</h4>
<p>Az R-ben a karakteres konstans (vagy más néven sztring vagy karaktersorozat) speciális karakterekkel határolt, tetszőleges karaktereket tartalmazó sorozat. A karakteres konstans tehát nem egyetlen karaktert jelent tipikusan, hanem többet. Három módszerrel adhatunk meg karakteres konstanst:</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="st">"Látni távol kis falucska tornyát."</span>
<span class="co">#&gt; [1] "Látni távol kis falucska tornyát."</span>
<span class="st">'Látni távol kis falucska tornyát.'</span>
<span class="co">#&gt; [1] "Látni távol kis falucska tornyát."</span>
<span class="st">r"(Látni távol kis falucska tornyát.)"</span>
<span class="co">#&gt; [1] "Látni távol kis falucska tornyát."</span></code></pre></div>
<p>Karakteres konstansok készítésekor a tetszőleges karaktersorozatunkat dupla (<code>"</code>) vagy egyszeres (<code>'</code>) idézőjellel kell körbevennünk, de az R 4.0.0-ás verziójától az <code>r"(tetszőleges_karaktersorozat)"</code> forma is elérhetővé vált. Láthatjuk, hogy az R a dupla idézőjelet részesíti előnyben az output megjelenítése során.</p>
<p>Egy karakteres konstans tetszőleges karaktert (betűt, számjegyet, írásjeleket, szóközt stb.) tartalmazhat, egyedül azt a határolójelet kell elkerülnünk, amelyet az illető karakteres konstans létrehozásánál használtuk.</p>
<p>A karakteres konstansok tartalmazhatnak ún. escape szekvenciákat, olyan backslash jellel (<code>\</code>, fordított perjel) kezdődő karaktersorozatokat, amelyeket speciálisan értelmez az R. A legfontosabb escape szekvenciákat és jelentésüket az <a href="#tab:escapes"><strong>??</strong></a> táblázat tartalmazza.</p>
<p>Természetesen, karakteres objektumokat is létrehozhatunk.</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nev</span> <span class="op">&lt;-</span> <span class="st">'Zsolt'</span>; <span class="va">foglalkozas</span> <span class="op">&lt;-</span> <span class="st">"festő"</span>; <span class="va">lakohely</span> <span class="op">&lt;-</span> <span class="st">r"(Érd)"</span>
<span class="va">nev</span>; <span class="va">foglalkozas</span>; <span class="va">lakohely</span>
<span class="co">#&gt; [1] "Zsolt"</span>
<span class="co">#&gt; [1] "festő"</span>
<span class="co">#&gt; [1] "Érd"</span></code></pre></div>
<p>Karakteres operátor az R-ben nincs, de számos karakterkezelő függvény segíti a sztringek kezelését (<a href="#tab:karfuggvenyek"><strong>??</strong></a> táblázat).</p>
</div>
<div id="logikai-konstansok" class="section level4" number="5.3.1.3">
<h4>
<span class="header-section-number">5.3.1.3</span> Logikai konstansok<a class="anchor" aria-label="anchor" href="#logikai-konstansok"><i class="fas fa-link"></i></a>
</h4>
<p>Az eddigiekben megismert numerikus és karakteres konstansok nagyon sokfélék lehetnek, de ugyanígy a numerikus és karakteres objektumokhoz nagyon sok lehetséges numerikus és karakteres érték rendelhető. A logikai adattípus ezektől lényegesen egyszerűbb típus, mivel összesen két érték tárolására van módunk. Ez a logikai igaz és a logikai hamis érték, amelyek az R nyelvben a <code>TRUE</code> és a <code>FALSE</code> logikai értékeket jelentik. Az R a logikai értékek írását a <code>T</code> és <code>F</code> globális változók bevezetésével segíti, ezek induló értéke a <code>TRUE</code> és a <code>FALSE</code> logikai érték.</p>
<p>Ezeket a logikai konstansokat értékadásban is szerepeltethetjük, így logikai objektumokat hozhatunk létre.</p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fiu</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>; <span class="va">van.kocsija</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span>; <span class="va">hazas</span> <span class="op">&lt;-</span> <span class="cn">T</span>
<span class="va">fiu</span>; <span class="va">van.kocsija</span>; <span class="va">hazas</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Logikai értékeket vagy objektumokat relációs operátorok segítségével is létrehozhatunk (<a href="#tab:reloperatorok"><strong>??</strong></a> táblázat).</p>
<p>Numerikus és karakteres adatok is lehetnek a relációs operátorok bemenő adatai. Numerikus adatok esetén a számok nagysága, karakteres adatok esetén az ábécében elfoglalt hely és a sztringek hossza (lexikografikus sorrend) alapján végzi az R az összehasonlítást. A sztringek lexikografikus összehasonlítása, magyar területi beállítások esetén, a magyar ékezetes karaktereket is helyesen kezeli.</p>
<p>A logikai értékkel visszatérő kifejezéseket (egyszerű) logikai kifejezéseknek nevezzük. Ezekből az egyszerű logikai kifejezésekből a logikai operátorok segítségével összetett logikai kifejezéseket hozhatunk létre (<a href="#tab:logoperatorok"><strong>??</strong></a> táblázat).</p>
</div>
<div id="az-r-nyelv-3-1-summary" class="section level4" number="5.3.1.4">
<h4>
<span class="header-section-number">5.3.1.4</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-3-1-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
Az adatfeldolgozás során többnyire számokkal és szövegekkel dolgozunk. Az R a numerikus és a karakteres adatok írásának szabályait pontosan rögzíti. Numerikus konstansok írása a matematikában megszokott módon történik (például <code>12</code>, <code>-24</code>, <code>12e+3</code>, <code>0xabc3</code>), azonban fontos megjegyeznünk, hogy a tizedestörtek esetében pontot kell használnunk az egész és a törtrész elválasztására (például <code>12.34</code>, <code>-0.04</code>, <code>3.12e+12</code>). Karakteres konstansok esetében a következő formákat használhatjuk: <code>“tetszőleges karakterek”</code>, <code>‘tetszőleges karakterek’</code>, és <code>r”(tetszőleges karakterek)“</code>. A logikai konstansok az adatmanipuláció során nyújtanak segítséget, két leheséges értékük a logikai igaz és hamis: a <code>TRUE</code>, <code>FALSE</code> vagy rövidebben a <code>T</code>, <code>F</code>.
</p>
</div>
</div>
<div id="az-r-nyelv-3-1-exercise" class="section level4" number="5.3.1.5">
<h4>
<span class="header-section-number">5.3.1.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-3-1-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Mi a hasonlóság a következő három numerikus konstans között: <code>0xabc</code>, <code>2748</code>, <code>.2748e4</code>.</li>
<li>Az R öt előre definiált konstassal rendelkezik (<code><a href="https://rdrr.io/r/base/Constants.html">?Constants</a></code>). Írassuk ki ezek értékeit, állapítsuk meg típusukat!</li>
<li>Az aranymetszés arányszámát (<span class="math inline">\(\phi=\frac{1+\sqrt{5}}{2}\)</span>) írassuk a konzolba legalább 8 tizedes pontossággal!</li>
<li>Az <code>r"(tetszőleges karakterek)"</code> formájú karakteres konstans megadásnak több válozata is létezik, soroljunk fel még legalább öt lehetőséget (<code><a href="https://rdrr.io/r/base/Quotes.html">?Quotes</a></code>)! Milyen előnyökkel rendelkezik ez a megadási forma az idézőjelek és a fordított perjel tekintetében?</li>
<li>Helyezzünk el idézőjeleket karakteres konstansokban, mindhárom megadási forma mellett!</li>
<li>Próbáljuk ki az <a href="#tab:karfuggvenyek"><strong>??</strong></a> táblázat karakterkezelő függvényeit! Gépeljük be az utolsó oszlopban lévő példákat, és vizsgáljuk meg a függvények visszatérési értékét.</li>
<li>Próbáljuk ki az <a href="#tab:reloperatorok"><strong>??</strong></a> táblázat relációs operátorait! Gépeljük be a példákat és ellenőrizzük az eredményeket.</li>
<li>A logikai operátorok működéséről teljes képet kaphatunk az <a href="#tab:logoperatorok"><strong>??</strong></a> táblázatból. Próbáljuk ki ezeket a parancsokat is!</li>
</ol>
</div>
</div>
</div>
<div id="adatszerkezetek-áttekintése" class="section level3" number="5.3.2">
<h3>
<span class="header-section-number">5.3.2</span> Adatszerkezetek áttekintése<a class="anchor" aria-label="anchor" href="#adatszerkezetek-%C3%A1ttekint%C3%A9se"><i class="fas fa-link"></i></a>
</h3>
<p>Az előző fejezetben láttuk, hogy az R-ben leírható értékek alapvetően 4 típusba sorolhatók. Ezek a <em>double</em>, az <em>integer</em>, a <em>karakteres</em> és a <em>logikai</em> alaptípusok. Ezen értékek felhasználásával nagyon egyszerűen tudunk objektumokat létrehozni. Ezek az objektumok, mindjárt látjuk, az R legalapvetőbb adatszerkezetének, a <em>vektor</em>nak az egyelemű változatai.</p>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">obj.double</span>     <span class="op">&lt;-</span> <span class="fl">12.03</span>
<span class="va">obj.integer</span>    <span class="op">&lt;-</span> <span class="fl">12L</span>
<span class="va">obj.karakteres</span> <span class="op">&lt;-</span> <span class="st">"Péter"</span>
<span class="va">obj.logikai</span>    <span class="op">&lt;-</span> <span class="cn">TRUE</span></code></pre></div>
<p>A fenti objektumok típusa rendre <em>double</em>, <em>integer</em>, <em>karakteres</em> és <em>logikai</em>. Ezt könnyen ellenőrizhetjük a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> vagy <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> függvényekkel. A <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> az objektum alaptípusát adja meg, a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> pedig inkább az R objektum-orientált lehetőségeihez kapcsolódó függvény, de a fenti objektumok esetében nagyon hasonló eredményt szolgáltat, és a későbbiek során is sokat fogjuk használni. Egyedül a <em>double</em> objektumokok esetén tér el a visszatérési értéke, <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> ugyanis ekkor a <code>numeric</code> outputot adja.</p>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.double</span><span class="op">)</span>;     <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.double</span><span class="op">)</span>
<span class="co">#&gt; [1] "double"</span>
<span class="co">#&gt; [1] "numeric"</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.integer</span><span class="op">)</span>;    <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.integer</span><span class="op">)</span>
<span class="co">#&gt; [1] "integer"</span>
<span class="co">#&gt; [1] "integer"</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.karakteres</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.karakteres</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span>
<span class="co">#&gt; [1] "character"</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">obj.logikai</span><span class="op">)</span>;    <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">obj.logikai</span><span class="op">)</span>
<span class="co">#&gt; [1] "logical"</span>
<span class="co">#&gt; [1] "logical"</span></code></pre></div>
<p>Az adatelemzési problémáink megoldásához egyszerre több adatérték feldolgozására van szükséges. Mivel az R nyelvet statisztikai adatfeldolgozásra tervezték, így nem csodálkozhatunk azon, ha több értéket is el tudunk tárolni egymás utáni memóriahelyeken a fenti 4 alaptípusból (<em>double</em>, <em>integer</em>, <em>karakteres</em> és <em>logikai</em>). Ezt többféleképp megtehetjük, például egy vagy több dimenzió mentén, illetve keverhetjük a típusokat vagy ragaszkodhatunk az azonos típusba tartozó értékek egymásutánjához. Ennek megfelelően több különböző R adatszerkezettel kell számolnunk. Ebben a fejezetben az R leggyakrabban használt adatszerkezetit tekintjük át. Most felsoroljuk és jellemezzük őket:</p>
<ul>
<li>
<em>vektor</em> - Azonos alaptípusú értékeket egymás után sorolunk fel, egy dimenzó mentén.</li>
<li>
<em>mátrix</em> - Azonos alaptípusú értékekből egy kétdimenziós szerkezetet hozunk létre, amelynek vannak sorai és oszlopai.</li>
<li>
<em>faktor</em> - Integer értékeket egymás után teszünk, egy dimenzió mentén, de megadjuk, hogy melyik szám milyen címkét jelöl.</li>
<li>
<em>lista</em> - Tetszőleges típusú objektumokat egymás után sorolunk fel, egy dimenzió mentén.</li>
<li>
<em>adattábla</em> - Tetszőleges típusú, de azonos elemszámú objektumokat egymás után sorolunk fel. Tipikusan azonos hosszúságú vektorokat vagy faktorokat teszünk egymás mellé, és így egy kétdimenziós szerkezetet kapunk, amelynek vannak sorai és oszlopai.</li>
</ul>
<p>Az <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábra összefoglalja az adatszerkezetek fenti tulajdonságait. Beszélünk numerikus (double vagy integer), karakteres és logikai vektorokról, melyek egydimenziósak és homogének, azaz azonos típusú adatokat tartalmaznak. Ugyanez igaz a mátrixokra, csak két dimenzióban, sorokkal és oszlopokkal. A faktor egy integer vektor (azaz egydimenziós és homogén), azonban külön nyilvántartást vezet arról, hogy az egyes integer értékeknek milyen címke felel meg. Az adattábla lesz a legfontosabb adatszerkezet számunkra: kétdimenziós, de oszlopai homogének, hiszen ezek vektorok (numerikus, karakteres vagy logikai) vagy faktorok lehetnek. A lista a legszabadabb adatszerkezet, egydimenziós, de elemei bármilyen adtszerkezethez tartozhatnak. Például az <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábrán egy 8 elemű lista jelenik meg, amelynek első eleme egy numerikus vektor, utolsó eleme pedig egy adattábla.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:adatszerkezetek-1"></span>
<a href="" target="_blank"><img src="images/adatszerkezetek_abra.png" alt="Az R legfontosabb adatszerkezetei" width="85%"></a>
<p class="caption">
ÁBRA 5.1: Az R legfontosabb adatszerkezetei
</p>
</div>
<p>Az <a href="#tab:adatszerkezetek"><strong>??</strong></a> táblázatban más szempontból mutatjuk be az adatszerkezeteket: példát mutatunk adott típusú (adatszerkezetű) objektumok létrehozására, és közöljük, hogy a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> és a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> milyen outputot szolgáltat az így létrehozott objektumok esetében.</p>
<!-- 



-->
<p>A következő alfejezetekben részletesen áttekintjük a <em>vektor</em>, a <em>mátrix</em>, a <em>faktor</em>, a <em>lista</em> és az <em>adattábla</em> adatszerkezeteket, ugyanis ezek töltik be a legfontosabb szerepet az adatelemzések során. Mindegyik esetben megvizsgáljuk:</p>
<ul>
<li>hogyan hozhatjuk létre az adott adatszerkezetű objektumot,</li>
<li>hogyan tesztelhetjük, hogy az adott típusú objektumról van-e szó,</li>
<li>hogyan konvertálhatunk más adatszerkezetekből ilyen típusú objektumot,</li>
<li>milyen műveletekben vehet részt,</li>
<li>hogya érhetjük el az objektum részeit, azaz hogyan indexelhetjük az objektumokat.</li>
</ul>
<div id="az-r-nyelv-4-summary" class="section level4" number="5.3.2.1">
<h4>
<span class="header-section-number">5.3.2.1</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-4-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A különböző típusú konstansokat objektumok létrehozására használhatjuk fel. A statisztikában egy objektumok értéke több konstas egymásutánja. A legegyszerűbb adatszerkezet az R-ben a <em>vektor</em>, amelyben tetszőlegesen sok, azonos típusú értéket helyezhetünk el egy dimenzió mentén. A <em>faktor</em> és a <em>lista</em> is egydimenziós, míg a <em>mátrix</em> és az <em>adattábla</em> kétdimenziós. A <em>faktor</em> integer vektor, amelyben a számoknak címkéket feleltetünk meg. A <em>lista</em> elemi tetszőleges típusúak lehetnek. A <em>mátrix</em> ugyanúgy homogén, minta a <em>vektor</em> és a <em>faktor</em>. Az <em>adattábla</em> felfogható azonos elemszámú vektorok/faktorok listájának.
</p>
</div>
</div>
<div id="az-r-nyelv-4-exercise" class="section level4" number="5.3.2.2">
<h4>
<span class="header-section-number">5.3.2.2</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-4-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Próbáljuk ki az <a href="#tab:adatszerkezetek"><strong>??</strong></a> táblázatban szereplő példákat. Hozzuk létre a különböző típusú objektumokat és vizsgáljuk meg a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> és <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> függvényekkel az objektumok típusát.</li>
</ol>
</div>
</div>
</div>
<div id="vektor" class="section level3" number="5.3.3">
<h3>
<span class="header-section-number">5.3.3</span> Vektor<a class="anchor" aria-label="anchor" href="#vektor"><i class="fas fa-link"></i></a>
</h3>
<p>Az R legalapvetőbb adatszerkezete a <em>vektor</em>. A vektort egymás melletti (vagy alatti) cellákban tárolt értékek sorozataként képzelhetjük el (<a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábra), mely értékek mindegyike azonos típusú. Így azt mondhatjuk, hogy a vektor azonos típusú (egynemű, homogén) adatok egydimenziós együttese. A vektor fontos jellemzője, hogy homogén, tehát a vektort alkotó értékek vagy kizárólag <em>integer</em>, vagy kizárólag <em>double</em>, vagy kizárólag <em>karakteres</em>, vagy kizárólag <em>logikai</em> típusúak lehetnek.</p>
<div id="vektor-létrehozása" class="section level4" number="5.3.3.1">
<h4>
<span class="header-section-number">5.3.3.1</span> Vektor létrehozása<a class="anchor" aria-label="anchor" href="#vektor-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Vektort legegyszerűbben a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvénnyel hozhatunk létre, az argumentumlistában egymás felsoroljuk a vektort alkotó értékeket. <em>Double</em> vektort hozhatunk létre például, ha a paraméterben numerikus konstansokat sorolunk fel:</p>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>; <span class="va">v.d</span>  <span class="co"># numerikus (double) vektor létrehozása</span>
<span class="co">#&gt; [1] 2 4 6 8</span></code></pre></div>
<p>A <code>v.d</code> objektum egy 4 elemű <em>double</em> vektor. Az első eleme a 2, a második eleme a 4, a harmadik a 6 és a negyedik egyben utolsó eleme a 8. A vektor elemei szóközökkel elválasztva jelennek meg a konzolban.</p>
<p>Karakteres vektort hasonlóan hozhatunk létre, a <code>v.k</code> vektor 3 elemű lesz.</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v.k</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"erős"</span>, <span class="st">'közepes'</span>, <span class="st">"gyenge"</span><span class="op">)</span>; <span class="va">v.k</span> <span class="co"># karakteres vektor létrehozása</span>
<span class="co">#&gt; [1] "erős"    "közepes" "gyenge"</span></code></pre></div>
<p>Egy logikai vektor csak logikai konstansokat tartalmazhat (<code>TRUE</code> vagy <code>FALSE</code>, illetve a <code>T</code> és <code>F</code> rövidebb változatot is használhatjuk):</p>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v.l</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">T</span><span class="op">)</span>; <span class="va">v.l</span>  <span class="co"># logikai vektor létrehozása</span>
<span class="co">#&gt; [1]  TRUE FALSE  TRUE</span></code></pre></div>
<p>A <code>v.d</code>, <code>v.k</code> és <code>v.l</code> objektum egy-egy példa az R különböző típusú vektoraira. Az objektumok fontos jellemzője az objektum hossza, ami vektorok esetén a vektort alkotó elemek számát jelenti. Ezt a <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> függvénnyel kérdezhetjük le.</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.d</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.k</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.l</span><span class="op">)</span>  <span class="co"># vektor hossza</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>A vektor hosszát létrehozása után is módosíthatjuk, szintén a <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> függvényt használjuk, de az értékadás bal oldalán.</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">v.l</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">5</span>  <span class="co"># vektor hosszának módosítása</span></code></pre></div>
<p>A <code>v.l</code> logikai vektor most már 5 elemű lesz:</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v.l</span>
<span class="co">#&gt; [1]  TRUE FALSE  TRUE    NA    NA</span></code></pre></div>
<p>Mivel nem adtuk meg a 4. és 5. elemét, így az <code>NA</code> lesz, ami a <em>hiányzó érték</em> jele az R-ben. Az <code>NA</code> minden vektornak eleme lehet, a vektor típusától függetlenül.</p>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">12L</span>, <span class="cn">NA</span>, <span class="fl">15L</span><span class="op">)</span>  <span class="co"># 3 elemű integer vektor; a 2. eleme nem ismert</span></code></pre></div>
<p>Térjünk vissza a vektorok létrehozásához. A <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvény paraméterébe természetesen konstansok helyett tetszőleges kifejezéseket is írhatunk:</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">szamok</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">(</span><span class="fl">2</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">*</span><span class="fl">4</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">4</span>, <span class="fl">.5</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>;        <span class="va">szamok</span>
<span class="co">#&gt; [1]  1.000 20.000  0.250  0.125</span>
<span class="va">nevek</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Péter"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Zso'</span>, <span class="st">"lt"</span><span class="op">)</span><span class="op">)</span>; <span class="va">nevek</span>
<span class="co">#&gt; [1] "Péter" "Zsolt"</span>
<span class="va">iteletek</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="fl">1</span><span class="op">&lt;</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">==</span><span class="fl">3</span><span class="op">)</span>;               <span class="va">iteletek</span>
<span class="co">#&gt; [1]  TRUE  TRUE FALSE</span></code></pre></div>
<p>A vektorok esetében a homogenitás központi szerepet játszik. Az R abban az esetben sem fog különböző típusú elemekből vektort létrehozni, ha ezeket egyetlen <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvényhívásban szerepeltetjük. Ekkor automatikus típuskonverzió történik. Nézzük ezeknek az eseteit:</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eset.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="st">"6"</span>,<span class="fl">8</span><span class="op">)</span>;    <span class="va">eset.1</span>
<span class="co">#&gt; [1] "2" "4" "6" "8"</span>
<span class="va">eset.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">FALSE</span>,<span class="st">"6"</span><span class="op">)</span>; <span class="va">eset.2</span>
<span class="co">#&gt; [1] "TRUE"  "FALSE" "6"</span>
<span class="va">eset.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">FALSE</span>, <span class="fl">3</span><span class="op">)</span>;  <span class="va">eset.3</span>
<span class="co">#&gt; [1] 1 0 3</span></code></pre></div>
<p>Amennyiben karakteres konstans szerepel az elemek között, a vektor karakteres típusú lesz. Ha numerikus és logikai értéket sorolunk fel, akkor a vektor numerikus lesz, azzal a kiegészítéssel, hogy a <code>TRUE</code> logikai érték 1-re, a <code>FALSE</code> pedig 0-ra konvertálódik.</p>
<p>További lehetőség a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvény használata során, hogy a paraméterben vektort is szerepeltethetünk. Ekkor ezek az elemek is szerepelni fognak az eredményvektorban:</p>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">regi.v.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">regi.v.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span>
<span class="va">uj.v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">regi.v.1</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="va">regi.v.2</span>, <span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span>; <span class="va">uj.v</span>
<span class="co">#&gt;  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12</span></code></pre></div>
<p>A fenti példában létrehozott <code>uj.v</code> 13 elemű numerikus vektor összerakásához felhasználtunk két 3 elemű vektort és egy kételemű vektort is.</p>
<p>Vektorok létrehozása során még egy érdekes lehetőségről érdemes szót ejteni. A <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvényben a vektor egyes elemeit elnevezhetjük, és ezek a nevek az outputban is meg fognak jelenni. Az elemek elnevezéséhez írjünk egy nevet és egy egyenlőségjelet az argumentumként használt elem elé. Ha a név nem egyetlen szó (vagyis tartalmaz szóközt), akkor a karakterkonstansok megadásánál látott három módszer valamelyikét használhatjuk (tehát a dupla és szimpla idézőjeleket és az <code>r"()"</code> konstrukciót), vagy a backtick (`) szimbólumot. Ezzel a módszerrel például a naponta tanulással töltött időnket úgy rögzíthetjük, hogy az output “beszédesebb” lesz, több információt tartalmaz.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="az-r-nyelv.html#cb106-1" aria-hidden="true" tabindex="-1"></a>tan.ido <span class="ot">&lt;-</span> <span class="fu">c</span>(Hétfő<span class="ot">=</span><span class="dv">35</span>, <span class="at">Kedd=</span><span class="dv">95</span>); tan.ido</span>
<span id="cb106-2"><a href="az-r-nyelv.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hétfő  Kedd </span></span>
<span id="cb106-3"><a href="az-r-nyelv.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    35    95</span></span>
<span id="cb106-4"><a href="az-r-nyelv.html#cb106-4" aria-hidden="true" tabindex="-1"></a>tan.ido <span class="ot">&lt;-</span> <span class="fu">c</span>(Hétfő<span class="ot">=</span><span class="dv">35</span>, <span class="st">"Kedd délelőtt"</span><span class="ot">=</span><span class="dv">50</span>, <span class="st">`</span><span class="at">Kedd délután</span><span class="st">`</span><span class="ot">=</span><span class="dv">45</span>); tan.ido</span>
<span id="cb106-5"><a href="az-r-nyelv.html#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Hétfő Kedd délelőtt  Kedd délután </span></span>
<span id="cb106-6"><a href="az-r-nyelv.html#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            35            50            45</span></span></code></pre></div>
<p>A vektorelemek nevei lekérdezhetők a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvénnyel. Amennyiben értékeadás bal oldalán szerepeltetjük, a vektor elemneveit módosítani tudjuk.</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">tan.ido</span><span class="op">)</span>                         <span class="co"># elemnevek lekérdezése</span>
<span class="co">#&gt; [1] "Hétfő"         "Kedd délelőtt" "Kedd délután"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">tan.ido</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"K.1"</span>, <span class="st">"K.2"</span><span class="op">)</span> <span class="co"># elemnevek módosítása</span>
<span class="va">tan.ido</span>
<span class="co">#&gt;   H K.1 K.2 </span>
<span class="co">#&gt;  35  50  45</span></code></pre></div>
</div>
<div id="szabalyosvektorokalfejezet" class="section level4" number="5.3.3.2">
<h4>
<span class="header-section-number">5.3.3.2</span> Szabályos vektorok létrehozása<a class="anchor" aria-label="anchor" href="#szabalyosvektorokalfejezet"><i class="fas fa-link"></i></a>
</h4>
<p>Ha egy vektor elemi szabályos rendben követik egymást, akkor szabályos vektorokról beszélünk. Ilyen lehet például a következő három numerikus vektor és két karakteres vektor.</p>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"f.1"</span>, <span class="st">"f.2"</span>, <span class="st">"f.3"</span><span class="op">)</span></code></pre></div>
<p>Szabályos numerikus vektorokat hozhatunk létre a kettőspont (<code>:</code>) operátorral vagy a <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvénnyel. Az így létrehozott vektorok ugyanis valamilyen számtani sorozat egymást követő elemei, vagyis az egymás mellett lévő elemek különbsége állandó.</p>
<p>A legegyszerűbb vektorlétrehozási mód a kettőspont (<code>:</code>) operátor, ahol az egymást követő elemek távolsága 1 vagy -1. Általános alakja: <code>start:stop</code>.</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="fl">10</span><span class="op">:</span><span class="fl">1</span>
<span class="co">#&gt;  [1] 10  9  8  7  6  5  4  3  2  1</span>
<span class="op">-</span><span class="fl">1.5</span><span class="op">:</span><span class="fl">5</span>
<span class="co">#&gt; [1] -1.5 -0.5  0.5  1.5  2.5  3.5  4.5</span>
<span class="fl">10.5</span><span class="op">:</span><span class="fl">3</span>
<span class="co">#&gt; [1] 10.5  9.5  8.5  7.5  6.5  5.5  4.5  3.5</span></code></pre></div>
<p>Látható, hogy az így létrehozott vektorok lehetnek csökkenő vagy növekvő rendezettségűek, valamint tört értékeket is használhatunk operandusként. A sorozat nem feltétlenül a kettőspont utáni értékig tart, mindössze annyi igaz, hogy a sorozat vége a <code>stop</code> értéknél mindig kisebb egyenlő (vagy nagyobb egyenlő, csökkenő sorozat esetén).</p>
<p>Hosszabb numerikus vektorokat is könnyűszerrel létrehozhatunk. A <code>101:140</code> parancs hatására 40 elemet hozunk létre. Hosszabb vektorok outputjában könnyebben el tudunk igazodni a sorok elején lévő <code>[x]</code> konstrukció segítségével: minden sorban a sor első eleme a vektor <code>x.</code> eleme. A lenti otputban szereplő <code>[17]</code> például azt mutatja, hogy a sor elején lévő 117 a 40 elemű vektor 17. eleme.</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">101</span><span class="op">:</span><span class="fl">140</span>
<span class="co">#&gt;  [1] 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116</span>
<span class="co">#&gt; [17] 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132</span>
<span class="co">#&gt; [33] 133 134 135 136 137 138 139 140</span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvény nagyobb szabadságot ad a numerikus sorozatok generálására. Legegyszerűbb használata esetén a kettőspont (<code>:</code>) operátort kapjuk vissza:</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvény használatához négy argumentum nevét és jelentését kell megtanulnunk: a <code>from=</code> a sorozat első elemét határozza meg, a <code>to=</code> az utolsó elemet, a <code>by=</code> a lépésközt és a <code>length.out=</code> a létrehozandó vektor elemeinek a számát. A négy paraméterből három megadása már egyértelműen azonosítja a kívánt vektort:</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">10</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 3 5 7 9</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">10</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1]  1.00  3.25  5.50  7.75 10.00</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>to<span class="op">=</span><span class="fl">10</span>, by<span class="op">=</span><span class="fl">1.3</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1]  4.8  6.1  7.4  8.7 10.0</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">1</span>, by<span class="op">=</span><span class="fl">1.3</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.0 2.3 3.6 4.9 6.2</span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/seq.html">seq_along()</a></code> függvénnyel szintén tudunk 1-től induló, 1-es lépésközű sorozatot alkotni, amelynek utolsó értéke, a paraméterben megadott vektor elemszáma.</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hétfő"</span>, <span class="st">"Kedd"</span>, <span class="st">"Szerda"</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>Tetszőleges típusú vektor létrehozására használhatjuk a <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> függvényt, amely egy létező vektor értékeit ismétli meg. A <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> első paramétere az ismétlendő vektor, a <code>times=</code> pedig az ismétlések számát adja meg.</p>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">2</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 2 2</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1]  2  0 -2  2  0 -2  2  0 -2</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"nap"</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] "nap" "nap" "nap"</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">T</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE  TRUE  TRUE FALSE  TRUE  TRUE</span></code></pre></div>
<p>A fenti példában mindenhol háromszor ismételtük meg az első paramétert, méghozzá úgy, hogy az R egymás után sorolta fel őket.</p>
<p>Egy vektor ismétlésének van egy másik esete is, amikor az elemeit sorban egyenként véve végezzük el az ismétlést. Ekkor nem a <code>times=</code> paramétert, hanem az <code>each=</code> argumentumot kell használnunk a függvény hívásánál.</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">2</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 2 2</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1]  2  2  2  0  0  0 -2 -2 -2</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"nap"</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] "nap" "nap" "nap"</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>,<span class="cn">T</span>,<span class="cn">T</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</span></code></pre></div>
<p>Látjuk, hogy egyelemű vektorok ismétlése esetén nincs különbség a <code>times=</code> és az <code>each=</code> paraméterek használata között.</p>
<p>Utolsó esetként elemenként szeretnénk ismételni, de eltérő ismétlésszámmal. Ekkor a <code>times=</code> paraméterben a bemenő vektor elemszámával azonos hosszú vektort kell megadni. Ez a vektor tartalmazza az elemek ismétlés számát.</p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 3 3 4 4 4</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nap"</span>, <span class="st">"part"</span><span class="op">)</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "nap"  "nap"  "part" "part" "part"</span>
<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1]  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE</span></code></pre></div>
<p>Végezetül bemutatjuk, hogy az <code>each=</code> és az egyelemű értékkel rendelkező <code>times=</code> egyszerre is alkalmazható. Ekkor előszőr a helyben ismétlés (<code>each=</code>), majd az így kapott vektor teljes ismétlése következik (<code>times=</code>).</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, each<span class="op">=</span><span class="fl">2</span>, times<span class="op">=</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;  [1] 1 1 2 2 3 3 4 4 5 5 1 1 2 2 3 3 4 4 5 5 1 1 2 2 3 3 4 4 5 5</span></code></pre></div>
<p>Szabályos karakteres vektor létrehozására használhatjuk a <code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code> függvényt. Egy előtaghoz (például <code>f.</code>) hozzáfűzhetünk 10 különböző számot, amely így egy 10 elemű karakteres vektort eredményez.</p>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"f."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1] "f.1"  "f.2"  "f.3"  "f.4"  "f.5"  "f.6"  "f.7"  "f.8"  "f.9"  "f.10"</span></code></pre></div>
<p>A <code>collapse=</code> argumentum használatával, akár egyetlen karakteres értékbe is összeolvaszthatjuk a fenti elemeket. Az argumentumban az összevonásnál használt elválasztó karaktert adjuk meg.</p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"f."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, collapse <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span>
<span class="co">#&gt; [1] "f.1_f.2_f.3_f.4_f.5_f.6_f.7_f.8_f.9_f.10"</span></code></pre></div>
<p>Az eddigiek összefoglalásaként nézzünk példát különbüző típusú és elemhosszú vektorok létrehozására.</p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">12L</span>                        <span class="co"># y 1 elemű integer vektor</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">12</span>                         <span class="co"># y 1 elemű double</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="st">"Bízz magadban!"</span>           <span class="co"># y 1 elemű karakteres</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>                       <span class="co"># y 1 elemű logikai</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">23.8</span>, <span class="op">-</span><span class="fl">5</span><span class="op">)</span>                <span class="co"># y 2 elemű double</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"K"</span><span class="op">)</span>                <span class="co"># y 2 elemű karakteres</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">FALSE</span><span class="op">)</span>                <span class="co"># y 2 elemű logikai</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>           <span class="co"># y 5 elemű double</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>                        <span class="co"># y 5 elemű integer</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">9</span>, to<span class="op">=</span><span class="fl">100</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># y 46 elemű double</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"K"</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">10</span><span class="op">)</span> <span class="co"># y 20 elemű karakteres</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>               <span class="co"># z 20 elemű integer</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"év."</span>, <span class="fl">2001</span><span class="op">:</span><span class="fl">2020</span><span class="op">)</span>   <span class="co"># y 20 elemű karakteres</span></code></pre></div>
</div>
<div id="a-vektoraritmetika-szabályai" class="section level4" number="5.3.3.3">
<h4>
<span class="header-section-number">5.3.3.3</span> A vektoraritmetika szabályai<a class="anchor" aria-label="anchor" href="#a-vektoraritmetika-szab%C3%A1lyai"><i class="fas fa-link"></i></a>
</h4>
<p>Amint az előzőekben láttuk, az R rendszer legalapvetőbb adattárolási szerkezete a vektor. Az R egyik legnagyszerűbb tulajdonsága pedig az, ahogyan a vektorokkal műveleteket végezhetünk. Korábban már láttuk, hogyan tudunk összeadni két számot az R-ben. Próbáljunk meg összeadni két 2 elemű vektort:</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 4 6</span></code></pre></div>
<p>A két fenti vektort a parancssorban hoztuk létre a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvénnyel. Az összeadás eredménye egy 2 elemű vektor. Az eredményvektor az 1+3 és a 2+4 műveletek alapján jött létre, vagyis az összeadás operandusaiban szereplő vektor azonos sorszámú elemeire hajtotta végre a kijelölt műveletet az R.</p>
<p>Két vektor összeadásánál természetesen használhatunk objektumneveket is:</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">x</span> <span class="op">+</span> <span class="va">y</span>
<span class="co">#&gt; [1] 3 5 7</span></code></pre></div>
<p>Itt az eredményvektor 3 elemű, és a komponensenkénti műveletvégrehajtás szabályainak megfelelően az 1+2, 2+3 és a 3+4 összeadások eredménye lesz a 3 új elem.</p>
<p>Az összeadás műveletet tetszőleges operátorral felcserélhetjük, használhatjuk az összes aritmetikai, relációs és logikai operátort.</p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] -1 -1</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">x</span><span class="op">-</span><span class="va">y</span>
<span class="co">#&gt; [1] -1 -1 -1</span>
<span class="va">x</span><span class="op">*</span><span class="va">y</span>
<span class="co">#&gt; [1]  2  6 12</span>
<span class="va">x</span><span class="op">/</span><span class="va">y</span>
<span class="co">#&gt; [1] 0.5000000 0.6666667 0.7500000</span>
<span class="va">x</span><span class="op">^</span><span class="va">y</span>
<span class="co">#&gt; [1]  1  8 81</span>
<span class="va">x</span><span class="op">==</span><span class="va">y</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE</span>
<span class="va">x</span><span class="op">&lt;</span><span class="va">y</span>
<span class="co">#&gt; [1] TRUE TRUE TRUE</span></code></pre></div>
<p>A fenti műveletek közül a hatványozás végrehajtása tűnhet kicsit szokatlannak, itt ugyanis egy 3 elemű vektort, mint alapot egy 3 elemű másik vektorra, mint kitevőre emeljük. Ha azonban a komponensenkénti végrehajtás szabályát észben tartjuk, akkor világos, hogy az eredményvektor az 1^2, 2^3 és a 3^4 eredménye.<br>
A komponensenkénti végrehajtás szabálya a logikai operátorokra is érvényes.</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE  TRUE  TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; [1]  TRUE FALSE FALSE FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; [1]  TRUE  TRUE  TRUE FALSE</span></code></pre></div>
<p>A vektorok közötti műveletek legegyszerűbb esetét tekintettük át eddig, azaz azonos elemszámú vektorokat adtunk össze vagy vontunk ki egymásból. Ha az operátor két oldalán lévő vektorok elemszáma eltér, akkor az általános szabály az, hogy a rövidebbik vektort az R megismétli mindaddig, míg a hosszabbik vektor elemszámát el nem éri. Ha a rövidebbik vektort nem egész számszor megismételve kapjuk a hosszabb vektor hosszát, akkor figyelmeztetést kapunk az R-től, melyben erre a tényre felhívja a figyelmünket, de a kijelölt műveletet az R ennek ellenére végrehajtja.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">+</span><span class="fl">5</span>
<span class="co">#&gt; [1] 6 7</span></code></pre></div>
<p>A fenti példában egy 2 elemű és egy 1 elemű vektort adunk össze. A rövidebb vektort még egyszer megismételve már az <code>c(5, 5)</code> vektort kapjuk, így a kijelölt összeadás minden fennakadás nélkül végrehajtható. Az eredményvektor az 1+5 és a 2+5 összeadások eredménye lesz.</p>
<p>Most egy 2 elemű és egy 3 elemű vektort adunk össze.</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; Warning in c(1, 2) + c(3, 4, 5) :</span>
<span class="co">#&gt;   longer object length is not a multiple of shorter object length</span>
<span class="co">#&gt; [1] 4 6 6</span></code></pre></div>
<p>A rövidebbik vektort még egyszer megismételve a <code>c(1, 2, 1, 2)</code> vektort kapjuk, de mivel nincs szükség minden elemére, ezért figyelmeztető üzenetet kapunk. Az eredményvektor az 1+3, 2+4 és a 1+5 összeadások eredménye lesz. A következő példában már nincs figyelmeztetés, hiszen a rövidebb vektort egész számszor, pontosan kétszer kellett megismételni a koordinátánkénti műveletvégrehajtáshoz.</p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>
<span class="co">#&gt; [1] 4 6 6 8</span></code></pre></div>
<p>Foglaljuk össze a vektoraritmetka szabályait: azonos elemszámú vektorok között az azonos pozícióban lévő vektorelemek között hajtódik végre a kijelölt művelet (vagyis koordinátánkénti végrehajtás történik), különböző elemszámú vektorok esetében pedig először a rövidebbik vektor ismétléssel kiegészül a hosszabbik vektor hosszára, és ezt követi a koordintánkénti végrehajtás.</p>
<p>Az operátorokon túl az <a href="#tab:matfuggvenyek"><strong>??</strong></a> táblázatban szereplő matematikai függvények is támogatják a vektor paramétert. Ekkor nem egyetlen értékkel térnek vissza, hanem a bemenő vektor minden elemére kiszámolt függvényértékek vektorával.</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">9</span>, <span class="fl">16</span><span class="op">)</span><span class="op">)</span>              <span class="co"># 3 szám négyzetgyöke</span>
<span class="co">#&gt; [1] 2 3 4</span>
<span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>, base<span class="op">=</span><span class="fl">10</span><span class="op">)</span>  <span class="co"># 3 szám 10-es alapú logaritmusa</span>
<span class="co">#&gt; [1] 0 1 2</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1.3</span><span class="op">:</span><span class="fl">10</span>; <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>          <span class="co"># 9 szám egészre kerekítve </span>
<span class="co">#&gt; [1] 1 2 3 4 5 6 7 8 9</span></code></pre></div>
</div>
<div id="függvények-vektorokkal" class="section level4" number="5.3.3.4">
<h4>
<span class="header-section-number">5.3.3.4</span> Függvények vektorokkal<a class="anchor" aria-label="anchor" href="#f%C3%BCggv%C3%A9nyek-vektorokkal"><i class="fas fa-link"></i></a>
</h4>
<p>Az előző fejezetben láttuk, hogy a matematikai függvények vektor argumentumot is elfogadnak, és a vektor minden elemére kiszámolják a függvényértéket. Míg a <code>log(x=16, base=2)</code> függvényhívás a matematikában megszokot módon egyetlen bemenő értékhez (16) egyetlen kimenő éréket szolgáltat (4), addig az R lehetőségeit jobban kihasználó <code>log(x = c(1, 2, 4, 8, 16), base=2)</code> függvényhívás négy bemenő értékből (<code>c(1, 2, 4, 8, 16)</code>) négy kimenő érték <code>c(0, 1, 2, 3, 4)</code> állít elő. A függvények és a vektorok kapcsolatának azonban van egy másik aspektusa, amely szorosan kötődik a statisztikai műveletek végrehajtásához.</p>
<p>Az R-ben számos függvény olyan vektort vár az argumentumában, amely nem egy elemet, hanem tipikusan több tizet vagy százat tartalmaz. Ezeket a függvényeket vektor alapú függvényeknek nevezzük, és az R statisztikai mutatókat számoló függvényei is ebbe a csoportba tartoznak. A vektor alapú függvényekre az jellemző, hogy a bemenő vektor elemeivel egy előre definiált műveletsorozatot hajtanak végre, például összadják a vektor elemeit, kiszámolják az elemek átlagát vagy szórását, és visszatérési értékként ezt az összeget, átlagot vagy szórást szolgáltatja. A legfontosabb vektor alapú függvényeket az <a href="#tab:statfuggvenyek"><strong>??</strong></a> táblázat tartalmazza.</p>
</div>
<div id="típusok-kezelése" class="section level4" number="5.3.3.5">
<h4>
<span class="header-section-number">5.3.3.5</span> Típusok kezelése<a class="anchor" aria-label="anchor" href="#t%C3%ADpusok-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Minden R vektor típusa a négy alaptípus egyike lehet: <em>double</em>, <em>integer</em>, <em>karakteres</em> vagy <em>logikai</em>. Korábban láttuk, hogy a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> és a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> függvények pontos tájékoztatást adnak a vektorok típusáról. Létezik azonban egy függvénycsalád, amellyel megvizsgálhatjuk, hogy egy tetszőleges objektum az adott típushoz tartozik-e. Ez az <code>is.*()</code> függvénycsalád, amelynek eleme az <code><a href="https://rdrr.io/r/base/double.html">is.double()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">is.integer()</a></code>, <code><a href="https://rdrr.io/r/base/logical.html">is.logical()</a></code> és<code><a href="https://rdrr.io/r/base/character.html">is.character()</a></code> függvény. Nézzünk egy példát használatukra.</p>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3.5</span>, <span class="fl">4.1</span>, <span class="fl">9.2</span><span class="op">)</span>  <span class="co"># új objektum - double vektor</span>
<span class="fu"><a href="https://rdrr.io/r/base/double.html">is.double</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>           <span class="co"># x.d vajon double?</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/integer.html">is.integer</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>          <span class="co"># x.d vajon integer?</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>        <span class="co"># x.d vajon karakteres?  </span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/logical.html">is.logical</a></span><span class="op">(</span><span class="va">x.d</span><span class="op">)</span>          <span class="co"># x.d vajon logikai?</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Láttuk korábban, hogy a logikai értékek esetében, ha szükséges, automatikus típuskonverzió történik numerikus típusra (<code>TRUE</code> - 1, <code>FALSE</code> - 0). Sok esetben azonban explicit típuskonverzióra van szükség, amit az <code>as.*()</code> függvénycsaláddal hajthatunk végre. Vektorok esetében használhatjuk az <code><a href="https://rdrr.io/r/base/double.html">as.double()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">as.integer()</a></code>, <code><a href="https://rdrr.io/r/base/logical.html">as.logical()</a></code> vagy <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code> függvényeket. Nézzünk ezekre is néhány példát.</p>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/double.html">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">)</span>              <span class="co"># logikai vektorból double </span>
<span class="co">#&gt; [1] 1 0</span>
<span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2.9"</span>, <span class="st">"a"</span>, <span class="st">"3"</span><span class="op">)</span><span class="op">)</span>  <span class="co"># karakteres vektorból integer</span>
<span class="co">#&gt; [1]  2 NA  3</span>
<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>               <span class="co"># integer vektorból karakteres           </span>
<span class="co">#&gt; [1] "1" "2" "3" "4" "5"</span>
<span class="fu"><a href="https://rdrr.io/r/base/logical.html">as.logical</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>                 <span class="co"># integer vektorból logikai</span>
<span class="co">#&gt; [1] FALSE  TRUE  TRUE  TRUE</span></code></pre></div>
</div>
<div id="az-na-hiányzó-érték" class="section level4" number="5.3.3.6">
<h4>
<span class="header-section-number">5.3.3.6</span> Az <code>NA</code> hiányzó érték<a class="anchor" aria-label="anchor" href="#az-na-hi%C3%A1nyz%C3%B3-%C3%A9rt%C3%A9k"><i class="fas fa-link"></i></a>
</h4>
<p>Korábbi példáinkban már felbukkant a hiányzó érték, amelyet az R-ben az <code>NA</code> jelöl. Az adatelemzési munkánkat végigkísérik a hiányzó adatok. Első lépésként azt jegyezzük meg, hogy az <code>NA</code> hiányzó érték tetszőleges típusú vektorban lehet elem.</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">4</span><span class="op">)</span>; <span class="va">x</span>              <span class="co"># NA numerikus vektorban</span>
<span class="co">#&gt; [1]  2 NA  4</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"erős"</span>, <span class="st">"gyenge"</span><span class="op">)</span>; <span class="va">x</span>  <span class="co"># NA karakteres vektorban</span>
<span class="co">#&gt; [1] NA       "erős"   "gyenge"</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>; <span class="va">x</span>             <span class="co"># NA logikai vektorban</span>
<span class="co">#&gt; [1] TRUE   NA   NA</span></code></pre></div>
<p>Egy <code>NA</code> érték jelenlétét a vektorban az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> függvénnyel tudjuk kimutatni. Az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> argumentuma tetszőleges vektor lehet, visszatérési értéke pedig a bemenő vektor elemszámával megegyező logikai vektor. A visszatérő logikai vektor csak abban a pozícióban tartalmaz <code>TRUE</code> értéket, ahol bemenő vektorban hiányzó adatot találunk.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="cn">NA</span><span class="op">)</span>    <span class="co"># két NA numerikus vektorban</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                   <span class="co"># két TRUE a logikai vektorban</span>
<span class="co">#&gt; [1] FALSE  TRUE FALSE FALSE  TRUE</span></code></pre></div>
<p>Hiányzó értékeket is tartalmazó vektor esetén néhány vektor alapú függvény meglepő eredményt adhat. A statisztikai mutatókat számoló függvények rendre <code>NA</code>-val térnek vissza, ha a bemenő vektorban van hiányzó érték.</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
<p>Ha kíváncsiak vagyunk az <code>NA</code> értéken kívüli elemek átlagára, akkor egy második paramétert is szerepeltetnünk kell a <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> függvényben, és minden más statisztikai mutatót számoló függvényben. Az <code>na.rm=</code> argumentum <code>TRUE</code> értéke biztosítja, hogy az átlag számítása során a hiányzó értékeket figyelmen kívül hagyjuk.</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="cn">NA</span><span class="op">)</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; [1] 5.5</span></code></pre></div>
</div>
<div id="az-inf-és-a-nan" class="section level4" number="5.3.3.7">
<h4>
<span class="header-section-number">5.3.3.7</span> Az <code>Inf</code> és a <code>NaN</code><a class="anchor" aria-label="anchor" href="#az-inf-%C3%A9s-a-nan"><i class="fas fa-link"></i></a>
</h4>
<p>Az R-ben a numerikus műveletek eredménye – a matematikai értelmezéstől sokszor eltérően – vezethet pozitív vagy negatív végtelen eredményre. Ezeket az <code>Inf</code> és a <code>-Inf</code> szimbólumok jelölik, amelyeket különböző kifejezésekben akár mi is felhasználhatunk.</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">/</span><span class="fl">0</span>               
<span class="co">#&gt; [1] Inf</span>
<span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>
<span class="co">#&gt; [1] -Inf</span>
<span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="cn">Inf</span><span class="op">)</span>
<span class="co">#&gt; [1] Inf</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="cn">Inf</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] Inf</span></code></pre></div>
<p>Néhány esetben a numerikus kifejezések eredménye nem értelmezhető számként, ezt az R-ben a <code>NaN</code> (“Not a Number”) jelöli. Ilyen kifejezések például:</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">0</span><span class="op">/</span><span class="fl">0</span>
<span class="co">#&gt; [1] NaN</span>
<span class="cn">Inf</span><span class="op">-</span><span class="cn">Inf</span>
<span class="co">#&gt; [1] NaN</span>
<span class="cn">Inf</span><span class="op">/</span><span class="cn">Inf</span>
<span class="co">#&gt; [1] NaN</span></code></pre></div>
<p>Egy kifejezés véges vagy végtelen voltát az <code><a href="https://rdrr.io/r/base/is.finite.html">is.finite()</a></code> vagy <code><a href="https://rdrr.io/r/base/is.finite.html">is.infinite()</a></code> függvényekkel tesztelhetjük. A <code>NaN</code> értékre az <code><a href="https://rdrr.io/r/base/is.finite.html">is.nan()</a></code> függvénnyel kérdezhetünk rá. Figyeljük meg, a <code>NaN</code> értékre, mind az <code><a href="https://rdrr.io/r/base/is.finite.html">is.nan()</a></code>, mind az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> függvény <code>TRUE</code> értéket ad.</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NaN</span>, <span class="cn">Inf</span>, <span class="op">-</span><span class="cn">Inf</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.nan</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE  TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.finite</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1]  TRUE FALSE FALSE FALSE FALSE</span></code></pre></div>
</div>
<div id="vektor-indexelése" class="section level4" number="5.3.3.8">
<h4>
<span class="header-section-number">5.3.3.8</span> Vektor indexelése<a class="anchor" aria-label="anchor" href="#vektor-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Fontos részhez érkeztünk, érdemes kicsit lassítanunk. Már nagyon sok mindent megtanultunk a vektorokról: egy vektorban egy dimenzió mentén azonos típusú értékeket sorolhatunk fel, amellyel a vektoraritmetika szabályai szerint műveleteket tudunk végezni. Például hozzunk létre egy 10 elemű vektort, növeljük meg minden egyes vektorelem értékét 1-gyel.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>         <span class="co"># x integer vektor létrehozása</span>
<span class="va">x</span> <span class="op">+</span> <span class="fl">1</span>              <span class="co"># kiíratjuk az 1-gyel megnövelt értékeket (x nem változik)</span>
<span class="co">#&gt;  [1] 12 13 14 15 16 17 18 19 20 21</span>
<span class="va">x</span>                  <span class="co"># x értékének kiírása</span>
<span class="co">#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</span></code></pre></div>
<p>A fenti sorok hatására a konzolban egy 10 elemű vektor elemei jelennek meg, minden elem 1-gyel nagyobb, mint az <code>x</code> adott eleme. Egyetlen összeadás (<code>+</code>) operátor segítségével valójában 10 összeadás végrehajtását írtuk elő. Vegyük észre, hogy maga az <code>x</code> vektor nem módosult, továbbra is az eredeti <code>11:20</code> elemeket tartalmazza. Egy objektum ugyanis addig őrzi az értékét, amíg értékadó operátor segítségével felül nem írjük.</p>
<p>Tekintsük most a következő sorokat.</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>         <span class="co"># y integer vektor létrehozása</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">+</span> <span class="fl">1</span>         <span class="co"># megnöveljük 1-gyel y értékeit (y megváltozik)</span>
<span class="va">y</span>                  <span class="co"># y értékének kiírása </span>
<span class="co">#&gt;  [1] 12 13 14 15 16 17 18 19 20 21</span></code></pre></div>
<p>Az <code>y</code> vektor 10 elemű, a <code>11:20</code> értékekkel hoztuk létre. A második sorban azonban megváltoztatjuk az <code>y</code> értékét, mert újra az értékadás bal oldalán szerepel az <code>y</code> objektum. Az <code>y</code> új értéke az értékadás jobb oldalán szereplő kifejezés értéke lesz, azaz a <code>y+1</code> összeadás eredménye, ami nem más mint a <code>12:21</code>. Az <code>y</code> értékének megjelenítésével ellenőrizhetjük, hogy valóban a <code>12:21</code> elemek kerülnek a konzolba.</p>
<p>A fenti példában <code>y</code> minden értékét megváltoztattuk. Az eredeti <code>11:20</code> helyett az új érték <code>12:21</code>. Az <code>y</code> vektor minden egyes eleme megváltozott, például ahol 11 volt, ott most 12 van, ahol 12 volt ott most 13. Ha szükség van az eredeti és az új <code>y</code> értékekre akkor kicsit módosítanunk kell az eddigi sorokon.</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">z</span>    <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>         <span class="co"># z integer vektor létrehozása</span>
<span class="va">z.uj</span> <span class="op">&lt;-</span> <span class="va">z</span> <span class="op">+</span> <span class="fl">1</span>         <span class="co"># z.uj double vektor létrehozása (z nem változik)</span>
<span class="va">z</span>                     <span class="co"># z értékének kiírása</span>
<span class="co">#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</span>
<span class="va">z.uj</span>                  <span class="co"># z.uj értékének kiírása</span>
<span class="co">#&gt;  [1] 12 13 14 15 16 17 18 19 20 21</span></code></pre></div>
<p>A <code>z</code> vektor is 10 elemű, a <code>11:20</code> a kezdőértéke, és jól látható, hogy a fenti sorok hatására ez nem is változik meg, hiszen a <code>z</code> újra már nem jelenik meg értékadás bal oldalán. Értékadás jobb oldalán viszont felbukkan, a második sorban a <code>z.uj</code> objektum létrehozásához használtuk fel <code>z</code> értékét. Az <code>z</code> és <code>z.uj</code> objektumok értékének kiírásával ellenőrizhetjük, hogy a <code>z</code> továbbra is biztonságosan tárolja a <code>11.20</code> értékeket, de a <code>z.uj</code>-ban a kívánt <code>12:21</code> módosított értékek is megtalálhatók. A további munkafázisokban így az eredeti és a módosított értékek is elérhetők lesznek, ami újdonság, mert az előző példákban ez a lehetőség nem volt elérhető. Az <code>x</code> objektumot használó példában csak az eredeti, az <code>y</code> vektoros példában csak a módosított értékeket tudnánk a későbbiekben használni.</p>
<p>Összefoglalva az eddigieket, két tanulságot vonhatunk le. Egyfelől, a vektorműveleteknek csak akkor lesz “maradandó” hatása, ha objektumban őrizzük a számítás eredményét, azaz értékadást használunk. Ez az objektum lehet a kindulásként használt erdeti objektum (<code>y &lt;- y + 1</code>), de biztonságosabb ha új objektumot hozunk létre az új értékek számára (<code>z.uj &lt;- z + 1</code>), mert így az eredeti értékeket a jövőben is tudjuk használni. Másfelől, ezek a példák ráirányítják a figyelmet a vektoraritmetika egy nagyszerű jellemzőjére: a vektorműveletek megadása független a vektor hosszától, nem lesz bonyolultabb egy vektorművelet, például az <code>x+1</code> összeadás ha <code>x</code> nem 10 elemű, hanem mondjuk 100 hosszú. Az összeadás művelet parancsa 100 elemű vektor esetén is csupán <code>x+1</code>, azonban a háttérben nem 10, hanem 100 összeadás történik. Akár 10, akár 100 elemű az <code>x</code>, az összes elemre az <code>x</code> segítségével hivatkozhatunk, és az <code>x+1</code> összeadás az <code>x</code> összes eleméhez hozzáad 1-et. De mit tegyünk, ha nincs szükségem <code>x</code> összes elemére, vagy nem szeretném <code>x</code> összes elemét megnövelni 1-gyel, csak néhányat. Ekkor indexelést kell használnunk.</p>
<p>Az adatfeldolgozás során gyakori, hogy a vektor egyes elemeit külön-külön szeretnénk elérni, lekérdezni vagy módosítani. A vektor egy tetszőleges részét, egy vagy több elemét az <em>indexelés</em> művelettel érhetjük el, melynek eredménye szintén vektor lesz. Az index operátor jele a szögletes zárójel (<code>[]</code>) az R-ben, amit a vektor neve után kell írnunk. Vektorok indexelésének általános alakja:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb141-1"><a href="az-r-nyelv.html#cb141-1" aria-hidden="true" tabindex="-1"></a>vektor<span class="co">[</span><span class="ot">indexvektor</span><span class="co">]</span>        # az eredmény egy vektor</span></code></pre></div>
<p>Az indexvektor lehet numerikus, karakteres és logikai vektor is. Nézzük ezeket sorban.</p>
<div id="indexelés-numerikus-vektorokkal" class="section level5" number="5.3.3.8.1">
<h5>
<span class="header-section-number">5.3.3.8.1</span> Indexelés numerikus vektorokkal<a class="anchor" aria-label="anchor" href="#indexel%C3%A9s-numerikus-vektorokkal"><i class="fas fa-link"></i></a>
</h5>
<p>Kezdjük egy 10 elemű <code>x</code> vektor létrehozásával.</p>
<div class="sourceCode" id="cb142"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>; <span class="va">x</span>
<span class="co">#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</span></code></pre></div>
<p>Megfigyelhetjük, hogy az <code>x</code> vektor 1. eleme 11, a 2. a 12, az utolsó, a 10. pedig éppen 20. Ebben a felsorolásban az elemek sorszámai (1., 2., 10.) pontosan a vektor indexeit jelentik. A vektor indexelése tehát 1-gyel kezdődik, ez az 1. elem indexe, a 2. elem indexe 2, az utolsó elemé pedig 10. Ha az index operátorba egy ilyen egyszerű sorszámot írunk, akkor a vektor adott indexű elemét érhetjük el.</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>     <span class="co"># x vektor 1. eleme</span>
<span class="co">#&gt; [1] 11</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>     <span class="co"># x vektor 2. eleme</span>
<span class="co">#&gt; [1] 12</span>
<span class="va">x</span><span class="op">[</span><span class="fl">10</span><span class="op">]</span>    <span class="co"># x vektor 10. eleme</span>
<span class="co">#&gt; [1] 20</span></code></pre></div>
<p>Nem csak lekérdezhetjük, hanem az értékadó operátor segítségével módosíthatjuk is valamelyik elemet.</p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span>       <span class="co"># x 2. elemének módosítása</span>
<span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">*</span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>    <span class="co"># x 3. elemének módosítása</span>
<span class="va">x</span>
<span class="co">#&gt;  [1]  11 100 200  14  15  16  17  18  19  20</span></code></pre></div>
<p>Itt először a második elemet 100-ra cseréljük, majd a harmadikat a második kétszeresére. A változást ellenőrizhetjük a konzolban. Ha az <code>x</code> vektort az elemszámánál nagyobb indexszel próbáljuk elérni, akkor <code>NA</code> értéket kapunk:</p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fl">11</span><span class="op">]</span>     <span class="co"># x csak 10 elemű, a 11. nem létező elem</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
<p>Vektorokat azonban nem csak egy elemű indexvektorokkal indexelhetünk, hanem két vagy több elemű numerikus vektorokat is használhatunk. Ebben az esetben az indexvektorban felsorolt sorszámoknak megfelelő indexű elemeket érhetjük el.</p>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span> 
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span>               <span class="co"># x vektor 1., 3. és 5. eleme</span>
<span class="co">#&gt; [1] 11 13 15</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span>            <span class="co"># x vektor 3., 5. 3. és 1. eleme</span>
<span class="co">#&gt; [1] 13 15 13 11</span>
<span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>                      <span class="co"># x vektor 3., 4., 5., és 6. eleme</span>
<span class="co">#&gt; [1] 13 14 15 16</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">7</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="va">y</span><span class="op">]</span>                        <span class="co"># x vektor 3. és 7. eleme</span>
<span class="co">#&gt; [1] 13 17</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">2</span>, to<span class="op">=</span><span class="fl">10</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="co"># x vektor páros indexű elemei  </span>
<span class="co">#&gt; [1] 12 14 16 18 20</span></code></pre></div>
<p>A fenti példákban látható, hogy az indexelés során létrejött vektorok elemszáma az indexvektor elemszámával egyenlő. Egy indexet akár többször is felsorolhatunk, és tetszőleges sorrend megengedett. A szöglegetes zárójelben lévő indexvektort helyben is elkészíthetjük a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> és <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvénnyel (vagy bármilyen más vektorlétrehozó függvénnyel), vagy a kettőspont (<code>:</code>) operátorral, de korábban létrehozott objektumot is használhatunk indexelésre (<code>x[y]</code>).</p>
<p>Az indexelés során több vektorelemet egy lépésben is tudunk módosítani. Az indexelt elemek kaphatnak azonos vagy különböző értéket. Itt is a vektoraritmetikai szabályai kezdenek működni.</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>           
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">120</span>, <span class="fl">130</span><span class="op">)</span> <span class="co"># x 1., 2. és 3. elemét módosítjuk</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>                <span class="co"># x 4., 5. és 6. elemét módosítjuk</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">170</span>, <span class="fl">180</span><span class="op">)</span>      <span class="co"># x 7., 8. és 9. elemét módosítjuk</span>
<span class="va">x</span>
<span class="co">#&gt;  [1] 110 120 130   0   0   0 170 180 170  20</span></code></pre></div>
<p>A fenti példában az <code>x</code> vektor három-három elemét módosítjuk az egyes értékadások során. Az értékadó operátor (<code>&lt;-</code>) engedelmeskedik a vektoraritmetika szabályainak, azaz az értékadás bal és jobb oldalán szereplő vektorokat tekinthetjük két olyan vektornak, amelyek között műveletet szeretnénk végrehajtani. Az első értékadásban azonos elemszámú a két vektor, a koordintánkénti értékadás azonnal megtörténik (<code>x[c(1, 2, 3)] &lt;- c(110, 120, 130)</code>). A másik két értékadásban különbözik a két vektor elemszáma, így először ismétléssel kiegészül a jobb oldali, rövidebbik vektor, majd ezután következhet a koordinátánkénti végrehajtás.</p>
<p>Egy vektor indexe mindig egész szám, de az R megengedi, hogy tört értékeket tartalmazó indexvektort szerepeltessünk az index operátorban, ekkor az egész részét veszi az indexeknek, egyszerűen csonkolja őket.</p>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2.3</span><span class="op">]</span>       <span class="co"># x 2. eleme</span>
<span class="co">#&gt; [1] 12</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2.8</span><span class="op">]</span>       <span class="co"># x 2. eleme</span>
<span class="co">#&gt; [1] 12</span></code></pre></div>
<p>Negatív értékeket tartalmazó numerikus vektorral is indexelhetünk, ekkor a negatív előjellel megadott sorszámokon kívül az összes többi elemet tudjuk elérni vagy módosítani.</p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>
<span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fl">3</span><span class="op">]</span>                         <span class="co"># minden x elem, kivéve a 3.</span>
<span class="co">#&gt; [1] 11 12 14 15</span>
<span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span>                   <span class="co"># minden x elem, kivéve az 1. és az 5.</span>
<span class="co">#&gt; [1] 12 13 14</span>
<span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span>                     <span class="co"># minden x elem, kivéve az első 3</span>
<span class="co">#&gt; [1] 14 15</span>
<span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>                    <span class="co"># minden x elem módosul, kivéve a 2.      </span>
<span class="va">x</span>
<span class="co">#&gt; [1]  0 12  0  0  0</span></code></pre></div>
</div>
<div id="indexelés-karaketeres-vektorokkal" class="section level5" number="5.3.3.8.2">
<h5>
<span class="header-section-number">5.3.3.8.2</span> Indexelés karaketeres vektorokkal<a class="anchor" aria-label="anchor" href="#indexel%C3%A9s-karaketeres-vektorokkal"><i class="fas fa-link"></i></a>
</h5>
<p>Amennyiben egy vektor elemei rendelkeznek névvel, akkor karakteres indexvektorokat is használhatunk az indexeléshez. Ez meglehetősen nagy könnyebbséget jelent, ugyanis nem kell ismernünk a kívánt elem pozícióját, azaz indexét, elegendő fejben tartanunk az elem nevét. Vegyük példaként a tanulók matematika versenyen elért pontszámait tartalmazó vektort.</p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Peti'</span><span class="op">=</span><span class="fl">35</span>, <span class="st">'Bori'</span><span class="op">=</span><span class="fl">37</span>, <span class="st">'Éva'</span><span class="op">=</span><span class="fl">33</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="st">"Bori"</span><span class="op">]</span>                              <span class="co"># x "Bori" nevű eleme</span>
<span class="co">#&gt; Bori </span>
<span class="co">#&gt;   37</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Peti"</span>, <span class="st">"Éva"</span><span class="op">)</span><span class="op">]</span>                    <span class="co"># x "Peti" és "Éva" nevű eleme</span>
<span class="co">#&gt; Peti  Éva </span>
<span class="co">#&gt;   35   33</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Peti"</span>, <span class="st">"Éva"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">36</span>, <span class="fl">34</span><span class="op">)</span>       <span class="co"># x fenti 2 elemének módosítása</span>
<span class="va">x</span>
<span class="co">#&gt; Peti Bori  Éva </span>
<span class="co">#&gt;   36   37   34</span></code></pre></div>
<p>Látható, hogy a kívánt elem eléréséhez, például Bori matematika teljesítményéhez nem kell ismernünk Bori pontszámának pozícióját, elegendő a névre emlékeznünk.</p>
</div>
<div id="indexelés-logikai-vektorokkal" class="section level5" number="5.3.3.8.3">
<h5>
<span class="header-section-number">5.3.3.8.3</span> Indexelés logikai vektorokkal<a class="anchor" aria-label="anchor" href="#indexel%C3%A9s-logikai-vektorokkal"><i class="fas fa-link"></i></a>
</h5>
<p>Vektorok indexeléséhez logikai vektorokat is használhatunk. Első pillanatban kényelmetlennek, sőt feleslegesnek tűnik majd ez a lehetőség, de a következő fejezetben, a vektorok szűrésénél, magunk is meggyőződhetünk e módszer káprázatos erejéről</p>
<p>A logikai indexvektor működése nagyon egyszerű. Hossza az indexelenedő vektor hosszával egyenlő, és a <code>TRUE</code> logikai értékkel jelezzük, hogy az adott pozíción lévő elemet el akarjuk érni, a <code>FALSE</code> értékkel pedig azt, hogy nincs szükség arra az elemre.</p>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span>    <span class="co"># x vektor 1., 3., és 4. eleme    </span>
<span class="co">#&gt; [1] 11 13 14</span></code></pre></div>
<p>A fenti példában <code>TRUE</code> szerepel az 1., 3. és 4. pozícióban, így az <code>x</code> vektor 1., 3. és 4. elemeit érhetjük el.</p>
<p>Az indexelésre használt logikai vektor elemszáma kisebb is lehet, mint az indexelt vektor hossza, ekkor az R az indexvektor ismétlésével kapja meg a kívánt hosszt.</p>
<div class="sourceCode" id="cb152"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span>      <span class="co"># x vektor 1., 3. és 5. eleme</span>
<span class="co">#&gt; [1] 11 13 15</span>
<span class="va">x</span><span class="op">[</span><span class="cn">T</span><span class="op">]</span>            <span class="co"># x vektor összes eleme</span>
<span class="co">#&gt; [1] 11 12 13 14 15</span>
<span class="va">x</span><span class="op">[</span><span class="cn">F</span><span class="op">]</span>            <span class="co"># x vektor egyik eleme sem</span>
<span class="co">#&gt; integer(0)</span></code></pre></div>
<p>A <code>c(T, F)</code> vektor két elemű, az indexelendő <code>x</code> viszont 5 hosszú, így az R ismétléssel előállítja a <code>c(T, F, T, F, T)</code> öt elemű vektort, és ezt használja az <code>x</code> indexeléséhez. Ha a csupa <code>TRUE</code> értékű vektorral indexelünk, akkor az <code>x</code> vektor összes elemét megkapjuk, ha pedig a csupa <code>FALSE</code> értékkel, akkor az üres vektort kapjuk. Az <code>integer(0)</code> az üres integer vektort jelöli.</p>
<p>A logikai vektorral indexelt vektorelemeket ugyanúgy módosíthatjuk, mint korábban a numerikus és karakteres indexvektorok esetén.</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>                    <span class="co"># x vektor 1., 3. és 5. elemét módosítjuk</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">140</span><span class="op">)</span> <span class="co"># x vektor 2. és 4. elemét módosítjuk</span>
<span class="va">x</span>
<span class="co">#&gt; [1]   0 120   0 140   0</span></code></pre></div>
</div>
<div id="indexelesspecna" class="section level5" number="5.3.3.8.4">
<h5>
<span class="header-section-number">5.3.3.8.4</span> Indexelés speciális értékekkel<a class="anchor" aria-label="anchor" href="#indexelesspecna"><i class="fas fa-link"></i></a>
</h5>
<p>Az indexelésnek van néhány speciális esete, amelyet érdemes ismernünk. Vektorok indexelése során az indexoperátor üresen is maradhat, ekkor a vektor összes elemét elérhetjük, vagyis az <code>x</code> és <code>x[]</code> kifejezések ugyanazt az outputot adják.</p>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>
<span class="va">x</span><span class="op">[</span><span class="op">]</span>           <span class="co"># x minden eleme</span>
<span class="co">#&gt; [1] 11 12 13 14 15</span>
<span class="va">x</span><span class="op">[</span><span class="cn">NaN</span><span class="op">]</span>        <span class="co"># egyetlen NA</span>
<span class="co">#&gt; [1] NA</span>
<span class="va">x</span><span class="op">[</span><span class="cn">NA</span><span class="op">]</span>         <span class="co"># x elemszámának megfelelő NA   </span>
<span class="co">#&gt; [1] NA NA NA NA NA</span></code></pre></div>
<p>A fenti példákból kiolvasható, hogy a <code>NaN</code> és <code>NA</code> indexként való használata egyetlen <code>NA</code>-t, vagy az <code>x</code> hosszának megfelelő számú hiányzó értéket szolgáltat.</p>
<p>Legyünk óvatosak, ha az indexvektor tartalmaz <code>NA</code> értéket, akkor az eredménybe azon a pozíción szintén <code>NA</code> fog bekerülni.</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span>          <span class="co"># x 1. eleme, NA, és x 2. eleme</span>
<span class="co">#&gt; [1] 11 NA 12</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span>   <span class="co"># x 1. és 2. elemének módosítása</span>
<span class="va">x</span>
<span class="co">#&gt; [1] 100 100  13  14  15</span></code></pre></div>
<p>Kerüljük az értékadást <code>NA</code>-t tartalmazó indexvektor használata esetén. A fenti példában az értékadás ugyan nem jelez hibát, és ellenőrizhetjük, hogy valóban megtörtént az első két vektorelem módosítása. Azonban az értékadás jobb oldalán a több elemű vektor már nem engedélyezett, például az <code>x[c(1, NA, 2)] &lt;- c(100, 200)</code> értékadás hibaüzenethez vezet. Összefoglalva, minden esetben ellenőrizzük, hogy az indexvektortunk tartalmaz-e <code>NA</code> hiányzó értéket.</p>
</div>
</div>
<div id="vektor-szűrése" class="section level4" number="5.3.3.9">
<h4>
<span class="header-section-number">5.3.3.9</span> Vektor szűrése<a class="anchor" aria-label="anchor" href="#vektor-sz%C5%B1r%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Eddig a vektorok elemeit pozíciójuk alapján értük el. Akár sorszámot, elemnevet vagy megfelelő pozícióban lévő logkai igaz/hamis értéket használtunk indexelésre, végső soron az számított, hogy az adott elem hol található a vektorelemek egydimenziós sorában. Ebben a fejezetben egy teljes más kiinduló pontot használni
unk a vektorelemek elérésére és ez a vektor tartalma lesz, vagyis a vektorelem konkrét értéke (és nem a pozíciója).</p>
<p>Bővítsük ki a matematika pontszámokat tartalmazó vektorunkat, rögzítsük hat tanuló eredményét.</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Peti'</span><span class="op">=</span><span class="fl">35</span>, <span class="st">'Bori'</span><span class="op">=</span><span class="fl">37</span>, <span class="st">'Éva'</span><span class="op">=</span><span class="fl">33</span>, <span class="st">'Pál'</span><span class="op">=</span><span class="fl">21</span>, <span class="st">'Gergő'</span><span class="op">=</span><span class="fl">34</span>, <span class="st">'Ili'</span><span class="op">=</span><span class="fl">40</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;  Peti  Bori   Éva   Pál Gergő   Ili </span>
<span class="co">#&gt;    35    37    33    21    34    40</span></code></pre></div>
<p>Ha arra vagyunk kíváncsiak, hogy kik értek el 36 pontnál többet a versenyen és milyen pontszámokkal, akkor rövid áttekintés után megadhatjuk a választ, sőt a pozíció alapján könnyen elvégezhetjük az alábbi indexeléseket is.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span>               <span class="co"># indexelés numerikus vektorral</span>
<span class="co">#&gt; Bori  Ili </span>
<span class="co">#&gt;   37   40</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bori"</span>, <span class="st">"Ili"</span><span class="op">)</span><span class="op">]</span>      <span class="co"># indexelés karakteres vektorral</span>
<span class="co">#&gt; Bori  Ili </span>
<span class="co">#&gt;   37   40</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">F</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span>   <span class="co"># indexelés logikai vektorral</span>
<span class="co">#&gt; Bori  Ili </span>
<span class="co">#&gt;   37   40</span></code></pre></div>
<p>A fenti sorok az eddigiekhez képest semmilyen újdonságot nem tartalmaznak, lényegében összefoglalják a pozíció alapú indexelésről tanultakat. Felmerülhet bennünk a kérdés, ha <code>x</code> nem hat elemű, hanem 60 vagy esetleg 600, akkor mennyi esélyünk lenne az indexelt kifejezések előállítására. Nem sok.</p>
<p>Adódik azonban egy másik lehetőség, ami közvetlenül abból indul ki, hogy 36 pontnál nagyobb vektorelemeket keressük. Logikai művelettel ezt a következőképp fogalmazhatjuk meg.</p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">36</span>        <span class="co"># relációs művelet, logikai vektort eredményez</span>
<span class="co">#&gt;  Peti  Bori   Éva   Pál Gergő   Ili </span>
<span class="co">#&gt; FALSE  TRUE FALSE FALSE FALSE  TRUE</span></code></pre></div>
<p>Korábban láttuk, hogy ez a művelet a vektoraritmetikai szabályainak engedelmeskedve két lépésben értelmezhető: (1) mivel különböző elemhosszú a két vektor, <code>x</code> hat elemű, a 36 egy elemű, először a jobb oldal is hat elemű lesz (<code>c(36, 36, 36, 36, 36, 36)</code>), majd (2) koordinátánként a relációs művelet végrehajtásra kerül, azaz x minden eleméről döntés születik, hogy nagyobb-e mint 36. A relációs művelet eredménye egy hat elemű logikai vektor, amely pontosan ott <code>TRUE</code>, ahol az illető <code>x</code> elem nagyobb 36-nál, minden más helyen pedig <code>FALSE</code>. Esetünkben a Bori és Ili elemeknél jelenik meg a <code>TRUE</code>, vagyis a 2. és 6. pozícióban. Vegyük észre, hogy ez pontosan az a logikai vektor, mint amit mi hoztunk létre korábban a pozíció alapú indexelés egyik példájaként (<code>x[c(F, T, F, F, F, T)]</code>).</p>
<p>A relációs művelet eredményét, mint logikai vektort kiválóan fel tudjuk használni az indexelésben a 36 pontnál nagyobb vektorelemek eléréséhez.</p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">36</span><span class="op">]</span>       <span class="co"># x vektor szűrése (36-nál nagyobb elemek leválogatása)</span>
<span class="co">#&gt; Bori  Ili </span>
<span class="co">#&gt;   37   40</span></code></pre></div>
<p>A fenti sor az első példa szűrésre. A szűrés lényegében logikai vektorral való indexelés, ahol a logikai indexvektort egy olyan logikai kifejezés állítja elő, amely hivatkozik a vektor tartalmára. A definíciót értelmezve a példára: a logikai vektor, amely alapján az indexelés történik a <code>c(F, T, F, F, F, T)</code>, a logikai kifejezés, amely ezt előállítja az <code>x&gt;36</code>, a vektor tartalmára pedig természetesen az <code>x</code> objektumnévvel utalunk a logikai kifejezésen belül.</p>
<p>A szűrés nagyszerűen kezeli a vektorhosszal kapcsolatban korábban felvetett problémánkat. Ha az <code>x</code> nem hat, hanem 60 vagy 600 elemű, akkor is az <code>x[x&gt;36]</code> végzi a 36-nál nagyobb elemek leválogatását.</p>
<p>Próbáljuk ki a szűrést nagyobb elemszám esetén is. Generáljunk 60 véletlen értékeket a 0-40 értéktartományból, úgy mintha 60 tanuló matematika pontszáma állna rendelkezésre. A <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> függvény az <code>x=</code> argumentumában megadott értékekből, a <code>size=</code>-ban megadott darabszámnyit állít elő. A <code>replace=T</code> argumentummal gondoskodunk arról, hogy egy érték többször is szerpelhessen az eredményvektorban.</p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pontszamok</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">40</span>, size <span class="op">=</span> <span class="fl">60</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="co"># véletlen értékek</span>
<span class="va">pontszamok</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>               <span class="co"># ponszamok vektor első 10 eleme</span>
<span class="co">#&gt;  [1] 33 15 27 12  5 35  8  5  3 40</span>
<span class="va">pontszamok</span><span class="op">[</span><span class="va">pontszamok</span> <span class="op">&gt;</span> <span class="fl">36</span><span class="op">]</span>    <span class="co"># pontszamok vektor szűrése</span>
<span class="co">#&gt; [1] 40 40 37 37 40</span></code></pre></div>
<p>A <code>pontszamok</code> vektor 60 elemű, az első 10 értékét a képenyőn láthatjuk. A 36-nál nagyobb elemek megjelenítését szűréssel végeztük. Látható, hogy a szűrés nem lett bonyolultabb a vektor hosszának növekedésével.</p>
<p>Más relációs operátorokat (<a href="#tab:reloperatorok"><strong>??</strong></a> táblázat) is használhatunk a szűrésben, sőt logikai operátorok (<a href="#tab:logoperatorok"><strong>??</strong></a> táblázat) segítségével tetszőleges természetes nyelven megfogalmazott feltételt át tudunk fordítani R logikai kifejezésbe. A logikai operátorokat tartalmazó logikai kifejezésket <em>összetett logikai kifejezés</em>eknek nevezzük. Írassuk ki a pontszámokat 36 és 39 között, majd 3 és 6 között, és végül mindezeket együtt.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pontszamok</span><span class="op">[</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">36</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">39</span><span class="op">]</span>
<span class="co">#&gt; [1] 37 37</span>
<span class="va">pontszamok</span><span class="op">[</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">6</span><span class="op">]</span>
<span class="co">#&gt; [1] 5 5 3 3 5 4 5</span>
<span class="va">pontszamok</span><span class="op">[</span><span class="op">(</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">36</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">39</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="va">pontszamok</span><span class="op">&gt;=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">pontszamok</span><span class="op">&lt;=</span><span class="fl">6</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1]  5  5  3 37  3  5 37  4  5</span></code></pre></div>
<p>Időnként szükségünk lehet arra az információra, hogy a vektorban melyik pozícióban vannak a feltételnek eleget tevő vektorelemek. Erre a feladatra a <code><a href="https://rdrr.io/r/base/which.html">which()</a></code> függvényt használhatjuk. A <code><a href="https://rdrr.io/r/base/which.html">which()</a></code> függvény bemenő paraméterként egy logikai vektort vár, visszatérési értéke pedig a <code>TRUE</code> logikai értékek indexe lesz.</p>
<p>Térjünk vissza a matematika pontszámokhoz.</p>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Peti'</span><span class="op">=</span><span class="fl">35</span>, <span class="st">'Bori'</span><span class="op">=</span><span class="fl">37</span>, <span class="st">'Éva'</span><span class="op">=</span><span class="fl">33</span>, <span class="st">'Pál'</span><span class="op">=</span><span class="fl">21</span>, <span class="st">'Gergő'</span><span class="op">=</span><span class="fl">34</span>, <span class="st">'Ili'</span><span class="op">=</span><span class="fl">40</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">36</span><span class="op">)</span>         
<span class="co">#&gt; Bori  Ili </span>
<span class="co">#&gt;    2    6</span>
<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fl">36</span> <span class="op">&lt;=</span> <span class="va">x</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">39</span><span class="op">)</span>
<span class="co">#&gt; Bori </span>
<span class="co">#&gt;    2</span>
<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="fl">21</span><span class="op">)</span>
<span class="co">#&gt; Pál </span>
<span class="co">#&gt;   4</span>
<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">!=</span> <span class="fl">21</span><span class="op">)</span>
<span class="co">#&gt;  Peti  Bori   Éva Gergő   Ili </span>
<span class="co">#&gt;     1     2     3     5     6</span></code></pre></div>
<p>Az outputokban nem látjuk a tanulók pontszámát, tehát nem a szűrés a <code><a href="https://rdrr.io/r/base/which.html">which()</a></code> célja, azoknak a vektorelemeknek az indexét látjuk, amelyek az egyszerű vagy összetett logikai kifejezéseknek eleget tesznek.</p>
<p>Végezetül tekintsük át a szűrés és az értékadás kapcsolatát. Az adatelemzés során előfordulhat, hogy bizonyos feltételnek eleget tevő elemeket módosítani szeretnénk. Például, ha egy vektorban előzetesen a hiányzó értékeket 99-cel jelöljük, akkor a későbbi hibamentes elemzéshez <code>NA</code>-ra kell módosítanunk ezeket az értékekek.</p>
<p>Az <code>x</code> így már helyes módon tartalmazza a hiányzó értékeket. Ha esetleg később kiderül ezeknek az elemeknek a tényleges értéke, akkor az <code>NA</code>-t kell helyettesítenünk új értékekkel. Vigyázzunk, az <code>x == NA</code> kifejezés helytelen a hiányzó értékek tesztelésére, erre az <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> függvényt kell használnunk.</p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>    <span class="co"># hiányzó értékek módosítása</span>
<span class="va">x</span>
<span class="co">#&gt;  Peti  Bori   Éva   Pál Gergő   Ili </span>
<span class="co">#&gt;    35    37    33    21    34    40</span></code></pre></div>
<p>Az <code>x</code> vektorban két hiányzó érték volt, így a fenti értékadás jobb oldalán két elemű vektort használunk. Ha mindkét hiányzó értéket azonos számmal szeretnénk felülírni, akkor elegendő lenne a <code>x[is.na(x)] &lt;- 7</code> kifejezés is.</p>
<p>Korábban már említettük a (<a href="az-r-nyelv.html#indexelesspecna">5.3.3.8.4</a> alfejeztben, hogy kerüljük az értékadást <code>NA</code>-t tartalmazó indexvektor használata esetén. Azonban nem minden esetben tudunk kitérni az ilyen esetek elől. Növeljük meg a hiányzó értékeket tartalmazó <code>x</code> vektor azon elemeit 1-gyel, amelyek 36-nál kisebbek! A nyilvánvalónak látszó <code>x[x &lt; 36] &lt;- x[x &lt; 36] + 1</code> parancs helytelen, hibaüzenetet ad. Az értékadás mindkét oldalán szükséges az <code>&amp; !is.na(x)</code> hozzáfűzése a meglévő logikai kifejezéshez.</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">33</span>, <span class="cn">NA</span>, <span class="fl">32</span>, <span class="fl">38</span>, <span class="cn">NA</span>, <span class="fl">37</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">36</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">36</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span></code></pre></div>
</div>
<div id="vektor-rendezése" class="section level4" number="5.3.3.10">
<h4>
<span class="header-section-number">5.3.3.10</span> Vektor rendezése<a class="anchor" aria-label="anchor" href="#vektor-rendez%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Egy vektor elemeit növekvő vagy csökkenő sorrendbe rendezhetjük. Az R-ben a vektor elemeit a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> vagy az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvénnyel rendezhetjük.</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; [1] 1 2 3 4 5 5 4 3</span>
<span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>               <span class="co"># x elemei növekvő sorrendben</span>
<span class="co">#&gt; [1] 1 2 3 3 4 4 5 5</span>
<span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span>, decreasing<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="co"># x elemei csökkenő sorrendben, vagy: rev(sort(x))</span>
<span class="co">#&gt; [1] 5 5 4 4 3 3 2 1</span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> függvény alapértelmezés szerint növekvő sorrendbe rendezi a bemeneti vektort, ha azonban a <code>decreasing=</code> paramétert <code>TRUE</code>-ra állítjuk, csökkenő rendezést kapunk. A <code><a href="https://rdrr.io/r/base/rev.html">rev()</a></code> függvénnyel, amely a bementi vektor elemeit fordított sorrendben sorolja fel, szintén elérhetjük a csökkenő rendezettséget.</p>
<p>Ha a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> függvénnyel átrendezett vektort a továbbiakban fel szeretnénk használni, akkor azt érdemes új objektumban tárolni (<code>x.2 &lt;- sort(x)</code>).</p>
<p>A vektor rendezésének másik módja az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvényhez kapcsolódik. A visszatérési érték ekkor egy numerikus indexvektor, amellyel a bemenő vektort indexelve rendezett vektort kapunk.</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3 8 4 7 5 6</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] 1 2 3 3 4 4 5 5</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span>, decreasing<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">]</span>;
<span class="co">#&gt; [1] 5 5 4 4 3 3 2 1</span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény esetében is használhatjuk a <code>decreasing=</code> paramétert, amellyel csökkenő sorrendbe rendezhetjük a vektorunkat.</p>
<p>A numerikus vektorokon túl a karakteres és logikai vektorokat is sorba rendezhetjük a <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> és <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvényekkel.</p>
</div>
<div id="az-r-nyelv-5-summary" class="section level4" number="5.3.3.11">
<h4>
<span class="header-section-number">5.3.3.11</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-5-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
Gratulálunk! Maratoni alfejezetünk végigolvasásával jelentős lépést tett meg az Olvasó a magabiztos R ismeretek megszerzéséhez. A vektor minden adatelemzési munka alapja, biztos kezelése kulcsfontosságú. Tetszőleges vektor létrehozásához a <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> függvényt használhatjuk, és az elemeket akár nevesíthetjük is. Szabályos vektort a <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code>, <code><a href="https://rdrr.io/r/base/seq.html">seq_along()</a></code> és a <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> függvénnyel, vagy a kettőspont (<code>:</code>) operátorral készíthetünk. Megbeszéltük a vektorok közötti műveletek végrehajtásának fő szabályát: ismétléssel hozzuk azonos hosszra a vektorokat ha szükséges, majd koordinátánként végezzük el a kívánt műveletet. A vektorokat támogatják a matematikai függvények is, minden vektorelemre meghívódik a függvény. A statisztikai függvények szintén vektort várnak, de többnyire egy értéket szolgáltatnak. A vektorok típusának tesztelése az <code>is.<em>()</em></code>, a konvertálása pedig az <code>as.()</code> függvényekkel történik.
</p>
</div>
</div>
<div id="az-r-nyelv-5-exercise" class="section level4" number="5.3.3.12">
<h4>
<span class="header-section-number">5.3.3.12</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-5-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzuk létre a következő numerikus vektort: 12, 14, 17.</li>
<li>Hozzuk létre a következő karakteres vektort: “Vác,” “Eger,” “Pécs.”</li>
<li>Hozzuk létre a következő logikai vektort: TRUE, FALSE, FALSE.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 8, az utolsó 102 és a különbség 1.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 102, az utolsó 8 és a különbség -1.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 8, az utolsó 102 és a különbség 2.</li>
<li>Hozzuk létre egy számtani sorozat egymást követő elemeit, ahol az első elem 8, a különbség 3 és a vektor 25 elemű.</li>
<li>Hozzuk létre azt a numerikus vektort, amely 12 elemű, és minden elemének -2 az értéke!</li>
<li>Hozzuk létre azt a karakteres vektort, amely 7 elemű, és minden elemének “Péntek” az értéke!</li>
<li>Hozzuk létre azt a logikai vektort, amely 7 elemű, és minden elemének TRUE az értéke!</li>
<li>Hozzuk létre azt a numerikus vektort, amely a 2, 3, 5 elemeket háromszor egymás után megismétli! Hány elemű az így létrejött vektor?</li>
<li>Hozzuk létre azt a numerikus vektort, amely a 2, 3, 5 elemeket háromszor helyben megismétli! Hány elemű az így létrejött vektor?</li>
<li>Hozzuk létre azt a numerikus vektort, amely a 2, 3, 5 elemeket helyben megismétli úgy, hogy a 2-őt 4-szer, a 3-at 5-ször és az 5-öt 7-szer ismétli meg! Hány elemű az így létrejött vektor?</li>
<li>Szabályos vektorok létrehozásának van egy korábban még nem említett módja: a <code><a href="https://rdrr.io/r/base/sequence.html">sequence()</a></code> függvény. Ismerjük meg a súgóból ezt a függvényt, és értelmezzük a <code>sequence(4)</code> és <code>sequence(c(4,5))</code> függvényhívásokat!</li>
<li>Vektorok létrehozásának számos módját megismertük ebben a fejezetben, de elemek megadása nélkül, vagy akár nulla hosszúsággal is létrehozhatunk vektort. A <code><a href="https://rdrr.io/r/base/double.html">double()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">integer()</a></code>, <code><a href="https://rdrr.io/r/base/character.html">character()</a></code> és <code><a href="https://rdrr.io/r/base/logical.html">logical()</a></code> függvények közvetlenül az adott típusnak megfelelő vektort hozzák létre. A súgó tanulmányozásával állítsunk elő 0 és 10 elemű vektor objektumokat mind a négy típus esetén.</li>
<li>Próbáljuk ki az <a href="#tab:statfuggvenyek"><strong>??</strong></a> táblázatban szereplő példákat.</li>
</ol>
</div>
</div>
</div>
<div id="mátrix" class="section level3" number="5.3.4">
<h3>
<span class="header-section-number">5.3.4</span> Mátrix<a class="anchor" aria-label="anchor" href="#m%C3%A1trix"><i class="fas fa-link"></i></a>
</h3>
<p>A mátrix adatszerkezet egyetlen lényeges dologban különbözik a vektortól, a mátrix kétdimenziós, sorokba és oszlopokba szervezi az elemeket, míg a vektor egydimenziós (érdemes visszalapozni a <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábrához). A mátrix ugyanúgy homogén, mint a vektor, ennek megfelelően beszélünk <em>double</em>, <em>integer</em>, <em>karakteres</em> és <em>logikai</em> mátrixokról.</p>
<div id="mátrix-létrehozása" class="section level4" number="5.3.4.1">
<h4>
<span class="header-section-number">5.3.4.1</span> Mátrix létrehozása<a class="anchor" aria-label="anchor" href="#m%C3%A1trix-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Mátrix létrehozásához a <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvényt használjuk ki, amely egy kiinduló vektor elemeit használja fel a mátrix feltöltéséhez. A <code>data=</code> argumentumban kell megadnunk ezt a vektort, majd az <code>nrow=</code> és/vagy <code>ncol=</code> argumentumokban közöljük a sorok és oszlopok számát.</p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow<span class="op">=</span><span class="fl">4</span><span class="op">)</span>        <span class="co"># 4x5-ös integer mátrix</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    5    9   13   17</span>
<span class="co">#&gt; [2,]    2    6   10   14   18</span>
<span class="co">#&gt; [3,]    3    7   11   15   19</span>
<span class="co">#&gt; [4,]    4    8   12   16   20</span></code></pre></div>
<p>A fenti példában a 20 elemű vektort 4 sorban rendezi el a <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvény, ennek megfelelően 5 oszlopos lesz az <code>x</code> mátrix. A <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvényben az <code>ncol=</code> paraméter is használható.</p>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span>        <span class="co"># 4x5-ös integer mátrix</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    5    9   13   17</span>
<span class="co">#&gt; [2,]    2    6   10   14   18</span>
<span class="co">#&gt; [3,]    3    7   11   15   19</span>
<span class="co">#&gt; [4,]    4    8   12   16   20</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">10</span><span class="op">)</span>       <span class="co"># 4x10-es integer mátrix</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]</span>
<span class="co">#&gt; [1,]    1    5    9   13   17    1    5    9   13    17</span>
<span class="co">#&gt; [2,]    2    6   10   14   18    2    6   10   14    18</span>
<span class="co">#&gt; [3,]    3    7   11   15   19    3    7   11   15    19</span>
<span class="co">#&gt; [4,]    4    8   12   16   20    4    8   12   16    20</span></code></pre></div>
<p>Az <code>ncol=5</code> szerepeltetése nem jelent változást az előző példához képest, az <code>x</code> mátrix 4 sort és 5 oszlopot fog tartalmazni, rövidebben 4 <span class="math inline">\(\times\)</span> 5-ös. A következő sorban az <code>ncol=10</code> argumentum már egy 40 elemű mátrix létrehozását kezdeményezi, így az <code>1:20</code> vektor ismétlésével állnak elő a szükséges elemek. (Figyelmeztetést kapunk, ha a szükséges mátrixelemszám eléréséhez nem egész számszor kell ismételni a kiinduló vektort, de a mátrix ebben az esetben is létre fog jönni.)</p>
<p>A fenti példában azt is megfigyelhetjük, hogy a 20 elemű vektorból oszlopfolytonosan jön létre a mátrix, vagyis először az első oszlop töltődik fel a vektorelemekkel, majd a második, és így tovább. Ha sorfolytonosan szeretnénk a bemenő vektor elemeiből mátrixot képezni, akkor a <code>byrow=</code> paramétert igazra kell állítanunk.</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">3</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>    <span class="co"># 3x4-es integer mátrix</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4]</span>
<span class="co">#&gt; [1,]    1    2    3    4</span>
<span class="co">#&gt; [2,]    5    6    7    8</span>
<span class="co">#&gt; [3,]    9   10   11   12</span></code></pre></div>
<p>Mátrixot karakteres vagy logikai értékekből is építhetünk.</p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"az"</span>,<span class="st">"egy"</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">3</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="co"># 2x3-as karakteres mátrix</span>
<span class="co">#&gt;      [,1]  [,2]  [,3] </span>
<span class="co">#&gt; [1,] "az"  "egy" "az" </span>
<span class="co">#&gt; [2,] "egy" "az"  "egy"</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>,<span class="cn">F</span>,<span class="cn">T</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">6</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>      <span class="co"># 2x6-os logikai mátrix   </span>
<span class="co">#&gt;      [,1]  [,2] [,3] [,4]  [,5] [,6]</span>
<span class="co">#&gt; [1,] TRUE FALSE TRUE TRUE FALSE TRUE</span>
<span class="co">#&gt; [2,] TRUE FALSE TRUE TRUE FALSE TRUE</span></code></pre></div>
<p>Az előző fejezetben láttuk, hogy a vektorok elemeinek nevet is adhatunk, így olvashatóbbá tehetjük rögzített adatainkat. A <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvény <code>dimnames=</code> argumentumában az egyes sorok és oszlopok elnevezéséről, valamint a két dimenzió nevéről is gondoskodhatunk.</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span>, 
      dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'1. dim. neve'</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sor.1"</span>, <span class="st">"sor.2"</span><span class="op">)</span>,
                      <span class="st">'2. dim. neve'</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"oszl.1"</span>, <span class="st">"oszl.2"</span>, <span class="st">"oszl.3"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;             2. dim. neve</span>
<span class="co">#&gt; 1. dim. neve oszl.1 oszl.2 oszl.3</span>
<span class="co">#&gt;        sor.1      0      0      0</span>
<span class="co">#&gt;        sor.2      0      0      0</span></code></pre></div>
<p>A <code>dimnames=</code> argumentum a dimenzió-, sor- és oszlopneveket listába rendezve várja. A listákról a <a href="az-r-nyelv.html#listadefalf">5.3.6</a> fejezetben olvashatunk. A sor- és oszlopnevek megadásánál tartsuk be az objektumok elnevezésével kapcsolatos szabályokat, azaz betűvel kezdjünk, kerüljük a szóközt és egyéb írásjeleket, de tagolásra a pontot használjuk.</p>
<p>Létező mátrix esetén a <code><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames()</a></code> és a <code>colnames(x)</code> függvényekkel tudjuk a sor- és oszlopneveket lekérdezni, illetve módosítani.</p>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                           <span class="co"># sornevek lekérdezése</span>
<span class="co">#&gt; [1] "sor.1" "sor.2"</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                           <span class="co"># oszlopnevek lekérdezése</span>
<span class="co">#&gt; [1] "oszl.1" "oszl.2" "oszl.3"</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"eset.1"</span>, <span class="st">"eset.2"</span><span class="op">)</span>  <span class="co"># sornevek módosítása</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"o.1"</span>, <span class="st">"o.2"</span>, <span class="st">"o.3"</span><span class="op">)</span> <span class="co"># oszlopnevek módosítása</span>
<span class="va">x</span>
<span class="co">#&gt;             2. dim. neve</span>
<span class="co">#&gt; 1. dim. neve o.1 o.2 o.3</span>
<span class="co">#&gt;       eset.1   0   0   0</span>
<span class="co">#&gt;       eset.2   0   0   0</span></code></pre></div>
</div>
<div id="mátrix-indexelése" class="section level4" number="5.3.4.2">
<h4>
<span class="header-section-number">5.3.4.2</span> Mátrix indexelése<a class="anchor" aria-label="anchor" href="#m%C3%A1trix-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>A mátrixok indexelése nagyon hasonló a vektorok indexeléséhez. Itt is az index operátort (<code>[]</code>) kell használnunk, de a két dimenzió miatt vesszővel választjuk el a sorra és az oszlopra vonatkozó indexeket. Mátrix indexelésének általános alakja:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb173-1"><a href="az-r-nyelv.html#cb173-1" aria-hidden="true" tabindex="-1"></a>mátrix<span class="co">[</span><span class="ot">sorindexvektor, oszlopindexvektor</span><span class="co">]</span> # az eredmény egy mátrix vagy egy vektor</span></code></pre></div>
<p>A sorinedexvektorra és az oszlopindexvektorra ugyanazok a szabályok érvényesek, mint vektor esetén az indexvektorra. Használhatunk numerikus, karakteres és logikai egy vagy több elemű vektort, numerikus idexeknél negatív értéket, és természetesen el is hagyhatjuk az egyes dimenziók indexvektorait. Nézzünk ezekre néhány példát.</p>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">5</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    2    3    4    5</span>
<span class="co">#&gt; [2,]    6    7    8    9   10</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span>                     <span class="co"># 1 elem elérése, vektor output</span>
<span class="co">#&gt; [1] 8</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>                <span class="co"># 2 elem elérése, vektor</span>
<span class="co">#&gt; [1] 6 9</span>
<span class="va">x</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>                 <span class="co"># 4 elem elérése, 2x2-es mátrix </span>
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]    1    4</span>
<span class="co">#&gt; [2,]    6    9</span>
<span class="va">x</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span>                <span class="co"># 6 elem elérése, 2x3-as mátrix</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    2    3    5</span>
<span class="co">#&gt; [2,]    7    8   10</span>
<span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>                      <span class="co"># 5 elem elérése, vektor</span>
<span class="co">#&gt; [1] 1 2 3 4 5</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span>      <span class="co"># 6 elem elérése, 2x3-as mátrix</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    6    8    9</span>
<span class="co">#&gt; [2,]    1    3    4</span></code></pre></div>
<p>A mátrix indexelése során a kapott új adatszerkezetek elveszthetik a kétdimenziós jellegüket és így mátrix helyett vektor is lehet az indexelés eredménye. Ha ezt el akarjuk kerülni, használjuk a <code>drop=FALSE</code> paramétert az indexben, ekkor minden esetben mátrix lesz az eredmény.</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>             <span class="co"># 1 elem elérése, 1x1-es mátrix output</span>
<span class="co">#&gt;      [,1]</span>
<span class="co">#&gt; [1,]    8</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>        <span class="co"># 2 elem elérése, 1x2-es mátrix </span>
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]    6    9</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2</span>, , drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>              <span class="co"># 5 elem elérése, 1x5-ös mátrix</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    6    7    8    9   10</span>
<span class="va">x</span><span class="op">[</span>, <span class="fl">3</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>              <span class="co"># 2 elem elérése, 2x1-es mátrix</span>
<span class="co">#&gt;      [,1]</span>
<span class="co">#&gt; [1,]    3</span>
<span class="co">#&gt; [2,]    8</span></code></pre></div>
<p>Amennyiben a mátrixunk sor- és oszlopnevekkel is rendelkezik, akkor ezeket is felhasználhatjuk az indexelés során.</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">5</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"eset1"</span>, <span class="st">"eset2"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"sz."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;       sz.1 sz.2 sz.3 sz.4 sz.5</span>
<span class="co">#&gt; eset1    1    2    3    4    5</span>
<span class="co">#&gt; eset2    6    7    8    9   10</span>
<span class="va">x</span><span class="op">[</span><span class="st">"eset1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sz.2"</span>, <span class="st">"sz.1"</span><span class="op">)</span><span class="op">]</span>     <span class="co"># 2 elem elérése, vektor output</span>
<span class="co">#&gt; sz.2 sz.1 </span>
<span class="co">#&gt;    2    1</span>
<span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sz.2"</span>, <span class="st">"sz.1"</span><span class="op">)</span><span class="op">]</span>         <span class="co"># 4 elem elérése, 2x2-es mátrix</span>
<span class="co">#&gt;       sz.2 sz.1</span>
<span class="co">#&gt; eset1    2    1</span>
<span class="co">#&gt; eset2    7    6</span>
<span class="va">x</span><span class="op">[</span><span class="st">"eset2"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"sz."</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span>    <span class="co"># 3 elem elérése, vektor</span>
<span class="co">#&gt; sz.1 sz.2 sz.3 </span>
<span class="co">#&gt;    6    7    8</span>
<span class="va">x</span><span class="op">[</span><span class="st">"eset1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>,<span class="cn">F</span><span class="op">)</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>        <span class="co"># 3 elem elérése, 1x3-as mátrix</span>
<span class="co">#&gt;       sz.1 sz.3 sz.5</span>
<span class="co">#&gt; eset1    1    3    5</span></code></pre></div>
</div>
<div id="számítások-a-mátrix-soraiban-és-oszlopaiban" class="section level4" number="5.3.4.3">
<h4>
<span class="header-section-number">5.3.4.3</span> Számítások a mátrix soraiban és oszlopaiban<a class="anchor" aria-label="anchor" href="#sz%C3%A1m%C3%ADt%C3%A1sok-a-m%C3%A1trix-soraiban-%C3%A9s-oszlopaiban"><i class="fas fa-link"></i></a>
</h4>
<p>Az előző részben említettük, ha üresen hagyjuk a mátrix sor vagy oszlop pozícióját az indexelés során, akkor a mátrix teljes oszlopára vagy sorára tudunk hivatkozni, vagyis alapesetben vektort kapunk. Az így kapott vektorokkal tetszőleges műveleteket hajthatunk végre. Hozzunk létre egy 3 <span class="math inline">\(\times\)</span> 4-es mátrixot, amely 3 tanuló átlagát tartalmazza 4 tantárgyból.</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3.7</span>, <span class="fl">5.3</span>, <span class="fl">5.1</span>, <span class="fl">4.2</span>, <span class="fl">4.4</span>, <span class="fl">3.8</span>, <span class="fl">2.9</span>, <span class="fl">4.2</span>, <span class="fl">5.1</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>, 
            nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">4</span>, byrow<span class="op">=</span><span class="cn">T</span>, 
            dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Pál"</span>, <span class="st">"Ili"</span>, <span class="st">"Éva"</span><span class="op">)</span>,
                            <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"matek"</span>, <span class="st">"magyar"</span>, <span class="st">"angol"</span>, <span class="st">"ének"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;     matek magyar angol ének</span>
<span class="co">#&gt; Pál   3.7    5.3   5.1  4.2</span>
<span class="co">#&gt; Ili   4.4    3.8   2.9  4.2</span>
<span class="co">#&gt; Éva   5.1    4.0   3.0  5.0</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span><span class="op">)</span>      <span class="co"># Pál féléves átlaga    </span>
<span class="co">#&gt; [1] 4.575</span>
<span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span><span class="op">)</span>        <span class="co"># énekből a csoport átlaga </span>
<span class="co">#&gt; [1] 0.4618802</span></code></pre></div>
<p>Négy speciális függvénnyel az oszlopok és sorok összegét és átlagát számíthatjuk ki.</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>      <span class="co"># sorösszegek, a tanulók jegyeinek összege</span>
<span class="co">#&gt;  Pál  Ili  Éva </span>
<span class="co">#&gt; 18.3 15.3 17.1</span>
<span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowMeans</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>     <span class="co"># sorátlagok, a tanulók félév végi átlaga</span>
<span class="co">#&gt;   Pál   Ili   Éva </span>
<span class="co">#&gt; 4.575 3.825 4.275</span>
<span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>      <span class="co"># oszlopösszegek, a tantárgyak jegyeinek összege</span>
<span class="co">#&gt;  matek magyar  angol   ének </span>
<span class="co">#&gt;   13.2   13.1   11.0   13.4</span>
<span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colMeans</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>     <span class="co"># oszlopátlagok, a tantárgyak átlaga</span>
<span class="co">#&gt;    matek   magyar    angol     ének </span>
<span class="co">#&gt; 4.400000 4.366667 3.666667 4.466667</span></code></pre></div>
<p>Általánosabb megoldás, ha az <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code> függvényt használjuk, amelyben a mátrix soraira vagy oszlopaira vonatkozó függvényt mi határozzuk meg, így az összegzésen és az átlagszámításon kívül más függvényket is elérhetünk. Az <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code> első paramétere maga a mátrix, a második helyen pedig 1 vagy 2 áll, attól függően, hogy a mátrix soraira (1) vagy oszlopaira (2) akarjuk a harmadik paraméterben szereplő függvényt alkalmazni.</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">mean</span><span class="op">)</span>    <span class="co"># sorátlagok, a tanulók félév végi átlaga</span>
<span class="co">#&gt;   Pál   Ili   Éva </span>
<span class="co">#&gt; 4.575 3.825 4.275</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">sd</span><span class="op">)</span>      <span class="co"># soronkénti szórások</span>
<span class="co">#&gt;       Pál       Ili       Éva </span>
<span class="co">#&gt; 0.7544314 0.6652067 0.9844626</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="va">min</span><span class="op">)</span>     <span class="co"># soronkénti minimumok</span>
<span class="co">#&gt; Pál Ili Éva </span>
<span class="co">#&gt; 3.7 2.9 3.0</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="va">mean</span><span class="op">)</span>    <span class="co"># oszlopátlagok, a tantárgyak átlaga</span>
<span class="co">#&gt;    matek   magyar    angol     ének </span>
<span class="co">#&gt; 4.400000 4.366667 3.666667 4.466667</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="va">sd</span><span class="op">)</span>      <span class="co"># oszloponkénti szórások</span>
<span class="co">#&gt;     matek    magyar     angol      ének </span>
<span class="co">#&gt; 0.7000000 0.8144528 1.2423097 0.4618802</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="va">min</span><span class="op">)</span>     <span class="co"># oszloponkénti minimumok</span>
<span class="co">#&gt;  matek magyar  angol   ének </span>
<span class="co">#&gt;    3.7    3.8    2.9    4.2</span></code></pre></div>
</div>
<div id="sorok-és-oszlopok-kezelése" class="section level4" number="5.3.4.4">
<h4>
<span class="header-section-number">5.3.4.4</span> Sorok és oszlopok kezelése<a class="anchor" aria-label="anchor" href="#sorok-%C3%A9s-oszlopok-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Mátrixokat az <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> és a <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> függvényekkel is építhetünk.</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>    <span class="co"># mátrix létrehozása oszlopvektorokból</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    1    1</span>
<span class="co">#&gt; [2,]    1    2    2</span>
<span class="co">#&gt; [3,]    1    1    3</span>
<span class="co">#&gt; [4,]    1    2    4</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>    <span class="co"># mátrix létrehozása sorvektorokból</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4]</span>
<span class="co">#&gt; [1,]    1    1    1    1</span>
<span class="co">#&gt; [2,]    1    2    1    2</span>
<span class="co">#&gt; [3,]    1    2    3    4</span></code></pre></div>
<p>Vektor paraméterek esetén, a felsorolt vektorok fogják alkotni az új mátrix oszlopait (<code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> esetén), illetve sorait (<code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> esetén), a rövidebb vektor, ha van ilyen, ismétlődni fog.</p>
<p>Új oszloppal vagy új sorral is kiegészíthetjük a már létező mátrixunkat.</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    5    9</span>
<span class="co">#&gt; [2,]    2    6   10</span>
<span class="co">#&gt; [3,]    3    7   11</span>
<span class="co">#&gt; [4,]    4    8   12</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">0</span>, <span class="va">x</span>, <span class="fl">13</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span>  <span class="co"># oszlopvektorok hozzáfűzése x elé és mögé</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]   -3    1    5    9   13</span>
<span class="co">#&gt; [2,]   -2    2    6   10   14</span>
<span class="co">#&gt; [3,]   -1    3    7   11   15</span>
<span class="co">#&gt; [4,]    0    4    8   12   16</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="va">x</span>, <span class="fl">1</span><span class="op">)</span>        <span class="co"># sorvektorok hozzáfűzése x fölé és alá      </span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]   -1   -1   -1</span>
<span class="co">#&gt; [2,]    1    5    9</span>
<span class="co">#&gt; [3,]    2    6   10</span>
<span class="co">#&gt; [4,]    3    7   11</span>
<span class="co">#&gt; [5,]    4    8   12</span>
<span class="co">#&gt; [6,]    1    1    1</span></code></pre></div>
<p>Tetszőleges pozícióba beszúrhatunk egy oszlopot vagy egy sort. Ehhez első lépésben a létező <code>x</code> mátrixhoz hozzáillesztjük az új oszlopot vagy sort, majd indexeléssel átrendezzük az oszlopokat vagy sorokat.</p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">13</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4]</span>
<span class="co">#&gt; [1,]    1    5   13    9</span>
<span class="co">#&gt; [2,]    2    6   14   10</span>
<span class="co">#&gt; [3,]    3    7   15   11</span>
<span class="co">#&gt; [4,]    4    8   16   12</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">x</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">4</span><span class="op">)</span>,<span class="op">]</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    5    9</span>
<span class="co">#&gt; [2,]    2    6   10</span>
<span class="co">#&gt; [3,]    3    7   11</span>
<span class="co">#&gt; [4,]   -1   -1   -1</span>
<span class="co">#&gt; [5,]    4    8   12</span></code></pre></div>
<p>Hasznos lehetőség összesítő sorok vagy oszlopok mátrixhoz fűzése és elnevezése:</p>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">x</span>,<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">x</span>,<span class="fl">2</span>,<span class="va">mean</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,<span class="st">"átlag"</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;       [,1] [,2] [,3]</span>
<span class="co">#&gt; 1      1.0  5.0  9.0</span>
<span class="co">#&gt; 2      2.0  6.0 10.0</span>
<span class="co">#&gt; 3      3.0  7.0 11.0</span>
<span class="co">#&gt; 4      4.0  8.0 12.0</span>
<span class="co">#&gt; átlag  2.5  6.5 10.5</span></code></pre></div>
<p>A sorok vagy oszlopok sorrendjét is megcserélhetjük a mátrixban, valamint ezek törlésére is van lehetőségünk:</p>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    5    9</span>
<span class="co">#&gt; [2,]    2    6   10</span>
<span class="co">#&gt; [3,]    3    7   11</span>
<span class="co">#&gt; [4,]    4    8   12</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span>          <span class="co"># oszlopcsere</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">1</span><span class="op">)</span>, <span class="op">]</span>       <span class="co"># sorcsere</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span>             <span class="co"># a 2. oszlop törlése</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, <span class="op">]</span>             <span class="co"># az 2. és a 4. sor törlése</span></code></pre></div>
</div>
<div id="az-r-nyelv-6-summary" class="section level4" number="5.3.4.5">
<h4>
<span class="header-section-number">5.3.4.5</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-6-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A mátrix homogén kétdimenziós adatszerkezet, és többnyire a <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> függvénnyel hozzuk létre. Indexelése a <code>[]</code> operátorral történik, ahol sor- és oszlopindex megadásra van lehetőségünk.
</p>
</div>
</div>
<div id="az-r-nyelv-6-exercise" class="section level4" number="5.3.4.6">
<h4>
<span class="header-section-number">5.3.4.6</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-6-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzunk létre egy csupa 1-ből álló mátrixot, amelynek 3 sora és 2 oszlopa van!</li>
<li>Hozzunk létre egy 3 <span class="math inline">\(\times\)</span> 4-es karakteres mátrixot, amely 12 különbüző keresztnevet tartalmaz!</li>
<li>Hozzunk létre egy 3 <span class="math inline">\(\times\)</span> 4-es logikai mátrixot, amelynek 1. és 3. sora <code>TURE</code> a 2. sora pedig <code>FALSE</code> értékeket tartalmaz!</li>
<li>Mátrixok indexelésére olyan speciális indexmátrix is használható, amelynek két oszlopa van, és az elérendő elemek sor- és oszlopkoordinátáit tartalmazza. Mutassunk példát erre a <code>mátrix[indexmátrix]</code> alakú mátrixindexelésre!</li>
</ol>
</div>
</div>
</div>
<div id="faktor" class="section level3" number="5.3.5">
<h3>
<span class="header-section-number">5.3.5</span> Faktor<a class="anchor" aria-label="anchor" href="#faktor"><i class="fas fa-link"></i></a>
</h3>
<p>A faktor adattípus nagyon hasonló a vektorhoz, ugyanis minden faktor egy speciális <em>integer</em> vektor, a faktor tehát homogén és egydimenziós adatszerkezet. Faktorokat elsősorban kategorikus változók értékeinek tárolására használjuk, ilyen például a személyek neme vagy iskolai végzettsége. A faktor egy lényeges ponton több mint egy egyszerű <em>integer</em> vektor. A faktor karbantart egy összerendelést az 1-gyel kezdődő numerikus egészek és a faktor lehetséges karakteres értékei, a címkék között (az <a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábrán ezt egy piros kis téglalappal jelöltük). Egy faktorelem értéke csak ezekből a címkékből kerülhet ki, ami nagy fokú védelmet jelent számunkra az adatkezelés során. Ha például létrehozunk egy faktort az (1-<code>"férfi"</code>, 2-<code>"nő"</code>) összerendeléssel, akkor egy faktorelem csak a <code>"férfi"</code> vagy <code>"nő"</code> címkéket veheti fel, más értéket nem (az <code>NA</code> hiányzó érték termésetesen lehet faktorelem értéke). A munka során mindig a címkékkel találkozunk, a háttérben lévő numerikus egészek csak ritkán kapnak szerepet.</p>
<div id="faktor-létrehozása" class="section level4" number="5.3.5.1">
<h4>
<span class="header-section-number">5.3.5.1</span> Faktor létrehozása<a class="anchor" aria-label="anchor" href="#faktor-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>A faktorokat jellemzően karakteres vagy numerikus vektorokból hozzuk létre a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvény segítségével. A faktor létrehozásánál mindig gondoskodjunk a faktor lehetséges értékeinek, vagyis a faktor címkéiknek megadásáról. A címkéket néha (faktor)szinteknek (levels) is nevezzük. Mivel a kategorikus változóink lehetséges értékei többnyire ismertek az adatkezelés elején, a faktorszintek felsorolása nem okozhat nehézséget. Most hozzunk létre egy faktort, amely öt személy nemét tartalmazza.</p>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>  <span class="co"># karakteres vektor lérehozása</span>
<span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span>      <span class="co"># faktor létrehozása</span>
<span class="va">x.f</span>                                            <span class="co"># faktor kiíratása</span>
<span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span>
<span class="co">#&gt; Levels: férfi nő</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">x.f</span><span class="op">)</span>                                   <span class="co"># integer kódok a háttérben</span>
<span class="co">#&gt; [1] 1 1 2 1 2</span>
<span class="co">#&gt; attr(,"levels")</span>
<span class="co">#&gt; [1] "férfi" "nő"</span></code></pre></div>
<p>Az <code>x.f</code> faktort az <code>x</code> karakteres vektorból hoztuk létre, így <code>x.f</code> ugyanúgy 5 hosszú, mint az <code>x</code>. Az <code>x.f</code> outputjában olvasható <code>Levels: férfi nő</code> rész azt közli velünk, hogy a háttérben az 1 numerikus értéknek a <code>"férfi"</code> címke, míg a 2-nek a <code>"nő"</code> címke felel meg. A belső integer kódok is feltárulnak az <code>unclass(x.f)</code> outputjában. A szám-címke összerendelést magunk szabályozhatjuk, ha a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvény <code>levels=</code> argumentumában módosítunk a sorrenden.</p>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"férfi"</span><span class="op">)</span><span class="op">)</span>      <span class="co"># faktor létrehozása</span>
<span class="va">x.f</span>
<span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span>
<span class="co">#&gt; Levels: nő férfi</span></code></pre></div>
<p>A fenti <code>x.f</code> faktor ugyanannak az 5 személynek a nemét tartalmazza, de az összerendelést a <code>levels=c("nő", "férfi")</code> paraméterrel (1-<code>"nő"</code>, 2-<code>"férfi"</code>)-re változtattuk. Láthatjuk, a címkék sorrendje a faktor értékeitől független, mégis fontos szerepet kap majd a táblázatok és ábrák megjelenítésénél, tehát érdemes rá odafigyelni.</p>
<p>A <code>levels=</code> argumentum szerepeltetése a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvényben sok kellemtlenségtől kímélhet meg minket. Ha elhagyjuk, akkor a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvény a karakteres vektorban aktuálisan rendelkezésre álló értékekből konstruálja meg a faktort. Nézzünk erre három esetet.</p>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">x.f.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span>
<span class="co">#&gt; Levels: férfi nő</span>
<span class="op">(</span><span class="va">x.f.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"Férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] férfi Férfi nő    férfi nő   </span>
<span class="co">#&gt; Levels: férfi Férfi nő</span>
<span class="op">(</span><span class="va">x.f.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] nő nő nő nő nő</span>
<span class="co">#&gt; Levels: nő</span></code></pre></div>
<p>Az első esetben a faktor létrehozásához használt karakteres vektor megegyezik a korábban látottakhoz, azaz helyesen tartalmazza mind a <code>"férfi"</code>, mind a <code>"nő"</code> címkéket, így az <code>x.f.1</code> faktor a címkék lexikografikus rendezése alapján az (1-<code>"férfi"</code>, 2-<code>"nő"</code>) összerendeléssel jön létre. A második esetben karakteres vektorunk elgépelés miatt egy <code>"Férfi"</code> címkét is tartalmaz, ami az <code>x.f.2</code> faktor szintjei között is meg fog jelenni. A harmadik esetben az okozza a problémát, hogy 5 azonos nemű személy került a mintába, így a <code>"férfi"</code> címke egyáltalán nem jelenik meg az <code>x.f.3</code> faktor szintjei között. Az <code>x.f.2</code> és az <code>x.f.3</code> faktorok tehát más-más okok miatt, de hibásan tartalmazzák a faktorszinteket, és ez a későbbi működést alapvetően befolyásolja. Az <code>x.f.2</code> három különböző nemet ismer, az <code>x.f.3</code> pedig mindössze egyet. A fenti hibák a <code>levels=</code> szerepeltetésével könnyen kiküszöbölhetők.</p>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">x.f.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"Férfi"</span>, <span class="st">"nő"</span>, <span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>,
                 levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>   
<span class="co">#&gt; [1] férfi &lt;NA&gt;  nő    férfi nő   </span>
<span class="co">#&gt; Levels: férfi nő</span>
<span class="op">(</span><span class="va">x.f.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span>, <span class="st">"nő"</span><span class="op">)</span>,
                 levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] nő nő nő nő nő</span>
<span class="co">#&gt; Levels: férfi nő</span></code></pre></div>
<p>A fenti példákban látható, hogy a <code>"Férfi"</code> címke helyére hiányzó érték került, az <code>x.f.3</code> faktor pedig már <code>"férfi"</code> értéket is fel tud venni a jövőben.</p>
<p>Numerikus vektorokból is készíthetünk faktorokat. Például a könnyebb rögzíthetőség miatt öt személy nemét most numerikus vektorban hoztuk létre azzal a szabállyal, hogy a 0 jelentése nő, az 1 jelentése férfi. A faktor létrehozása során ekkor a <code>levels=</code> szerepe a lehetséges numerikus értékek felsorolása lesz, és a plusz paraméterként szereplő <code>labels=</code> segít a faktorszintek beszédes elnevezésében. Az elnevezés a <code>levels=</code>-ben lévő numerikus értékek sorrendjében történik, ezért nagyon fontos, hogy a <code>labels=</code> címkéi kövessék ezt a sorrendet.</p>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>     <span class="co"># numerikus vektor létrehozása, 0-nő, 1-férfi</span>
<span class="op">(</span><span class="va">x.f.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, 
                    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"nő"</span>, <span class="st">"férfi"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span>
<span class="co">#&gt; Levels: nő férfi</span>
<span class="op">(</span><span class="va">x.f.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">x</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, 
                    labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] férfi férfi nő    férfi nő   </span>
<span class="co">#&gt; Levels: férfi nő</span></code></pre></div>
<p>A fenti példában látható, hogy a <code>levels=</code> értékeinek sorrendje vezérli az elnevezést, a 0 mindkét esetben <code>"nő"</code>, az 1 <code>"férfi"</code> címkéhez fog vezetni. Az <code>x.f.1</code> és <code>x.f.2</code> faktorok mindössze a háttérben lévő összerendelésben különböznek, első esetben az (1-<code>"nő"</code>, 2-<code>"férfi"</code>), míg második esetben az (1-<code>"férfi"</code>, 2-<code>"nő"</code>) lesz a faktorszintek sorrendje.</p>
</div>
<div id="szabályos-faktor-létrehozása" class="section level4" number="5.3.5.2">
<h4>
<span class="header-section-number">5.3.5.2</span> Szabályos faktor létrehozása<a class="anchor" aria-label="anchor" href="#szab%C3%A1lyos-faktor-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Ismétlést tartalmazó faktorokat a <code><a href="https://rdrr.io/r/base/gl.html">gl()</a></code> függvénnyel is létrehozhatunk. Tipikusan a szintek (<code>n=</code>) számát, az ismétlések számát (<code>k=</code>) és a címkéket (<code>labels=</code>) szoktuk megadni.</p>
<div class="sourceCode" id="cb190"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/gl.html">gl</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, k <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 1 2 2 3 3</span>
<span class="co">#&gt; Levels: 1 2 3</span>
<span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/gl.html">gl</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, k <span class="op">=</span> <span class="fl">2</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] alap  alap  közép közép felső felső</span>
<span class="co">#&gt; Levels: alap közép felső</span></code></pre></div>
</div>
<div id="faktor-indexelése-és-szűrése" class="section level4" number="5.3.5.3">
<h4>
<span class="header-section-number">5.3.5.3</span> Faktor indexelése és szűrése<a class="anchor" aria-label="anchor" href="#faktor-indexel%C3%A9se-%C3%A9s-sz%C5%B1r%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Faktor indexelése a <code>[]</code> operátorral történik. Indexvektorként numerikus, karakteres és logikai vektorokat is használhatunk. Faktor indexelésének átalános alakja:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb191-1"><a href="az-r-nyelv.html#cb191-1" aria-hidden="true" tabindex="-1"></a>faktor<span class="co">[</span><span class="ot">indexvektor</span><span class="co">]</span>     # az eredmény egy faktor</span></code></pre></div>
<p>Hozzunk létre egy faktort, amely hat személy dohányzási szokását tartalmazza (D-dohányzik, ND-nem dohányzik).</p>
<div class="sourceCode" id="cb192"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">x.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"D"</span>, <span class="st">"D"</span>, <span class="st">"ND"</span>, <span class="st">"D"</span>, <span class="st">"ND"</span>, <span class="st">"ND"</span><span class="op">)</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ND"</span>, <span class="st">"D"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] D  D  ND D  ND ND</span>
<span class="co">#&gt; Levels: ND D</span>
<span class="va">x.f</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>             <span class="co"># az x faktor 1. eleme (faktorszintek változatlanok)</span>
<span class="co">#&gt; [1] D</span>
<span class="co">#&gt; Levels: ND D</span>
<span class="va">x.f</span><span class="op">[</span><span class="fl">1</span>, drop<span class="op">=</span><span class="cn">T</span><span class="op">]</span>     <span class="co"># az x faktor 1. eleme (faktorszintek változtak)</span>
<span class="co">#&gt; [1] D</span>
<span class="co">#&gt; Levels: D</span>
<span class="va">x.f</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>           <span class="co"># az x faktor 1., 2. és 3. eleme</span>
<span class="co">#&gt; [1] D  D  ND</span>
<span class="co">#&gt; Levels: ND D</span>
<span class="va">x.f</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span>       <span class="co"># az x faktor 1, 3. és 5. eleme</span>
<span class="co">#&gt; [1] D  ND ND</span>
<span class="co">#&gt; Levels: ND D</span>
<span class="va">x.f</span><span class="op">[</span><span class="va">x.f</span> <span class="op">==</span> <span class="st">"D"</span><span class="op">]</span>    <span class="co"># x szűrése (a dohányzók)</span>
<span class="co">#&gt; [1] D D D</span>
<span class="co">#&gt; Levels: ND D</span>
<span class="va">x.f</span><span class="op">[</span><span class="va">x.f</span> <span class="op">!=</span> <span class="st">"D"</span><span class="op">]</span>    <span class="co"># x szűrése (a nem dohányzók)</span>
<span class="co">#&gt; [1] ND ND ND</span>
<span class="co">#&gt; Levels: ND D</span></code></pre></div>
<p>Az indexelés eredménye minden esetben egy faktor lesz, amelynek szintjei alapesetben megegyeznek az eredeti faktor szintjeivel. A <code>drop=T</code> argumentum a nem használt címkéket eltávolítja a faktorszintek közül. Logika kifejezéseket is használhatunk az indexelés során, azaz szűrést is végezhetünk, de vegyük figyelembe, hogy faktor esetén csak két relációs operátor használható, az egyenlő (<code>==</code>) és nem egyenlő (<code>!=</code>).</p>
<p>Indexelt faktor természetesen érékadás bal oldalán is szereplhet. A faktor adatszerkezet megvéd minket az értékadások során, hiszen egy faktorelem csak a faktorszintekben szereplő értékek egyikét veheti fel.</p>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x.f</span>                        <span class="co"># az x.f faktor kiírása</span>
<span class="co">#&gt; [1] D  D  ND D  ND ND</span>
<span class="co">#&gt; Levels: ND D</span>
<span class="va">x.f</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ND"</span>             <span class="co"># az x.f faktor 1. eleme legális értéket kap</span>
<span class="va">x.f</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"nem dohányzik"</span>  <span class="co"># az x.f faktor 2. eleme NA lesz</span>
<span class="va">x.f</span>
<span class="co">#&gt; [1] ND   &lt;NA&gt; ND   D    ND   ND  </span>
<span class="co">#&gt; Levels: ND D</span></code></pre></div>
<p>Mivel a <code>"nem dohányzik"</code> címke nem szerepel a faktorszintek között, az <code>x.f</code> faktor 2. eleme <code>NA</code> lesz, egy figyelmeztető üzenet kíséretében.</p>
</div>
<div id="faktorok-kezelése" class="section level4" number="5.3.5.4">
<h4>
<span class="header-section-number">5.3.5.4</span> Faktorok kezelése<a class="anchor" aria-label="anchor" href="#faktorok-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>A faktorok kényelmes használatát két további függvény segíti. Az <code><a href="https://rdrr.io/r/base/nlevels.html">nlevels()</a></code> függvénnyel a faktorszintek számát ismerhetjük meg, a <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> függvénnyel lekérdezhetők és módosíthatók a faktorszintek. Nézzünk egy példát az iskolai végzettségel kapcsolatban. Összesen 7 személyről tudjuk, hogy alap-, közép- vagy felsőfokú végzettségű, de az egyszerűbb rögzítés miatt indulásként ezt az információt számokkal kódoltuk (1-alap, 2-közép, 3-felső).</p>
<div class="sourceCode" id="cb194"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># numerikus vektor létrehozása</span>
<span class="va">isk.vegz</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co"># faktor létrehozása</span>
<span class="va">isk.vegz.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">isk.vegz</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span><span class="op">)</span><span class="op">)</span> 
<span class="va">isk.vegz.f</span>                              <span class="co"># a faktor értéke</span>
<span class="co">#&gt; [1] 1 1 2 1 3 3 2</span>
<span class="co">#&gt; Levels: 1 2 3</span>
<span class="fu"><a href="https://rdrr.io/r/base/nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">isk.vegz.f</span><span class="op">)</span>                     <span class="co"># a faktor szintjeinek száma</span>
<span class="co">#&gt; [1] 3</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">isk.vegz.f</span><span class="op">)</span>                      <span class="co"># a faktor szintjei</span>
<span class="co">#&gt; [1] "1" "2" "3"</span>
<span class="co"># a faktor szintjeinek módosítása</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">isk.vegz.f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"alap"</span>, <span class="st">"közép"</span>, <span class="st">"felső"</span><span class="op">)</span> 
<span class="va">isk.vegz.f</span>                              <span class="co"># a faktor értéke</span>
<span class="co">#&gt; [1] alap  alap  közép alap  felső felső közép</span>
<span class="co">#&gt; Levels: alap közép felső</span></code></pre></div>
<p>Az <code>isk.vegz.f</code> faktort az <code>"1"</code>, <code>"2"</code> és <code>"3"</code> címkékkel hoztuk létre, de később a <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> függvénnyel beszédesebb faktorszinteket hoztunk létre.</p>
</div>
<div id="az-r-nyelv-7-summary" class="section level4" number="5.3.5.5">
<h4>
<span class="header-section-number">5.3.5.5</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-7-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A faktor olyan <em>integer</em> vektor, amely az 1-től sorszámozott értékeihez egy-egy karakteres címkét rendel. Ezek a címkék alkotják a faktorelemek lehetséges értékeit, amelyeket másnéven faktorszinteknek is neveznek. A faktor létrehozásához a <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> függvényt használjuk, és karakteres vektor konstansaiból vagy numerikus vektor címkeként kezelt számértékeiből jönnek létre a faktor lehetséges értékei.
</p>
</div>
</div>
<div id="az-r-nyelv-7-exercise" class="section level4" number="5.3.5.6">
<h4>
<span class="header-section-number">5.3.5.6</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-7-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzuk létre azt a karakteres vektort, amely a férfi, nő karakteres konstansokat, úgy helyezi el egymás mellett, hogy a 7 darab férfi érték után 13 db nő címke következik! Hány elemű az így létrejött vektor?</li>
<li>Egy vizsgálatban az első 10 személy neme férfi, a többi 8 neme nő volt. Hozzuk létre azt a faktort, amely leírja a neme változót!</li>
<li>Egy vizsgálatban városi (“V”) és falusi (“F”) fiatalok vettek részt! A megkérdezettek településtípusa rendre a következő volt: F, F, V, F , V, V, V, F. Hozzuk létre azt a faktort, amely leírja a településtípus változót!</li>
<li>Egy vizsgálatban a dohányzási szokást egy kétértékű skálán mérték: 0-nem dohányzik; 1-dohányzik. A megkérdezettek dohányzási szokása a következő volt: 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0. Hozzuk létre azt a faktort, amely leírja a dohányzási szokás változót!</li>
</ol>
</div>
</div>
</div>
<div id="listadefalf" class="section level3" number="5.3.6">
<h3>
<span class="header-section-number">5.3.6</span> Lista<a class="anchor" aria-label="anchor" href="#listadefalf"><i class="fas fa-link"></i></a>
</h3>
<p>Az eddig megismert vektor, mátrix és faktor adatszerkezet mindegyike homogén volt, csak azonos típusú értékek tárolására használhatjuk őket. A lista típusú adatokban különböző adatszerkezetű elemeket is felsorolhatunk, de sem a típusra, sem a méretre nincs korlátozás. Egy listaelem lehet vektor, mátrix, faktor, adattábla vagy akár egy másik lista is (<a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábra). Látható, hogy a lista az R legszabadabb adatszerkezete, egydimenziós, és a célja a logikailag összetartozó, de szerkezetileg különböző adatok tárolása.</p>
<div id="lista-létrehozása" class="section level4" number="5.3.6.1">
<h4>
<span class="header-section-number">5.3.6.1</span> Lista létrehozása<a class="anchor" aria-label="anchor" href="#lista-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>A <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> függvénnyel hozhatunk létre legegyszerűbben listákat, itt vesszővel elválasztva kell megadnunk a lista elemeit.</p>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span><span class="op">)</span>, c<span class="op">=</span><span class="cn">T</span><span class="op">)</span>    <span class="co"># 3 elemű lista</span>
<span class="va">x</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "A" "B"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>A fenti példában <code>x</code> egy 3 elemű lista, az első eleme egy 10 elemű numerikus vektor, a második eleme egy 2 elemű karakteres vektor, a harmadik eleme pedig egy 1 elemű logikai vektor. A harmadik elemnek a <code>c</code> nevet adtuk, de bármelyik elemet elnevezhettük volna ezzel a módszerrel. Ha a lista értékét megjelenítjük a képernyőn, akkor a listaelemek egymás alatt jelennek meg. Az első két esetben a kettős szögletes zárójelben (<code>[[]]</code>) lévő sorszám azonosítja a lista elemeit, a harmadik esetben pedig a listaelem általunk megadott neve a dollárjel (<code>$</code>) után.</p>
<p>A listaelemek nevét a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvénnyel kérdezhetjük le és állíthatjuk be.</p>
<div class="sourceCode" id="cb196"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                       <span class="co"># az x lista elemeinek neve</span>
<span class="co">#&gt; [1] ""  ""  "c"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span> <span class="co"># az x 1. és 2. elemének elnevezése</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "a" "b" "c"</span>
<span class="va">x</span>
<span class="co">#&gt; $a</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] "A" "B"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="lista-indexelése" class="section level4" number="5.3.6.2">
<h4>
<span class="header-section-number">5.3.6.2</span> Lista indexelése<a class="anchor" aria-label="anchor" href="#lista-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Egy lista indexelése a már megszokot <code>[]</code> indexoperátorral történik, amelyben továbbra is lehetőségünk van numerikus, karakteres és logikai indexvektor megadására is.</p>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>           <span class="co"># az x lista 1. elemét tartalmazó 1 elemű lista</span>
<span class="co">#&gt; $a</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span>     <span class="co"># az x lista 2. és 3. elemét tartalmazó 2 elemű lista</span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] "A" "B"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="va">x</span><span class="op">[</span><span class="st">"a"</span><span class="op">]</span>         <span class="co"># az x lista 1. elemét tartalmazó 1 elemű lista</span>
<span class="co">#&gt; $a</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span>  <span class="co"># az x lista 1. és 3. elemét tartalmazó 1 elemű lista</span>
<span class="co">#&gt; $a</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>A <code>[]</code> operátorral kapott eredmény minden esetben lista, még akkor is, ha a lista egyetlen elemét érjük el. Nagyon fontos ettől megkülönböztetni a <code>[[]]</code> operátor eredményét, amely a lista valamelyik (egyetlen) elemével, annak az értékével tér vissza. Itt nincs mód több listaelem elérésére, és szokás szerint numerikus vagy karakteres értékkel indexelünk.</p>
<div class="sourceCode" id="cb198"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>     <span class="co"># az x lista 1. eleme</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="va">x</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span>   <span class="co"># az x lista 2. eleme</span>
<span class="co">#&gt; [1] "A" "B"</span>
<span class="va">x</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>     <span class="co"># az x lista 3. eleme</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>A <code>[[]]</code> operátor alkalmazása helyett a rövidebb dollár (<code>$</code>) operátort is használhatjuk azoknak a listaelemeknek az elérésére, amelyeket korábban elneveztünk. A lista nevét és az elem nevét fűzzük össze a <code>$</code> operátorral.</p>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">$</span><span class="va">a</span>        <span class="co"># az x lista 1. eleme</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="va">x</span><span class="op">$</span><span class="va">b</span>        <span class="co"># az x lista 2. eleme</span>
<span class="co">#&gt; [1] "A" "B"</span>
<span class="va">x</span><span class="op">$</span><span class="va">c</span>        <span class="co"># az x lista 3. eleme</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Ha a lista elemét valamelyik módszer segítségével elértük, akkor további indexelés segítségével az elem összetevőit is lekérdezhetjük vagy módosíthatjuk.</p>
<div class="sourceCode" id="cb200"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>       <span class="co"># az x lista 1. elemének 3. és 4. eleme </span>
<span class="co">#&gt; [1] 3 4</span>
<span class="va">x</span><span class="op">$</span><span class="va">a</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>       <span class="co"># az x lista 1. elemének 4. és 5. eleme 0 lesz</span>
<span class="va">x</span><span class="op">$</span><span class="va">c</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>          <span class="co"># az x lista 3. elemének módosítása    </span>
<span class="va">x</span>
<span class="co">#&gt; $a</span>
<span class="co">#&gt;  [1]  1  2  3  0  0  6  7  8  9 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] "A" "B"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] 1 2</span></code></pre></div>
<p>A lista indexelésére tehát a következő lehetőségek állnak rendelkezésre:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb201-1"><a href="az-r-nyelv.html#cb201-1" aria-hidden="true" tabindex="-1"></a>lista<span class="co">[</span><span class="ot">indexvektor</span><span class="co">]</span>     # az eredmény egy lista</span>
<span id="cb201-2"><a href="az-r-nyelv.html#cb201-2" aria-hidden="true" tabindex="-1"></a>lista[<span class="co">[</span><span class="ot">index</span><span class="co">]</span>]         # az eredmény a lista egy eleme</span>
<span id="cb201-3"><a href="az-r-nyelv.html#cb201-3" aria-hidden="true" tabindex="-1"></a>lista$elemnév          # az eredmény a lista egy eleme  </span></code></pre></div>
</div>
<div id="művelet-a-listaelemekkel" class="section level4" number="5.3.6.3">
<h4>
<span class="header-section-number">5.3.6.3</span> Művelet a listaelemekkel<a class="anchor" aria-label="anchor" href="#m%C5%B1velet-a-listaelemekkel"><i class="fas fa-link"></i></a>
</h4>
<p>Egy lista mindem elemével az <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code> vagy az <code><a href="https://rdrr.io/r/base/lapply.html">sapply()</a></code> függvény segítségével hajthatunk végre műveletet.</p>
<div class="sourceCode" id="cb202"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">x</span>, FUN<span class="op">=</span><span class="va">length</span><span class="op">)</span> <span class="co"># az x lista minden elemének a hossza egy listába</span>
<span class="co">#&gt; $a</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] 2</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">x</span>, FUN<span class="op">=</span><span class="va">length</span><span class="op">)</span> <span class="co"># az x lista minden elemének a hossza egy vektorba</span>
<span class="co">#&gt;  a  b  c </span>
<span class="co">#&gt; 10  2  2</span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code> a bemenő lista elemszámával egyező méretű listával tér vissza, melynek értékei az második paraméterben szereplő függvény visszatérési értékei. Az <code><a href="https://rdrr.io/r/base/lapply.html">sapply()</a></code> hasonlóan jár el, de a visszatérési értéke egy vektor.</p>
</div>
<div id="az-r-nyelv-8-summary" class="section level4" number="5.3.6.4">
<h4>
<span class="header-section-number">5.3.6.4</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-8-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
A lista az R legszabadabb adatszerkezete, egydimenziós és inhomogén. Listát a <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> függvénnyel hozhatunk létre, melynek argumentumában tetszőleges adatszerkezetű objektumokat felsorolhatunk, ezek alkotják a lista egyes elemeit. Lista indexelése a <code>[]</code>, <code>[[]]</code> és <code>$</code> operátorokkal is lehetséges.
</p>
</div>
</div>
<div id="az-r-nyelv-8-exercise" class="section level4" number="5.3.6.5">
<h4>
<span class="header-section-number">5.3.6.5</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-8-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzunk létre egy háromelemű listát a TRUE, 12, és “Verseny” konstansokból!</li>
<li>Hozzunk létre egy háromelemű listát a TRUE, 12, és “Verseny” konstansokból, de gondoskodjunk az egyes elemek elnevezéséről, amelyek legyenek rendre: “befejezve,” “indulok” és “leiras!”</li>
<li>Hozzunk létre egy háromelemű listát a TRUE, 12 és “Verseny” konstansokból, valamint az induló versenyzők végső pontszámaiból, amelyek rendre: 89, 78, 23, 67, 99, 69, 85, 77, 58, 72, 48, 81. Gondoskodjunk az egyes elemek elnevezéséről, amelyek legyenek rendre: “befejezve,” “indulok,” “leiras” és “pontszam!”</li>
</ol>
</div>
</div>
</div>
<div id="adattábla" class="section level3" number="5.3.7">
<h3>
<span class="header-section-number">5.3.7</span> Adattábla<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla"><i class="fas fa-link"></i></a>
</h3>
<p>Az adattábla (data frame) az R legfontosabb adatszerkezete, központi szerepet játszik az adatfeldolgozásban, lényegében minden statisztikai munka kiindulópontja. Inhomogén, kétdimenziós szerkezet, sorok és oszlopok alkotják, alapvetően azonos hosszúságú vektorokból és faktorokból épül fel (<a href="az-r-nyelv.html#fig:adatszerkezetek-1">5.1</a> ábra). Az adattábla egyesíti a mátrix és a lista adatszerkezet előnyeit. Az adattábla kétdimenziós, mint a mátrix, és inhomogén, mint a lista. Ha mátrixként tekintünk az adattáblára, akkor sorokból és oszlopokból áll, ha listaként, akkor azonos hosszúságú (oszlop)vektorok/faktorok egydimenziós sorozata.</p>
<div id="adattábla-létrehozása" class="section level4" number="5.3.7.1">
<h4>
<span class="header-section-number">5.3.7.1</span> Adattábla létrehozása<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Adattáblát legegyszerűbben a <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvénnyel hozhatunk létre, amely azonos hosszú vektorokat vagy faktorokat vár az argumentumában. A <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> tehát listaszerűen konstruálja az adattáblát.</p>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  nev  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Péter"</span>, <span class="st">"Éva"</span>, <span class="st">"Lajos"</span><span class="op">)</span>,
  pont <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">34</span>, <span class="fl">32</span>, <span class="fl">29</span><span class="op">)</span>
<span class="op">)</span> 
<span class="va">df</span>      <span class="co"># adattábla kiírása</span>
<span class="co">#&gt;     nev pont</span>
<span class="co">#&gt; 1 Péter   34</span>
<span class="co">#&gt; 2   Éva   32</span>
<span class="co">#&gt; 3 Lajos   29</span></code></pre></div>
<p>A fenti <code>df</code> adattáblát egy 3 elemű karakteres vektorból, és egy 3 elemű numerikus vektorból hoztuk létre. A <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvénynek ezt a két vektort adtuk meg, ennek megfelelően két oszlopa lesz az adattáblának. Mindkét vektor 3 elemű, így 3 sor lesz a <code>df</code>-ben. Adattábálánk így 3 <span class="math inline">\(\times\)</span> 2-es. Mindkét argumentumokat elneveztük (<code>nev</code>, <code>pont</code>), ezekből oszlopnevek lesznek. Az oszlopok elnevezéséhez az objektumokneveknél használt szabályokat vegyük figyelembe (<a href="az-r-nyelv.html#objektumelnevezes">5.1.2.3</a> fejezet), és ne használjunk ékezetes karaktereket és szóközt. A fenti outputból kiolvasható, hogy az adattábla sornevekkel is rendelkezik, ezek automatikusan jönnek létre 1-től kezdődő sorszámmal.</p>
<p>Ha a <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvényben a paraméterek hossza nem azonos, akkor a rövidebb vektorok és faktorok ismétléssel kiegészülnek a leghosszabb oszlop hosszára. Az ismétlés azonban csak egész számszor lehetséges, egyébként hibaüzenetet kapunk.</p>
<div class="sourceCode" id="cb204"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tipus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>,<span class="st">'B'</span><span class="op">)</span><span class="op">)</span>; <span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">6</span><span class="op">:</span><span class="fl">8</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>
<span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
   <span class="va">tipus</span>, 
   pont.1<span class="op">=</span><span class="va">x</span>, 
   pont.2<span class="op">=</span><span class="va">y</span>
<span class="op">)</span>
<span class="va">df2</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 1     A      6      1</span>
<span class="co">#&gt; 2     B      7      2</span>
<span class="co">#&gt; 3     A      8      3</span>
<span class="co">#&gt; 4     B      6      4</span>
<span class="co">#&gt; 5     A      7      5</span>
<span class="co">#&gt; 6     B      8      6</span></code></pre></div>
<p>A példában egy 6 sorból és 3 oszlopból álló adattáblát készítettünk (<code>df2</code> 6 <span class="math inline">\(\times\)</span> 3-as). A <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvényben nem azonos a <code>tipus</code> faktor és a két numerikus vektor (<code>x</code>, <code>y</code>) hossza, így ismétléssel kapjuk meg a fenti eredményt. Továbbá, ha elhagyjuk az argumentum nevét, akkor az oszlopnév a megfelelő objektum neve alapján jön létre. Így kapta az első oszlop a <code>tipus</code> nevet.</p>
</div>
<div id="adattábla-felépítése" class="section level4" number="5.3.7.2">
<h4>
<span class="header-section-number">5.3.7.2</span> Adattábla felépítése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla-fel%C3%A9p%C3%ADt%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Adattábláink ritkán olyan kicsik, mint a fenti <code>df</code> vagy <code>df2</code>. Sokszor több tucat sorból és oszlopból állnak, így az adattábla áttekintésére nem az adattáblát tároló objektum értékének képernyőre írása a legszerencsésebb. Kényelmesebb, ha az <em>RStudio</em> adatbázis ablakában jelenítjük meg az adattábla tartalmát, amit a <em>Környezet</em> panel megfelelő adatbázisnevén való kattintással és vagy a <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> parancssal kezdeményezhetünk. Próbáljuk ki a <code>View(df)</code> és <code>View(df2)</code> függvényhívásokat.</p>
<p>Hasznos információ szolgáltat az <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> függvény is, amely az adattábla szerkezetéről ad felvilágosítást.</p>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>     <span class="co"># a df adattábla szerkezete</span>
<span class="co">#&gt; 'data.frame':    3 obs. of  2 variables:</span>
<span class="co">#&gt;  $ nev : chr  "Péter" "Éva" "Lajos"</span>
<span class="co">#&gt;  $ pont: num  34 32 29</span></code></pre></div>
<p>Láthatjuk, hogy a <code>df</code> adattáblánk 3 sort (megfigyelést) és 2 oszlopot (változót) tartalmaz, valamint leolvashatjuk az egyes oszlopok típusát is. Megfigyelhetjük, hogy a <code>nev</code> oszlop karakteres, a <code>pont</code> pedig numerikus vektor.</p>
<p>Láttuk korábban, hogy az adattábla sorai és oszlopai névvel is rendelkeznek.</p>
<div class="sourceCode" id="cb206"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>  <span class="co"># oszlopnevek</span>
<span class="co">#&gt; [1] "nev"  "pont"</span>
<span class="co">#&gt; [1] "nev"  "pont"</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>             <span class="co"># sornevek</span>
<span class="co">#&gt; [1] "1" "2" "3"</span></code></pre></div>
<p>A <code><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames()</a></code> a sorok nevét, a <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> és a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> az oszlopok nevét írja ki, de segítségükkel ezeket módosíthatjuk is. A sorok és oszlopok nevének meghatározásánál ügyeljünk arra, hogy azok minden esetben legyenek egyediek. Két azonos sornév létrehozása hibaüzenethez vezet, de az azonos oszlopnevek használatát is kerüljük.</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="st">".szemely"</span><span class="op">)</span>   <span class="co"># soroknevek módosítása</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"X"</span>,<span class="st">"Y"</span><span class="op">)</span>                   <span class="co"># oszlopnevek módosítása</span>
<span class="va">df</span>
<span class="co">#&gt;               X  Y</span>
<span class="co">#&gt; 1.szemely Péter 34</span>
<span class="co">#&gt; 2.szemely   Éva 32</span>
<span class="co">#&gt; 3.szemely Lajos 29</span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> függvény az oszlopok számával tér vissza. Az <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code> és az <code><a href="https://rdrr.io/r/base/nrow.html">ncol()</a></code> a sor- és oszlopok számával tér vissza.</p>
<div class="sourceCode" id="cb208"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>   <span class="co"># oszlopok száma</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 2</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>               <span class="co"># sorok száma</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
</div>
<div id="adattábla-indexelése" class="section level4" number="5.3.7.3">
<h4>
<span class="header-section-number">5.3.7.3</span> Adattábla indexelése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bla-indexel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az adattáblák indexelése a mátrixok és a listáknál megtanult indexelési formákat jelentik. Az általános indexelése formák a következők:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb209-1"><a href="az-r-nyelv.html#cb209-1" aria-hidden="true" tabindex="-1"></a>adattábla<span class="co">[</span><span class="ot">sorindexvektor, oszlopindexvektor</span><span class="co">]</span> # adattábla, vektor vagy faktor </span>
<span id="cb209-2"><a href="az-r-nyelv.html#cb209-2" aria-hidden="true" tabindex="-1"></a>adattábla<span class="co">[</span><span class="ot">sorindexvektor</span><span class="co">]</span>                    # adattábla</span>
<span id="cb209-3"><a href="az-r-nyelv.html#cb209-3" aria-hidden="true" tabindex="-1"></a>adattábla$oszlopnév                          # vektor vagy faktor                    </span></code></pre></div>
<p>A mátrixokhoz hasonlóan indexelhetjük a sorokat és az oszlopokat, hiszen az adattábla kétdimenziós. A <code>[]</code> operátorban szerepel egy vessző, amely a sor- és oszlopkoordinátákat választja el egymástól. Használhatjuk a következő hivatkozásokat:</p>
<div class="sourceCode" id="cb210"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span>               <span class="co"># a df2 adattábla kiírása</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 1     A      6      1</span>
<span class="co">#&gt; 2     B      7      2</span>
<span class="co">#&gt; 3     A      8      3</span>
<span class="co">#&gt; 4     B      6      4</span>
<span class="co">#&gt; 5     A      7      5</span>
<span class="co">#&gt; 6     B      8      6</span>
<span class="va">df2</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span>         <span class="co"># a df2 2. sorában a 3. oszlop adata, vektor eredmény</span>
<span class="co">#&gt; [1] 2</span>
<span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fl">3</span><span class="op">]</span>   <span class="co"># a df2 2. és 3. sorában a 3. oszlop adata, vektor</span>
<span class="co">#&gt; [1] 2 3</span>
<span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># a df2 2. és 3. sorában a 1. és 2. oszlop adata, adattábla</span>
<span class="co">#&gt;   tipus pont.1</span>
<span class="co">#&gt; 2     B      7</span>
<span class="co">#&gt; 3     A      8</span>
<span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="op">]</span>    <span class="co"># a df2 2. és 3. sora, adattábla</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 2     B      7      2</span>
<span class="co">#&gt; 3     A      8      3</span>
<span class="va">df2</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>          <span class="co"># a df2 2. sora, adattábla</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 2     B      7      2</span>
<span class="va">df2</span><span class="op">[</span>, <span class="fl">3</span><span class="op">]</span>          <span class="co"># a df2 3. oszlopa, vektor</span>
<span class="co">#&gt; [1] 1 2 3 4 5 6</span>
<span class="va">df2</span><span class="op">[</span>, <span class="fl">3</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span>  <span class="co"># a df2 3. oszlopa, adattábla</span>
<span class="co">#&gt;   pont.2</span>
<span class="co">#&gt; 1      1</span>
<span class="co">#&gt; 2      2</span>
<span class="co">#&gt; 3      3</span>
<span class="co">#&gt; 4      4</span>
<span class="co">#&gt; 5      5</span>
<span class="co">#&gt; 6      6</span>
<span class="va">df2</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>        <span class="co"># a df2 1. és 2. oszlopa, adattábla</span>
<span class="co">#&gt;   tipus pont.1</span>
<span class="co">#&gt; 1     A      6</span>
<span class="co">#&gt; 2     B      7</span>
<span class="co">#&gt; 3     A      8</span>
<span class="co">#&gt; 4     B      6</span>
<span class="co">#&gt; 5     A      7</span>
<span class="co">#&gt; 6     B      8</span></code></pre></div>
<p>Numerikus indexvektorok mellett használhatunk karakteres és logikai vektorokat is indexelésre.</p>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tipus"</span>, <span class="st">"pont.1"</span><span class="op">)</span><span class="op">]</span>         <span class="co"># minden sor, 1. és 2. oszlop</span>
<span class="co">#&gt;   tipus pont.1</span>
<span class="co">#&gt; 1     A      6</span>
<span class="co">#&gt; 2     B      7</span>
<span class="co">#&gt; 3     A      8</span>
<span class="co">#&gt; 4     B      6</span>
<span class="co">#&gt; 5     A      7</span>
<span class="co">#&gt; 6     B      8</span>
<span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tipus"</span>, <span class="st">"pont.1"</span><span class="op">)</span><span class="op">]</span>  <span class="co"># páratlan sorok 1. és 2. oszlop</span>
<span class="co">#&gt;   tipus pont.1</span>
<span class="co">#&gt; 1     A      6</span>
<span class="co">#&gt; 3     A      8</span>
<span class="co">#&gt; 5     A      7</span></code></pre></div>
<p>Karakteres vektorok tipikusan oszlopindexekben fordulnak elő, logikai vektorok pedig, később látjuk, az adattábla szűrésénél kapnak fontos szerepet.</p>
<p>Ha az adattáblára listaként tekintünk, akkor <code>[]</code> operátorban egyetlen indexvektort is szerepltethetünk, amely az adattábla oszlopoit indexeli, és minden esetben adattáblát szolgáltat, még akkor is, ha az adattábla egyetlen oszlopát érjük el.</p>
<div class="sourceCode" id="cb212"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>                    <span class="co"># a df2 2. oszlopa, adattábla</span>
<span class="co">#&gt;   pont.1</span>
<span class="co">#&gt; 1      6</span>
<span class="co">#&gt; 2      7</span>
<span class="co">#&gt; 3      8</span>
<span class="co">#&gt; 4      6</span>
<span class="co">#&gt; 5      7</span>
<span class="co">#&gt; 6      8</span>
<span class="va">df2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>                  <span class="co"># a df2 1. és 2. oszlopa, adattábla</span>
<span class="co">#&gt;   tipus pont.1</span>
<span class="co">#&gt; 1     A      6</span>
<span class="co">#&gt; 2     B      7</span>
<span class="co">#&gt; 3     A      8</span>
<span class="co">#&gt; 4     B      6</span>
<span class="co">#&gt; 5     A      7</span>
<span class="co">#&gt; 6     B      8</span>
<span class="va">df2</span><span class="op">[</span><span class="st">"tipus"</span><span class="op">]</span>              <span class="co"># a df2 1. oszlopa, adattábla</span>
<span class="co">#&gt;   tipus</span>
<span class="co">#&gt; 1     A</span>
<span class="co">#&gt; 2     B</span>
<span class="co">#&gt; 3     A</span>
<span class="co">#&gt; 4     B</span>
<span class="co">#&gt; 5     A</span>
<span class="co">#&gt; 6     B</span>
<span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tipus"</span>, <span class="st">"pont.2"</span><span class="op">)</span><span class="op">]</span> <span class="co"># a df2 1. és 3. oszlopa, adattábla</span>
<span class="co">#&gt;   tipus pont.2</span>
<span class="co">#&gt; 1     A      1</span>
<span class="co">#&gt; 2     B      2</span>
<span class="co">#&gt; 3     A      3</span>
<span class="co">#&gt; 4     B      4</span>
<span class="co">#&gt; 5     A      5</span>
<span class="co">#&gt; 6     B      6</span></code></pre></div>
<p>Az adattábla egyes oszlopai a <code>$</code> operátorral is elérhetők, amely az adattábla nevét és az oszlop nevét választja el egymástól. Az eredmény minden esetben vektor vagy faktor lesz.</p>
<div class="sourceCode" id="cb213"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">$</span><span class="va">tipus</span>               <span class="co"># a df2 1. oszlopa, faktor</span>
<span class="co">#&gt; [1] A B A B A B</span>
<span class="co">#&gt; Levels: A B</span>
<span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span>              <span class="co"># a df2 2. oszlopa, vektor</span>
<span class="co">#&gt; [1] 6 7 8 6 7 8</span></code></pre></div>
<p>Az adattábla indexelése után kapott adatszerkezetek tovább indexelhetők. Attól függően, hogy a kiinduló adattábla indexelésével kapott adatszerkezet egy- vagy kétdimenziós használhatjuk a <code>[]</code> és <code>$</code> operátorokat is.</p>
<div class="sourceCode" id="cb214"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>           <span class="co"># df2-ből adattábla, majd adattábla</span>
<span class="co">#&gt;   pont.1</span>
<span class="co">#&gt; 4      6</span>
<span class="co">#&gt; 3      8</span>
<span class="co">#&gt; 2      7</span>
<span class="co">#&gt; 1      6</span>
<span class="va">df2</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">$</span><span class="va">tipus</span>        <span class="co"># df2-ből adattábla, majd faktor</span>
<span class="co">#&gt; [1] B A B A</span>
<span class="co">#&gt; Levels: A B</span>
<span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>            <span class="co"># df2-ből vektor, majd vektor</span>
<span class="co">#&gt; [1] 1 2 3</span></code></pre></div>
<p>Ne feljetsük el, hogy adattábla indexelése során a lekért elemek módosítására is lehetőségünk van, és a vektoraritmetika szabályai továbbra is teljesülnek.</p>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">200</span>              <span class="co"># egyetlen érték módosítása </span>
<span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span> <span class="op">&lt;-</span> <span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span> <span class="op">+</span> <span class="fl">1</span>  <span class="co"># teljes oszlop módosítása</span>
<span class="va">df2</span>                           <span class="co"># df2 kiírása</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 1     A      6      2</span>
<span class="co">#&gt; 2     B      7    201</span>
<span class="co">#&gt; 3     A      8      4</span>
<span class="co">#&gt; 4     B      6      5</span>
<span class="co">#&gt; 5     A      7      6</span>
<span class="co">#&gt; 6     B      8      7</span></code></pre></div>
</div>
<div id="adattáblák-szűrése" class="section level4" number="5.3.7.4">
<h4>
<span class="header-section-number">5.3.7.4</span> Adattáblák szűrése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bl%C3%A1k-sz%C5%B1r%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az adattábla indexelésénél logikai vektorokat is használhatunk sorindexvektorban, melyek az adattábla tartalmára vonatkozó relációs kifejezések is lehetnek. Ezzel a módszerrel érhetjük el, hogy az adattábla sorait valamilyen szempont szerint leválogassuk, megszűrjük.</p>
<div class="sourceCode" id="cb216"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">[</span><span class="va">df2</span><span class="op">$</span><span class="va">tipus</span> <span class="op">==</span> <span class="st">"A"</span>, <span class="op">]</span>                      <span class="co"># az A típusú sorok leválogatása</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 1     A      6      2</span>
<span class="co">#&gt; 3     A      8      4</span>
<span class="co">#&gt; 5     A      7      6</span>
<span class="va">df3</span> <span class="op">&lt;-</span> <span class="va">df2</span><span class="op">[</span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span><span class="op">&lt;</span><span class="fl">8</span> <span class="op">&amp;</span> <span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span><span class="op">&gt;</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># összetett logikai kifejezés</span></code></pre></div>
<p>Az első szűrésünk az adattábla <code>"A"</code> címkékkel rendelkező sorait válogatta le, de csak képernyőn olvashatók ezek a sorok. A második szűrés eredményét azonab megőrizzük egy új <code>df3</code> objektumban, és látható, hogy a <code>pont.1</code> és a <code>pont.2</code> numerikus vektorokra vonatkozó összetett logikai kifejezéssel végezzük.</p>
</div>
<div id="adattáblák-sorainak-rendezése" class="section level4" number="5.3.7.5">
<h4>
<span class="header-section-number">5.3.7.5</span> Adattáblák sorainak rendezése<a class="anchor" aria-label="anchor" href="#adatt%C3%A1bl%C3%A1k-sorainak-rendez%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Az adattábla sorainak rendezése a vektoroknál megismert <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény és a <code>[]</code> operátor kombinált alkalmazásával lehetséges. Rendezzük a <code>pont.1</code> változó alapján a <code>df2</code> sorait.</p>
<div class="sourceCode" id="cb217"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># df2 sorainak rendezése pont.1 növekvő sorrendjében</span>
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 1     A      6      2</span>
<span class="co">#&gt; 4     B      6      5</span>
<span class="co">#&gt; 2     B      7    201</span>
<span class="co">#&gt; 5     A      7      6</span>
<span class="co">#&gt; 3     A      8      4</span>
<span class="co">#&gt; 6     B      8      7</span></code></pre></div>
<p>Az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény <code>decreasing=TRUE</code> argumentumával csökkenő sorrendet is elérhetünk. Az <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> függvény több oszlopot is képes fogadni, így több oszlop alapján is tudunk sorokat rendezni.</p>
<div class="sourceCode" id="cb218"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># df2 sorainak rendezése pont.1 és pont.2 csökkenő sorrendjében</span>
<span class="va">df2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">pont.1</span>, <span class="va">df2</span><span class="op">$</span><span class="va">pont.2</span>, decreasing<span class="op">=</span><span class="cn">T</span><span class="op">)</span>, <span class="op">]</span> 
<span class="co">#&gt;   tipus pont.1 pont.2</span>
<span class="co">#&gt; 6     B      8      7</span>
<span class="co">#&gt; 3     A      8      4</span>
<span class="co">#&gt; 2     B      7    201</span>
<span class="co">#&gt; 5     A      7      6</span>
<span class="co">#&gt; 4     B      6      5</span>
<span class="co">#&gt; 1     A      6      2</span></code></pre></div>
</div>
<div id="az-r-nyelv-9-summary" class="section level4" number="5.3.7.6">
<h4>
<span class="header-section-number">5.3.7.6</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-9-summary"><i class="fas fa-link"></i></a>
</h4>
<div class="rmdsummary">
<p>
Az adattábla minden statisztikai munka kiindulópontja. Kétdimenziós, inhomogén szerkezet, de mivel azonos hosszú vektorok vagy faktorok listájának is tekinthető, oszlopaiban homogén adatszerkezet. Létrehozása a <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> függvénnyel lehetséges, ahol az argumentumban az oszlopokat alkotó vektorokat és faktorokat kell felsorolni. Az adattábla indexelése a mátrixoknál és a listáknál tanultak alapján lehetséges.
</p>
</div>
</div>
<div id="az-r-nyelv-9-exercise" class="section level4" number="5.3.7.7">
<h4>
<span class="header-section-number">5.3.7.7</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-9-exercise"><i class="fas fa-link"></i></a>
</h4>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Hozzunk létre egy 30 <span class="math inline">\(\times\)</span> 3-as adattáblát, <code>csoport</code>, <code>matematika</code> és <code>magyar</code> oszlopnevekkel. A <code>csoport</code> változó legyen egy <code>5.a</code>, <code>5.b</code> és <code>5.c</code> címkéket tetszőleges sorrendben tartalmazó faktor, a <code>matematika</code> és a <code>magyar</code> pedig 1-5 osztályzatokat tartalmazó numerikus vektor.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="további-adatszerkezetek-és-függvények" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> További adatszerkezetek és függvények<a class="anchor" aria-label="anchor" href="#tov%C3%A1bbi-adatszerkezetek-%C3%A9s-f%C3%BCggv%C3%A9nyek"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdlevel2">
<p>Ebben a fejezetben:</p>
<ul>
<li>megismerjük a <em>tömb</em>, <em>táblázat</em>, <em>dátum</em>, <em>idő</em>, <em>időtartam</em> és <em>tibble</em> adatszerkezeteket,</li>
<li>valamint a a munkaterület és munkakönyvtár kezelésének függvényeit.</li>
</ul>
</div>
<p>Az R legfontosabb adatszerkezetit megismertük az előző fejezetben. Az adatelemzés kiindulópontja az <em>adattábla</em>, amely a <em>mátrix</em> és a <em>lista</em> adatszerkezet előnyeit egyesíti, lényegében <em>vektor</em>ok és <em>faktor</em>ok egymásutánja. A munka során azonban találkozhatunk három vagy több dimenzióba szervezett adatokkal (<em>tömb</em> és <em>táblázat</em>), valamint szükség lehet <em>dátum</em>, <em>idő</em> és <em>időtartam</em> kezelésére is. A <em>Tidyverse R</em> megújította az adattáblát, és bevezette a saját <em>tibble</em> típusát az adatok szokásos tárolására. Definiáljuk pontosabban a fenti, új adatszerkezeteket:</p>
<ul>
<li>
<em>tömb</em> - Azonos alaptípusú értékekből 3 vagy több dimenzió mentén készítünk adatszerkezetet.</li>
<li>
<em>táblázat</em> - A gyakorisági táblázatok R megfelelője, amelyben tipikusan <em>integer</em> adatokat rögzítünk, egy, két vagy több dimenzió mentén.</li>
<li>
<em>dátum</em> - Egyetlen <em>double</em> érték, amelynek jelentése az <code>1970-01-01</code> óta eltelt napok száma.</li>
<li>
<em>dátum-idő</em> - Egyetlen <em>double</em> érték, amelynek jelentése az <code>1970-01-01</code> óta eltelt másodpercek száma.</li>
<li>
<em>időtartam</em> - Egyetlen <em>double</em> érték, amelynek különböző mértékegységekben mutatja két időpont közötti különbséget.</li>
<li>
<em>tibble</em> - Speciális adattábla, amely a <code>Tidyverse R</code> része, és megkönnyíti az adatok kezelését.</li>
</ul>
<p>Az <a href="#tab:adatszerkezetek"><strong>??</strong></a> táblázatban már korábban bemutattuk az R legfontosabb adatszerkezeteit, aZ <a href="#tab:adatszerkezetek2"><strong>??</strong></a> táblázat azokat az új adatszerkezeteket sorlja fel, amelyeket ebben a fejezetben mutatunk be. Most is közöljük, hogy a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> és a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> milyen outputot szolgáltat az egyes adatszerkezetek esetén.</p>
<div id="tömbök-és-táblázatok" class="section level3" number="5.4.1">
<h3>
<span class="header-section-number">5.4.1</span> Tömbök és táblázatok<a class="anchor" aria-label="anchor" href="#t%C3%B6mb%C3%B6k-%C3%A9s-t%C3%A1bl%C3%A1zatok"><i class="fas fa-link"></i></a>
</h3>
<p>A tömb a mátrix általánosításával nyerhető adatszerkezet. Az azonos típusú adatokat a mátrix két dimenzió mentén rendezi össze. Azonban három vagy több dimenzió mentén is elvégezhető ez az összerendezés. Így nyerjük a három vagy több dimenziós tömböket. A mátrix két dimenziós tömbnek is tekinthető (vagy a vektor egy egy dimenziós tömbnek). A táblázat a tömbökhöz nagyon hasonló adatszerkezet, de tipikusan számlálással nyert <em>integer</em> értékeket rögzítünk bennük. A tömbökhöz hasonlóan lehetnek egy, két, vagy több dimenziósok.</p>
<div id="tömb-és-táblázat-létrehozása" class="section level4" number="5.4.1.1">
<h4>
<span class="header-section-number">5.4.1.1</span> Tömb és táblázat létrehozása<a class="anchor" aria-label="anchor" href="#t%C3%B6mb-%C3%A9s-t%C3%A1bl%C3%A1zat-l%C3%A9trehoz%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>Az <code><a href="https://rdrr.io/r/base/array.html">array()</a></code> függvénnyel egyszerűen hozhatunk létre tömböt. A függvény a <code>data=</code> argumentumban megadott vektor elemeit a <code>dim=</code> argumentumban megadott dimenzió-méretek mentén rendezi össze.</p>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="co"># az 1:12 vektorból 3 dimenziós tömb </span>
<span class="va">x</span>                       
<span class="co">#&gt; , , 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    3    5</span>
<span class="co">#&gt; [2,]    2    4    6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , , 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    7    9   11</span>
<span class="co">#&gt; [2,]    8   10   12</span></code></pre></div>
<p>Fenti 3 dimenziós <em>integer</em> tömb 2 <span class="math inline">\(\times\)</span> 3 <span class="math inline">\(\times\)</span> 2-es, azaz 2 sorból, 3 oszlopból és 2 lapból áll. Természetesen <em>double</em>, <em>karakteres</em> és <em>logikai</em> tömbök is hasonló módszerrel hozhatók létre.</p>
<p>Tekintsünk egy másik példát.</p>
<div class="sourceCode" id="cb220"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span>data<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    5    9   13   17</span>
<span class="co">#&gt; [2,]    2    6   10   14   18</span>
<span class="co">#&gt; [3,]    3    7   11   15   19</span>
<span class="co">#&gt; [4,]    4    8   12   16   20</span></code></pre></div>
<p>Tehát ha <code>x</code> például 3 dimenziós, akkor az <code>x[1,3,2]</code> egy lehetséges példa indexelésére, ahol az első sor harmadik oszlopában lévő elemre gondolunk, a második lapról. A kétdimenziós mátrixok esetén csak a sor és oszlop azonosító indexre van szükségünk (például <code>x[2,3]</code>), 4 vagy afeletti dimenziószámok esetén természetesen 4 vagy több, vesszővel elválasztott indexre.</p>
<p>Az egydimenziós vektor többdimenziós megfelelője a tömb (array). A tömb a vektorhoz hasonlóan homogén adatszerkezet, amely a <code>dim</code> attribútummal is rendelkezik. Egy vektort könnyen átalakíthatunk például egy 3 dimenziós tömbbé a <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> függvény segítségével:</p>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>; <span class="fu"><a href="https://rdrr.io/r/base/vector.html">is.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/vector.html">is.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/array.html">is.array</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $dim</span>
<span class="co">#&gt; [1] 2 2 2</span>
<span class="va">x</span>
<span class="co">#&gt; , , 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]    1    3</span>
<span class="co">#&gt; [2,]    2    4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , , 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]    5    7</span>
<span class="co">#&gt; [2,]    6    8</span></code></pre></div>
<p>Az <code>x</code> vektorból egy háromdimenziós tömböt hoztunk létre. Az <code><a href="https://rdrr.io/r/base/vector.html">is.vector()</a></code> és az <code><a href="https://rdrr.io/r/base/array.html">is.array()</a></code> függvények eligazítanak az objektum adatszerkezetével kapcsolatban, vektor, illetve tömb paraméter esetén logikai igaz értéket adnak. A tömb kiíratása során az indexoperátorokban szereplő sorszámok segítségével igazodhatunk el az elemek között. A háromdimenziós <code>x</code> tömb dimenziói a sorok, oszlopok és a lapok. A 8 elemet két lapon a <code>, , 1</code> és a <code>, , 2</code> nevű lapokon két-két sorba <code>[1, ]</code>, <code>[2, ]</code> és két-két oszlopba <code>[ ,1]</code>, <code>[ ,2]</code> rendezve sorolja fel az R. A második lapon a 2. sor 1. eleméhez meg kell találnunk a <code>, , 2</code> lapot, a <code>[2, ]</code> sort és az <code>[ ,1]</code> oszlopot, ami esetünkben a 6.</p>
<div class="sourceCode" id="cb222"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span>
<span class="va">tab1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span>
<span class="va">tab1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Female   Male </span>
<span class="co">#&gt;    118    118</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span>
<span class="co">#&gt; [1] "integer"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span>
<span class="co">#&gt; [1] "table"</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span>
<span class="co">#&gt; [1] 2</span>

<span class="va">tab2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Clap</span><span class="op">)</span>
<span class="va">tab2</span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female   21      24    73</span>
<span class="co">#&gt;   Male     18      25    74</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="co">#&gt; [1] "integer"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="co">#&gt; [1] "table"</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 3</span>

<span class="va">tab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Clap</span>, <span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span>
<span class="va">tab3</span>
<span class="co">#&gt; , ,  = Freq</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female   11      17    21</span>
<span class="co">#&gt;   Male      8      16    41</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , ,  = None</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female    3       1     7</span>
<span class="co">#&gt;   Male      3       4     6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , ,  = Some</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female    7       6    45</span>
<span class="co">#&gt;   Male      7       5    27</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt; [1] "integer"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt; [1] "table"</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 3 3</span>
<span class="fu"><a href="https://rdrr.io/r/stats/ftable.html">ftable</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt;                 Freq None Some</span>
<span class="co">#&gt;                               </span>
<span class="co">#&gt; Female Left       11    3    7</span>
<span class="co">#&gt;        Neither    17    1    6</span>
<span class="co">#&gt;        Right      21    7   45</span>
<span class="co">#&gt; Male   Left        8    3    7</span>
<span class="co">#&gt;        Neither    16    4    5</span>
<span class="co">#&gt;        Right      41    6   27</span>

<span class="fu"><a href="https://rdrr.io/r/base/array.html">as.array</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Female   Male </span>
<span class="co">#&gt;    118    118</span>
<span class="fu"><a href="https://rdrr.io/r/base/array.html">as.array</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female   21      24    73</span>
<span class="co">#&gt;   Male     18      25    74</span>
<span class="fu"><a href="https://rdrr.io/r/base/array.html">as.array</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt; , ,  = Freq</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female   11      17    21</span>
<span class="co">#&gt;   Male      8      16    41</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , ,  = None</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female    3       1     7</span>
<span class="co">#&gt;   Male      3       4     6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , ,  = Some</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female    7       6    45</span>
<span class="co">#&gt;   Male      7       5    27</span>

<span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span>
<span class="co">#&gt; [1] 118 118</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female   21      24    73</span>
<span class="co">#&gt;   Male     18      25    74</span>
<span class="fu"><a href="https://rdrr.io/r/base/array.html">as.array</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt; , ,  = Freq</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female   11      17    21</span>
<span class="co">#&gt;   Male      8      16    41</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , ,  = None</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female    3       1     7</span>
<span class="co">#&gt;   Male      3       4     6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , ,  = Some</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         </span>
<span class="co">#&gt;          Left Neither Right</span>
<span class="co">#&gt;   Female    7       6    45</span>
<span class="co">#&gt;   Male      7       5    27</span>

<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab1</span><span class="op">)</span>
<span class="co">#&gt;     Var1 Freq</span>
<span class="co">#&gt; 1 Female  118</span>
<span class="co">#&gt; 2   Male  118</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="co">#&gt;     Var1    Var2 Freq</span>
<span class="co">#&gt; 1 Female    Left   21</span>
<span class="co">#&gt; 2   Male    Left   18</span>
<span class="co">#&gt; 3 Female Neither   24</span>
<span class="co">#&gt; 4   Male Neither   25</span>
<span class="co">#&gt; 5 Female   Right   73</span>
<span class="co">#&gt; 6   Male   Right   74</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab3</span><span class="op">)</span>
<span class="co">#&gt;      Var1    Var2 Var3 Freq</span>
<span class="co">#&gt; 1  Female    Left Freq   11</span>
<span class="co">#&gt; 2    Male    Left Freq    8</span>
<span class="co">#&gt; 3  Female Neither Freq   17</span>
<span class="co">#&gt; 4    Male Neither Freq   16</span>
<span class="co">#&gt; 5  Female   Right Freq   21</span>
<span class="co">#&gt; 6    Male   Right Freq   41</span>
<span class="co">#&gt; 7  Female    Left None    3</span>
<span class="co">#&gt; 8    Male    Left None    3</span>
<span class="co">#&gt; 9  Female Neither None    1</span>
<span class="co">#&gt; 10   Male Neither None    4</span>
<span class="co">#&gt; 11 Female   Right None    7</span>
<span class="co">#&gt; 12   Male   Right None    6</span>
<span class="co">#&gt; 13 Female    Left Some    7</span>
<span class="co">#&gt; 14   Male    Left Some    7</span>
<span class="co">#&gt; 15 Female Neither Some    6</span>
<span class="co">#&gt; 16   Male Neither Some    5</span>
<span class="co">#&gt; 17 Female   Right Some   45</span>
<span class="co">#&gt; 18   Male   Right Some   27</span>

<span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, ncol<span class="op">=</span><span class="fl">4</span><span class="op">)</span>
<span class="va">m</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4]</span>
<span class="co">#&gt; [1,]    1    4    7   10</span>
<span class="co">#&gt; [2,]    2    5    8   11</span>
<span class="co">#&gt; [3,]    3    6    9   12</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="co">#&gt;   V1 V2 V3 V4</span>
<span class="co">#&gt; 1  1  4  7 10</span>
<span class="co">#&gt; 2  2  5  8 11</span>
<span class="co">#&gt; 3  3  6  9 12</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">as.table</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="co">#&gt;    A  B  C  D</span>
<span class="co">#&gt; A  1  4  7 10</span>
<span class="co">#&gt; B  2  5  8 11</span>
<span class="co">#&gt; C  3  6  9 12</span>

<span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Var1</span><span class="op">+</span><span class="va">Var2</span>, data<span class="op">=</span><span class="va">d</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;         Var2</span>
<span class="co">#&gt; Var1     Left Neither Right</span>
<span class="co">#&gt;   Female   21      24    73</span>
<span class="co">#&gt;   Male     18      25    74</span>
<span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Var1</span><span class="op">+</span><span class="va">Var2</span>, data<span class="op">=</span><span class="va">d</span><span class="op">)</span>
<span class="co">#&gt;         Var2</span>
<span class="co">#&gt; Var1     Left Neither Right</span>
<span class="co">#&gt;   Female   21      24    73</span>
<span class="co">#&gt;   Male     18      25    74</span></code></pre></div>
</div>
</div>
<div id="dátum-és-idő" class="section level3" number="5.4.2">
<h3>
<span class="header-section-number">5.4.2</span> Dátum és idő<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-%C3%A9s-id%C5%91"><i class="fas fa-link"></i></a>
</h3>
<p>Az adatelemzés során a dátumok kezelésének két fő oka lehet, egyrészt szűrésekben használhatjuk őket, például adott dátum vagy időpont előtti, utáni vagy közötti sorok leválogatásában, másrészt statisztikai elemzések is irányulhatnak két dátum vagy időpont között eltelt időtartamra.</p>
<div id="dátum-kezelése" class="section level4" number="5.4.2.1">
<h4>
<span class="header-section-number">5.4.2.1</span> Dátum kezelése<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<p>Amennyiben le akarjuk kérdezni az aktuális dátumot, akkor a <code><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date()</a></code> függvényt kell használnunk.</p>
<div class="sourceCode" id="cb223"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datum.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>    <span class="co"># aktuális dátum, dátum típusú objektum</span>
<span class="va">datum.1</span>                  <span class="co"># datum.1 kiírása</span>
<span class="co">#&gt; [1] "2021-12-28"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">datum.1</span><span class="op">)</span>           <span class="co"># datum.1 típusa</span>
<span class="co">#&gt; [1] "Date"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">datum.1</span><span class="op">)</span>         <span class="co"># datum.1 alapja</span>
<span class="co">#&gt; [1] 18989</span></code></pre></div>
<p>Láthatjuk, hogy a <code>datum.1</code> objektum <em>dátum</em> (<em>Date</em>) típusú annak ellenére, hogy az objektum értéke a képernyőn kettős idézőjelek között jelenik meg. A <em>dátum</em> típus alapja egy <em>double</em> szám van, amely az 1970. 01. 01. óta eltelt napok számát tartalmazza, ahogyan az <code>unclass(datum.1)</code> ezt számunkra meg is mutatja. Világos, hogy az a <em>double</em> érték lehet nulla vagy negatív is.</p>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1980-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a double szám pozitív</span>
<span class="co">#&gt; [1] 3652</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1970-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a double szám nulla</span>
<span class="co">#&gt; [1] 0</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1960-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a double szám negatív</span>
<span class="co">#&gt; [1] -3653</span></code></pre></div>
<div id="dátum-létrehozása-karakteres-adatból" class="section level5" number="5.4.2.1.1">
<h5>
<span class="header-section-number">5.4.2.1.1</span> Dátum létrehozása karakteres adatból<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-l%C3%A9trehoz%C3%A1sa-karakteres-adatb%C3%B3l"><i class="fas fa-link"></i></a>
</h5>
<p>Dátumot legtöbb esetben karakteres konstansból hozunk létre az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvény segítségével. A dátumok változatos formában jelenhetnek meg, a szabványos <code>"2019-02-12"</code> alak mellett sok olyan forma létezik, amelyben elválasztó karakterként a perjel vagy a pont szerepel, valamint az év-hó-nap hármas sorrendje is változhat. A konkrét dátum értelmézéséhez az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvény <code>format=</code> argumentumát kell helyesen beállítani. A használható kódokat a <a href="az-r-nyelv.html#tab:datumkodok">5.1</a> táblázat tartalmazza.</p>
<div class="sourceCode" id="cb225"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020-04-12"</span><span class="op">)</span>   <span class="co"># szabványos, nem kell format= argumentum</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020/04/12"</span><span class="op">)</span>   <span class="co"># szabványos, nem kell format= argumentum</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"04/12/2020"</span>, format<span class="op">=</span><span class="st">"%m/%d/%Y"</span><span class="op">)</span>          <span class="co"># amerikai stílus</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"12.04.2020"</span>, format<span class="op">=</span><span class="st">"%d.%m.%Y"</span><span class="op">)</span>          <span class="co"># brit stílus</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2019. 04. 12."</span>, format<span class="op">=</span><span class="st">"%Y. %m. %d."</span><span class="op">)</span>    <span class="co"># magyar stílus</span>
<span class="co">#&gt; [1] "2019-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.getlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span><span class="op">)</span>                          <span class="co"># a helyi beállítás magyar?</span>
<span class="co">#&gt; [1] "Hungarian_Hungary.1250"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2019. ápr. 12."</span>, format<span class="op">=</span><span class="st">"%Y. %b %d."</span><span class="op">)</span>    <span class="co"># rövid mqgyar hónapnévvel</span>
<span class="co">#&gt; [1] "2019-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2019. április 12."</span>, format<span class="op">=</span><span class="st">"%Y. %B %d."</span><span class="op">)</span> <span class="co"># magyar hónapnévvel</span>
<span class="co">#&gt; [1] "2019-04-12"</span>
<span class="va">lct</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.getlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span><span class="op">)</span>                   <span class="co"># helyi beállítás mentése</span>
<span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.setlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span>, <span class="st">"C"</span><span class="op">)</span>                     <span class="co"># észak-amerikai beállítás </span>
<span class="co">#&gt; [1] "C"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"Apr 12, 2020"</span>, format<span class="op">=</span><span class="st">"%b %d, %Y"</span><span class="op">)</span>       <span class="co"># rövid angol hónapnévvel</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"12 April 2020"</span>, format<span class="op">=</span><span class="st">"%d %B %Y"</span><span class="op">)</span>       <span class="co"># angol hónapnévvel</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.setlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span>, <span class="va">lct</span><span class="op">)</span>  <span class="co"># magyar helyi beállítás visszatöltése  </span>
<span class="co">#&gt; [1] "Hungarian_Hungary.1250"</span></code></pre></div>
<p>Magyar számítógépes környezetben a helyi beállítás (locale) alapértelmezés szerint magyar, ennek megfelelően a magyar hónapnevekkel dolgozik az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> függvény. A <code>Sys.getlocale("LC_TIME")</code> paranccsak vizsgálhatjuk meg, hogy milyen környezetben dolgozunk. A <code>Sys.setlocale("LC_TIME", "C")</code> utasítás észak-amerikai beállításokra vált, így angol hónapnevek felismerésére nyílik lehetőség.</p>
</div>
<div id="dátum-létrehozása-numerikus-adatokból" class="section level5" number="5.4.2.1.2">
<h5>
<span class="header-section-number">5.4.2.1.2</span> Dátum létrehozása numerikus adatokból<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-l%C3%A9trehoz%C3%A1sa-numerikus-adatokb%C3%B3l"><i class="fas fa-link"></i></a>
</h5>
<p>Dátumot a szeparáltan létező numerikus év, hónap, nap információkból is létrehozhatunk. Ehhez először az <code><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate()</a></code> függvénnyel időpontot állítunk elő, majd az <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code>-tel dátumot. Ezzel a módszerrel egyszerre több dátumot is előállíthatunk.</p>
<div class="sourceCode" id="cb226"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span>, month <span class="op">=</span> <span class="fl">4</span>, day <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span>, month <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, day <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-01-12" "2020-02-12" "2020-03-12" "2020-04-12"</span></code></pre></div>
</div>
<div id="dátum-konvertálása-karakteres" class="section level5" number="5.4.2.1.3">
<h5>
<span class="header-section-number">5.4.2.1.3</span> Dátum konvertálása karakteres<a class="anchor" aria-label="anchor" href="#d%C3%A1tum-konvert%C3%A1l%C3%A1sa-karakteres"><i class="fas fa-link"></i></a>
</h5>
<p>Sokszor a dátumokat speciális karaktersorozatként szeretnénk látni speciális alakjára,</p>
<div class="sourceCode" id="cb227"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">datum.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"04/12/2020"</span>, format <span class="op">=</span> <span class="st">"%m/%d/%Y"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum.2</span>, <span class="st">"%Y. %m. %d."</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020. 04. 12."</span>
<span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum.2</span>, <span class="st">"%Y. %B %d."</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020. április 12."</span>
<span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="va">datum.2</span>, <span class="st">"%Y. %b %d."</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020. ápr. 12."</span></code></pre></div>
<div class="sourceCode" id="cb228"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datum.2</span>
<span class="co">#&gt; [1] "2020-04-12"</span>
<span class="op">(</span><span class="va">ido.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXlt</a></span><span class="op">(</span><span class="va">datum.2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-04-12 UTC"</span>
<span class="va">ido.1</span><span class="op">$</span><span class="va">year</span> <span class="op">+</span> <span class="fl">1900</span>
<span class="co">#&gt; [1] 2020</span>
<span class="va">ido.1</span><span class="op">$</span><span class="va">mon</span> <span class="op">+</span> <span class="fl">1</span>
<span class="co">#&gt; [1] 4</span>
<span class="va">ido.1</span><span class="op">$</span><span class="va">mday</span>
<span class="co">#&gt; [1] 12</span></code></pre></div>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2061. július 26"</span>, format<span class="op">=</span><span class="st">"%Y. %B %d"</span><span class="op">)</span>
<span class="co">#&gt; [1] "2061-07-26"</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://dirk.eddelbuettel.com/code/anytime.html">anytime</a></span><span class="op">)</span>
<span class="fu">anytime</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/anytime/man/anytime.html">anydate</a></span><span class="op">(</span><span class="st">"2061. július 26"</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span>


<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span>
<span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2061-07-26"</span>, <span class="st">"2061/07/26"</span>, <span class="st">"2061 July 26"</span>, 
      <span class="st">"2061. július 26"</span>, <span class="st">"2061 máj. 26"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2061-07-26" "2061-07-26" "2061-07-26" "2061-07-26" "2061-05-26"</span>
<span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html">dmy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"26-07-2061"</span>, <span class="st">"2061/07/26"</span>, <span class="st">"2061 July 26"</span>, 
      <span class="st">"26 July, 2061"</span>, <span class="st">"26. júl. 2061."</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2061-07-26" NA           NA           "2061-07-26" "2061-07-26"</span>

<span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2061-07-26 12:12:32"</span><span class="op">)</span>
<span class="co">#&gt; [1] "2061-07-26 12:12:32 UTC"</span>

<span class="fu"><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html">parse_date_time</a></span><span class="op">(</span><span class="st">"2020. June 12"</span>, orders <span class="op">=</span> <span class="st">"Ymd"</span>, locale<span class="op">=</span><span class="st">"Hungarian_Hungary.1250"</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-06-12 UTC"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.getlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span>

<span class="co"># A Halley-üstökös visszatérése utoljára 1986-ban járt a Naprendszerünkben, így az előrejelzések szerint legközelebb 2061. július 26</span></code></pre></div>
<div class="inline-table"><table style="width:54%;" class="table table-sm">
<caption>
<span id="tab:datumkodok">TÁBLÁZAT 5.1: </span> Formátumkódok a dátumokban</caption>
<colgroup>
<col width="19%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th>Formátum kód</th>
<th>Jelentés</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>%Y</td>
<td>év 4 számjeggyel</td>
</tr>
<tr class="even">
<td>%y</td>
<td>év 2 számjeggyel</td>
</tr>
<tr class="odd">
<td>%m</td>
<td>hónap</td>
</tr>
<tr class="even">
<td>%b</td>
<td>hónap rövidített neve</td>
</tr>
<tr class="odd">
<td>%B</td>
<td>hónap teljes neve</td>
</tr>
<tr class="even">
<td>%d</td>
<td>nap</td>
</tr>
</tbody>
</table></div>
</div>
<div id="két-dátum-közt-eltelt-idő" class="section level5" number="5.4.2.1.4">
<h5>
<span class="header-section-number">5.4.2.1.4</span> Két dátum közt eltelt idő<a class="anchor" aria-label="anchor" href="#k%C3%A9t-d%C3%A1tum-k%C3%B6zt-eltelt-id%C5%91"><i class="fas fa-link"></i></a>
</h5>
<div class="sourceCode" id="cb230"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">diff.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">datum.1</span>, <span class="va">datum.2</span>, units <span class="op">=</span> <span class="st">"secs"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Time difference of 5.4e+07 secs</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">diff.1</span><span class="op">)</span>
<span class="co">#&gt; [1] 5.4e+07</span>
<span class="co">#&gt; attr(,"units")</span>
<span class="co">#&gt; [1] "secs"</span>
<span class="op">(</span><span class="va">diff.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">datum.1</span>, <span class="va">datum.2</span>, units <span class="op">=</span> <span class="st">"mins"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Time difference of 9e+05 mins</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">diff.2</span><span class="op">)</span>
<span class="co">#&gt; [1] 9e+05</span>
<span class="co">#&gt; attr(,"units")</span>
<span class="co">#&gt; [1] "mins"</span>
<span class="op">(</span><span class="va">diff.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">datum.1</span>, <span class="va">datum.2</span>, units <span class="op">=</span> <span class="st">"hours"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Time difference of 15000 hours</span>
<span class="op">(</span><span class="va">diff.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">datum.1</span>, <span class="va">datum.2</span>, units <span class="op">=</span> <span class="st">"days"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Time difference of 625 days</span>
<span class="op">(</span><span class="va">diff.5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">datum.1</span>, <span class="va">datum.2</span>, units <span class="op">=</span> <span class="st">"weeks"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Time difference of 89.28571 weeks</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">diff.1</span><span class="op">)</span>
<span class="co">#&gt; [1] 5.4e+07</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">diff.2</span><span class="op">)</span>
<span class="co">#&gt; [1] 9e+05</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">diff.3</span><span class="op">)</span>
<span class="co">#&gt; [1] 15000</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">diff.4</span><span class="op">)</span>
<span class="co">#&gt; [1] 625</span>
<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">diff.5</span><span class="op">)</span>
<span class="co">#&gt; [1] 89.28571</span></code></pre></div>
</div>
</div>
<div id="idő-kezelése" class="section level4" number="5.4.2.2">
<h4>
<span class="header-section-number">5.4.2.2</span> Idő kezelése<a class="anchor" aria-label="anchor" href="#id%C5%91-kezel%C3%A9se"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb231"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ido.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">ido.1</span>
<span class="co">#&gt; [1] "2021-12-28 22:36:56 CET"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">ido.1</span><span class="op">)</span>
<span class="co">#&gt; [1] 1640727417</span>

<span class="va">ido.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-12-02 22:12:23"</span>, tz <span class="op">=</span> <span class="st">"Europe/Budapest"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb232"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/timezones.html">Sys.timezone</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Europe/Prague"</span>
<span class="va">datum.ido.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">datum.ido.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2018-12-02 22:12:23"</span>, tz <span class="op">=</span> <span class="st">"Europe/Budapest"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">datum.ido.1</span>, <span class="va">datum.ido.2</span>, units<span class="op">=</span><span class="st">"min"</span><span class="op">)</span>
<span class="co">#&gt; Time difference of 1615705 mins</span>


<span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="st">"2019.09.06. 16:34:17"</span>, <span class="st">"%Y.%m.%d. %H:%M:%S"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2019-09-06 16:34:17 CEST"</span>



<span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="st">"2010-10-31 01:30:00"</span>, <span class="st">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2010-10-31 01:30:00 CEST"</span>
<span class="fu"><a href="https://rdrr.io/r/base/timezones.html">OlsonNames</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   [1] "Africa/Abidjan"                   "Africa/Accra"                    </span>
<span class="co">#&gt;   [3] "Africa/Addis_Ababa"               "Africa/Algiers"                  </span>
<span class="co">#&gt;   [5] "Africa/Asmara"                    "Africa/Asmera"                   </span>
<span class="co">#&gt;   [7] "Africa/Bamako"                    "Africa/Bangui"                   </span>
<span class="co">#&gt;   [9] "Africa/Banjul"                    "Africa/Bissau"                   </span>
<span class="co">#&gt;  [11] "Africa/Blantyre"                  "Africa/Brazzaville"              </span>
<span class="co">#&gt;  [13] "Africa/Bujumbura"                 "Africa/Cairo"                    </span>
<span class="co">#&gt;  [15] "Africa/Casablanca"                "Africa/Ceuta"                    </span>
<span class="co">#&gt;  [17] "Africa/Conakry"                   "Africa/Dakar"                    </span>
<span class="co">#&gt;  [19] "Africa/Dar_es_Salaam"             "Africa/Djibouti"                 </span>
<span class="co">#&gt;  [21] "Africa/Douala"                    "Africa/El_Aaiun"                 </span>
<span class="co">#&gt;  [23] "Africa/Freetown"                  "Africa/Gaborone"                 </span>
<span class="co">#&gt;  [25] "Africa/Harare"                    "Africa/Johannesburg"             </span>
<span class="co">#&gt;  [27] "Africa/Juba"                      "Africa/Kampala"                  </span>
<span class="co">#&gt;  [29] "Africa/Khartoum"                  "Africa/Kigali"                   </span>
<span class="co">#&gt;  [31] "Africa/Kinshasa"                  "Africa/Lagos"                    </span>
<span class="co">#&gt;  [33] "Africa/Libreville"                "Africa/Lome"                     </span>
<span class="co">#&gt;  [35] "Africa/Luanda"                    "Africa/Lubumbashi"               </span>
<span class="co">#&gt;  [37] "Africa/Lusaka"                    "Africa/Malabo"                   </span>
<span class="co">#&gt;  [39] "Africa/Maputo"                    "Africa/Maseru"                   </span>
<span class="co">#&gt;  [41] "Africa/Mbabane"                   "Africa/Mogadishu"                </span>
<span class="co">#&gt;  [43] "Africa/Monrovia"                  "Africa/Nairobi"                  </span>
<span class="co">#&gt;  [45] "Africa/Ndjamena"                  "Africa/Niamey"                   </span>
<span class="co">#&gt;  [47] "Africa/Nouakchott"                "Africa/Ouagadougou"              </span>
<span class="co">#&gt;  [49] "Africa/Porto-Novo"                "Africa/Sao_Tome"                 </span>
<span class="co">#&gt;  [51] "Africa/Timbuktu"                  "Africa/Tripoli"                  </span>
<span class="co">#&gt;  [53] "Africa/Tunis"                     "Africa/Windhoek"                 </span>
<span class="co">#&gt;  [55] "America/Adak"                     "America/Anchorage"               </span>
<span class="co">#&gt;  [57] "America/Anguilla"                 "America/Antigua"                 </span>
<span class="co">#&gt;  [59] "America/Araguaina"                "America/Argentina/Buenos_Aires"  </span>
<span class="co">#&gt;  [61] "America/Argentina/Catamarca"      "America/Argentina/ComodRivadavia"</span>
<span class="co">#&gt;  [63] "America/Argentina/Cordoba"        "America/Argentina/Jujuy"         </span>
<span class="co">#&gt;  [65] "America/Argentina/La_Rioja"       "America/Argentina/Mendoza"       </span>
<span class="co">#&gt;  [67] "America/Argentina/Rio_Gallegos"   "America/Argentina/Salta"         </span>
<span class="co">#&gt;  [69] "America/Argentina/San_Juan"       "America/Argentina/San_Luis"      </span>
<span class="co">#&gt;  [71] "America/Argentina/Tucuman"        "America/Argentina/Ushuaia"       </span>
<span class="co">#&gt;  [73] "America/Aruba"                    "America/Asuncion"                </span>
<span class="co">#&gt;  [75] "America/Atikokan"                 "America/Atka"                    </span>
<span class="co">#&gt;  [77] "America/Bahia"                    "America/Bahia_Banderas"          </span>
<span class="co">#&gt;  [79] "America/Barbados"                 "America/Belem"                   </span>
<span class="co">#&gt;  [81] "America/Belize"                   "America/Blanc-Sablon"            </span>
<span class="co">#&gt;  [83] "America/Boa_Vista"                "America/Bogota"                  </span>
<span class="co">#&gt;  [85] "America/Boise"                    "America/Buenos_Aires"            </span>
<span class="co">#&gt;  [87] "America/Cambridge_Bay"            "America/Campo_Grande"            </span>
<span class="co">#&gt;  [89] "America/Cancun"                   "America/Caracas"                 </span>
<span class="co">#&gt;  [91] "America/Catamarca"                "America/Cayenne"                 </span>
<span class="co">#&gt;  [93] "America/Cayman"                   "America/Chicago"                 </span>
<span class="co">#&gt;  [95] "America/Chihuahua"                "America/Coral_Harbour"           </span>
<span class="co">#&gt;  [97] "America/Cordoba"                  "America/Costa_Rica"              </span>
<span class="co">#&gt;  [99] "America/Creston"                  "America/Cuiaba"                  </span>
<span class="co">#&gt; [101] "America/Curacao"                  "America/Danmarkshavn"            </span>
<span class="co">#&gt; [103] "America/Dawson"                   "America/Dawson_Creek"            </span>
<span class="co">#&gt; [105] "America/Denver"                   "America/Detroit"                 </span>
<span class="co">#&gt; [107] "America/Dominica"                 "America/Edmonton"                </span>
<span class="co">#&gt; [109] "America/Eirunepe"                 "America/El_Salvador"             </span>
<span class="co">#&gt; [111] "America/Ensenada"                 "America/Fort_Nelson"             </span>
<span class="co">#&gt; [113] "America/Fort_Wayne"               "America/Fortaleza"               </span>
<span class="co">#&gt; [115] "America/Glace_Bay"                "America/Godthab"                 </span>
<span class="co">#&gt; [117] "America/Goose_Bay"                "America/Grand_Turk"              </span>
<span class="co">#&gt; [119] "America/Grenada"                  "America/Guadeloupe"              </span>
<span class="co">#&gt; [121] "America/Guatemala"                "America/Guayaquil"               </span>
<span class="co">#&gt; [123] "America/Guyana"                   "America/Halifax"                 </span>
<span class="co">#&gt; [125] "America/Havana"                   "America/Hermosillo"              </span>
<span class="co">#&gt; [127] "America/Indiana/Indianapolis"     "America/Indiana/Knox"            </span>
<span class="co">#&gt; [129] "America/Indiana/Marengo"          "America/Indiana/Petersburg"      </span>
<span class="co">#&gt; [131] "America/Indiana/Tell_City"        "America/Indiana/Vevay"           </span>
<span class="co">#&gt; [133] "America/Indiana/Vincennes"        "America/Indiana/Winamac"         </span>
<span class="co">#&gt; [135] "America/Indianapolis"             "America/Inuvik"                  </span>
<span class="co">#&gt; [137] "America/Iqaluit"                  "America/Jamaica"                 </span>
<span class="co">#&gt; [139] "America/Jujuy"                    "America/Juneau"                  </span>
<span class="co">#&gt; [141] "America/Kentucky/Louisville"      "America/Kentucky/Monticello"     </span>
<span class="co">#&gt; [143] "America/Knox_IN"                  "America/Kralendijk"              </span>
<span class="co">#&gt; [145] "America/La_Paz"                   "America/Lima"                    </span>
<span class="co">#&gt; [147] "America/Los_Angeles"              "America/Louisville"              </span>
<span class="co">#&gt; [149] "America/Lower_Princes"            "America/Maceio"                  </span>
<span class="co">#&gt; [151] "America/Managua"                  "America/Manaus"                  </span>
<span class="co">#&gt; [153] "America/Marigot"                  "America/Martinique"              </span>
<span class="co">#&gt; [155] "America/Matamoros"                "America/Mazatlan"                </span>
<span class="co">#&gt; [157] "America/Mendoza"                  "America/Menominee"               </span>
<span class="co">#&gt; [159] "America/Merida"                   "America/Metlakatla"              </span>
<span class="co">#&gt; [161] "America/Mexico_City"              "America/Miquelon"                </span>
<span class="co">#&gt; [163] "America/Moncton"                  "America/Monterrey"               </span>
<span class="co">#&gt; [165] "America/Montevideo"               "America/Montreal"                </span>
<span class="co">#&gt; [167] "America/Montserrat"               "America/Nassau"                  </span>
<span class="co">#&gt; [169] "America/New_York"                 "America/Nipigon"                 </span>
<span class="co">#&gt; [171] "America/Nome"                     "America/Noronha"                 </span>
<span class="co">#&gt; [173] "America/North_Dakota/Beulah"      "America/North_Dakota/Center"     </span>
<span class="co">#&gt; [175] "America/North_Dakota/New_Salem"   "America/Nuuk"                    </span>
<span class="co">#&gt; [177] "America/Ojinaga"                  "America/Panama"                  </span>
<span class="co">#&gt; [179] "America/Pangnirtung"              "America/Paramaribo"              </span>
<span class="co">#&gt; [181] "America/Phoenix"                  "America/Port-au-Prince"          </span>
<span class="co">#&gt; [183] "America/Port_of_Spain"            "America/Porto_Acre"              </span>
<span class="co">#&gt; [185] "America/Porto_Velho"              "America/Puerto_Rico"             </span>
<span class="co">#&gt; [187] "America/Punta_Arenas"             "America/Rainy_River"             </span>
<span class="co">#&gt; [189] "America/Rankin_Inlet"             "America/Recife"                  </span>
<span class="co">#&gt; [191] "America/Regina"                   "America/Resolute"                </span>
<span class="co">#&gt; [193] "America/Rio_Branco"               "America/Rosario"                 </span>
<span class="co">#&gt; [195] "America/Santa_Isabel"             "America/Santarem"                </span>
<span class="co">#&gt; [197] "America/Santiago"                 "America/Santo_Domingo"           </span>
<span class="co">#&gt; [199] "America/Sao_Paulo"                "America/Scoresbysund"            </span>
<span class="co">#&gt; [201] "America/Shiprock"                 "America/Sitka"                   </span>
<span class="co">#&gt; [203] "America/St_Barthelemy"            "America/St_Johns"                </span>
<span class="co">#&gt; [205] "America/St_Kitts"                 "America/St_Lucia"                </span>
<span class="co">#&gt; [207] "America/St_Thomas"                "America/St_Vincent"              </span>
<span class="co">#&gt; [209] "America/Swift_Current"            "America/Tegucigalpa"             </span>
<span class="co">#&gt; [211] "America/Thule"                    "America/Thunder_Bay"             </span>
<span class="co">#&gt; [213] "America/Tijuana"                  "America/Toronto"                 </span>
<span class="co">#&gt; [215] "America/Tortola"                  "America/Vancouver"               </span>
<span class="co">#&gt; [217] "America/Virgin"                   "America/Whitehorse"              </span>
<span class="co">#&gt; [219] "America/Winnipeg"                 "America/Yakutat"                 </span>
<span class="co">#&gt; [221] "America/Yellowknife"              "Antarctica/Casey"                </span>
<span class="co">#&gt; [223] "Antarctica/Davis"                 "Antarctica/DumontDUrville"       </span>
<span class="co">#&gt; [225] "Antarctica/Macquarie"             "Antarctica/Mawson"               </span>
<span class="co">#&gt; [227] "Antarctica/McMurdo"               "Antarctica/Palmer"               </span>
<span class="co">#&gt; [229] "Antarctica/Rothera"               "Antarctica/South_Pole"           </span>
<span class="co">#&gt; [231] "Antarctica/Syowa"                 "Antarctica/Troll"                </span>
<span class="co">#&gt; [233] "Antarctica/Vostok"                "Arctic/Longyearbyen"             </span>
<span class="co">#&gt; [235] "Asia/Aden"                        "Asia/Almaty"                     </span>
<span class="co">#&gt; [237] "Asia/Amman"                       "Asia/Anadyr"                     </span>
<span class="co">#&gt; [239] "Asia/Aqtau"                       "Asia/Aqtobe"                     </span>
<span class="co">#&gt; [241] "Asia/Ashgabat"                    "Asia/Ashkhabad"                  </span>
<span class="co">#&gt; [243] "Asia/Atyrau"                      "Asia/Baghdad"                    </span>
<span class="co">#&gt; [245] "Asia/Bahrain"                     "Asia/Baku"                       </span>
<span class="co">#&gt; [247] "Asia/Bangkok"                     "Asia/Barnaul"                    </span>
<span class="co">#&gt; [249] "Asia/Beirut"                      "Asia/Bishkek"                    </span>
<span class="co">#&gt; [251] "Asia/Brunei"                      "Asia/Calcutta"                   </span>
<span class="co">#&gt; [253] "Asia/Chita"                       "Asia/Choibalsan"                 </span>
<span class="co">#&gt; [255] "Asia/Chongqing"                   "Asia/Chungking"                  </span>
<span class="co">#&gt; [257] "Asia/Colombo"                     "Asia/Dacca"                      </span>
<span class="co">#&gt; [259] "Asia/Damascus"                    "Asia/Dhaka"                      </span>
<span class="co">#&gt; [261] "Asia/Dili"                        "Asia/Dubai"                      </span>
<span class="co">#&gt; [263] "Asia/Dushanbe"                    "Asia/Famagusta"                  </span>
<span class="co">#&gt; [265] "Asia/Gaza"                        "Asia/Harbin"                     </span>
<span class="co">#&gt; [267] "Asia/Hebron"                      "Asia/Ho_Chi_Minh"                </span>
<span class="co">#&gt; [269] "Asia/Hong_Kong"                   "Asia/Hovd"                       </span>
<span class="co">#&gt; [271] "Asia/Irkutsk"                     "Asia/Istanbul"                   </span>
<span class="co">#&gt; [273] "Asia/Jakarta"                     "Asia/Jayapura"                   </span>
<span class="co">#&gt; [275] "Asia/Jerusalem"                   "Asia/Kabul"                      </span>
<span class="co">#&gt; [277] "Asia/Kamchatka"                   "Asia/Karachi"                    </span>
<span class="co">#&gt; [279] "Asia/Kashgar"                     "Asia/Kathmandu"                  </span>
<span class="co">#&gt; [281] "Asia/Katmandu"                    "Asia/Khandyga"                   </span>
<span class="co">#&gt; [283] "Asia/Kolkata"                     "Asia/Krasnoyarsk"                </span>
<span class="co">#&gt; [285] "Asia/Kuala_Lumpur"                "Asia/Kuching"                    </span>
<span class="co">#&gt; [287] "Asia/Kuwait"                      "Asia/Macao"                      </span>
<span class="co">#&gt; [289] "Asia/Macau"                       "Asia/Magadan"                    </span>
<span class="co">#&gt; [291] "Asia/Makassar"                    "Asia/Manila"                     </span>
<span class="co">#&gt; [293] "Asia/Muscat"                      "Asia/Nicosia"                    </span>
<span class="co">#&gt; [295] "Asia/Novokuznetsk"                "Asia/Novosibirsk"                </span>
<span class="co">#&gt; [297] "Asia/Omsk"                        "Asia/Oral"                       </span>
<span class="co">#&gt; [299] "Asia/Phnom_Penh"                  "Asia/Pontianak"                  </span>
<span class="co">#&gt; [301] "Asia/Pyongyang"                   "Asia/Qatar"                      </span>
<span class="co">#&gt; [303] "Asia/Qostanay"                    "Asia/Qyzylorda"                  </span>
<span class="co">#&gt; [305] "Asia/Rangoon"                     "Asia/Riyadh"                     </span>
<span class="co">#&gt; [307] "Asia/Saigon"                      "Asia/Sakhalin"                   </span>
<span class="co">#&gt; [309] "Asia/Samarkand"                   "Asia/Seoul"                      </span>
<span class="co">#&gt; [311] "Asia/Shanghai"                    "Asia/Singapore"                  </span>
<span class="co">#&gt; [313] "Asia/Srednekolymsk"               "Asia/Taipei"                     </span>
<span class="co">#&gt; [315] "Asia/Tashkent"                    "Asia/Tbilisi"                    </span>
<span class="co">#&gt; [317] "Asia/Tehran"                      "Asia/Tel_Aviv"                   </span>
<span class="co">#&gt; [319] "Asia/Thimbu"                      "Asia/Thimphu"                    </span>
<span class="co">#&gt; [321] "Asia/Tokyo"                       "Asia/Tomsk"                      </span>
<span class="co">#&gt; [323] "Asia/Ujung_Pandang"               "Asia/Ulaanbaatar"                </span>
<span class="co">#&gt; [325] "Asia/Ulan_Bator"                  "Asia/Urumqi"                     </span>
<span class="co">#&gt; [327] "Asia/Ust-Nera"                    "Asia/Vientiane"                  </span>
<span class="co">#&gt; [329] "Asia/Vladivostok"                 "Asia/Yakutsk"                    </span>
<span class="co">#&gt; [331] "Asia/Yangon"                      "Asia/Yekaterinburg"              </span>
<span class="co">#&gt; [333] "Asia/Yerevan"                     "Atlantic/Azores"                 </span>
<span class="co">#&gt; [335] "Atlantic/Bermuda"                 "Atlantic/Canary"                 </span>
<span class="co">#&gt; [337] "Atlantic/Cape_Verde"              "Atlantic/Faeroe"                 </span>
<span class="co">#&gt; [339] "Atlantic/Faroe"                   "Atlantic/Jan_Mayen"              </span>
<span class="co">#&gt; [341] "Atlantic/Madeira"                 "Atlantic/Reykjavik"              </span>
<span class="co">#&gt; [343] "Atlantic/South_Georgia"           "Atlantic/St_Helena"              </span>
<span class="co">#&gt; [345] "Atlantic/Stanley"                 "Australia/ACT"                   </span>
<span class="co">#&gt; [347] "Australia/Adelaide"               "Australia/Brisbane"              </span>
<span class="co">#&gt; [349] "Australia/Broken_Hill"            "Australia/Canberra"              </span>
<span class="co">#&gt; [351] "Australia/Currie"                 "Australia/Darwin"                </span>
<span class="co">#&gt; [353] "Australia/Eucla"                  "Australia/Hobart"                </span>
<span class="co">#&gt; [355] "Australia/LHI"                    "Australia/Lindeman"              </span>
<span class="co">#&gt; [357] "Australia/Lord_Howe"              "Australia/Melbourne"             </span>
<span class="co">#&gt; [359] "Australia/North"                  "Australia/NSW"                   </span>
<span class="co">#&gt; [361] "Australia/Perth"                  "Australia/Queensland"            </span>
<span class="co">#&gt; [363] "Australia/South"                  "Australia/Sydney"                </span>
<span class="co">#&gt; [365] "Australia/Tasmania"               "Australia/Victoria"              </span>
<span class="co">#&gt; [367] "Australia/West"                   "Australia/Yancowinna"            </span>
<span class="co">#&gt; [369] "Brazil/Acre"                      "Brazil/DeNoronha"                </span>
<span class="co">#&gt; [371] "Brazil/East"                      "Brazil/West"                     </span>
<span class="co">#&gt; [373] "Canada/Atlantic"                  "Canada/Central"                  </span>
<span class="co">#&gt; [375] "Canada/Eastern"                   "Canada/Mountain"                 </span>
<span class="co">#&gt; [377] "Canada/Newfoundland"              "Canada/Pacific"                  </span>
<span class="co">#&gt; [379] "Canada/Saskatchewan"              "Canada/Yukon"                    </span>
<span class="co">#&gt; [381] "CET"                              "Chile/Continental"               </span>
<span class="co">#&gt; [383] "Chile/EasterIsland"               "Cuba"                            </span>
<span class="co">#&gt; [385] "CST6CDT"                          "EET"                             </span>
<span class="co">#&gt; [387] "Egypt"                            "Eire"                            </span>
<span class="co">#&gt; [389] "EST"                              "EST5EDT"                         </span>
<span class="co">#&gt; [391] "Etc/GMT"                          "Etc/GMT-0"                       </span>
<span class="co">#&gt; [393] "Etc/GMT-1"                        "Etc/GMT-10"                      </span>
<span class="co">#&gt; [395] "Etc/GMT-11"                       "Etc/GMT-12"                      </span>
<span class="co">#&gt; [397] "Etc/GMT-13"                       "Etc/GMT-14"                      </span>
<span class="co">#&gt; [399] "Etc/GMT-2"                        "Etc/GMT-3"                       </span>
<span class="co">#&gt; [401] "Etc/GMT-4"                        "Etc/GMT-5"                       </span>
<span class="co">#&gt; [403] "Etc/GMT-6"                        "Etc/GMT-7"                       </span>
<span class="co">#&gt; [405] "Etc/GMT-8"                        "Etc/GMT-9"                       </span>
<span class="co">#&gt; [407] "Etc/GMT+0"                        "Etc/GMT+1"                       </span>
<span class="co">#&gt; [409] "Etc/GMT+10"                       "Etc/GMT+11"                      </span>
<span class="co">#&gt; [411] "Etc/GMT+12"                       "Etc/GMT+2"                       </span>
<span class="co">#&gt; [413] "Etc/GMT+3"                        "Etc/GMT+4"                       </span>
<span class="co">#&gt; [415] "Etc/GMT+5"                        "Etc/GMT+6"                       </span>
<span class="co">#&gt; [417] "Etc/GMT+7"                        "Etc/GMT+8"                       </span>
<span class="co">#&gt; [419] "Etc/GMT+9"                        "Etc/GMT0"                        </span>
<span class="co">#&gt; [421] "Etc/Greenwich"                    "Etc/UCT"                         </span>
<span class="co">#&gt; [423] "Etc/Universal"                    "Etc/UTC"                         </span>
<span class="co">#&gt; [425] "Etc/Zulu"                         "Europe/Amsterdam"                </span>
<span class="co">#&gt; [427] "Europe/Andorra"                   "Europe/Astrakhan"                </span>
<span class="co">#&gt; [429] "Europe/Athens"                    "Europe/Belfast"                  </span>
<span class="co">#&gt; [431] "Europe/Belgrade"                  "Europe/Berlin"                   </span>
<span class="co">#&gt; [433] "Europe/Bratislava"                "Europe/Brussels"                 </span>
<span class="co">#&gt; [435] "Europe/Bucharest"                 "Europe/Budapest"                 </span>
<span class="co">#&gt; [437] "Europe/Busingen"                  "Europe/Chisinau"                 </span>
<span class="co">#&gt; [439] "Europe/Copenhagen"                "Europe/Dublin"                   </span>
<span class="co">#&gt; [441] "Europe/Gibraltar"                 "Europe/Guernsey"                 </span>
<span class="co">#&gt; [443] "Europe/Helsinki"                  "Europe/Isle_of_Man"              </span>
<span class="co">#&gt; [445] "Europe/Istanbul"                  "Europe/Jersey"                   </span>
<span class="co">#&gt; [447] "Europe/Kaliningrad"               "Europe/Kiev"                     </span>
<span class="co">#&gt; [449] "Europe/Kirov"                     "Europe/Lisbon"                   </span>
<span class="co">#&gt; [451] "Europe/Ljubljana"                 "Europe/London"                   </span>
<span class="co">#&gt; [453] "Europe/Luxembourg"                "Europe/Madrid"                   </span>
<span class="co">#&gt; [455] "Europe/Malta"                     "Europe/Mariehamn"                </span>
<span class="co">#&gt; [457] "Europe/Minsk"                     "Europe/Monaco"                   </span>
<span class="co">#&gt; [459] "Europe/Moscow"                    "Europe/Nicosia"                  </span>
<span class="co">#&gt; [461] "Europe/Oslo"                      "Europe/Paris"                    </span>
<span class="co">#&gt; [463] "Europe/Podgorica"                 "Europe/Prague"                   </span>
<span class="co">#&gt; [465] "Europe/Riga"                      "Europe/Rome"                     </span>
<span class="co">#&gt; [467] "Europe/Samara"                    "Europe/San_Marino"               </span>
<span class="co">#&gt; [469] "Europe/Sarajevo"                  "Europe/Saratov"                  </span>
<span class="co">#&gt; [471] "Europe/Simferopol"                "Europe/Skopje"                   </span>
<span class="co">#&gt; [473] "Europe/Sofia"                     "Europe/Stockholm"                </span>
<span class="co">#&gt; [475] "Europe/Tallinn"                   "Europe/Tirane"                   </span>
<span class="co">#&gt; [477] "Europe/Tiraspol"                  "Europe/Ulyanovsk"                </span>
<span class="co">#&gt; [479] "Europe/Uzhgorod"                  "Europe/Vaduz"                    </span>
<span class="co">#&gt; [481] "Europe/Vatican"                   "Europe/Vienna"                   </span>
<span class="co">#&gt; [483] "Europe/Vilnius"                   "Europe/Volgograd"                </span>
<span class="co">#&gt; [485] "Europe/Warsaw"                    "Europe/Zagreb"                   </span>
<span class="co">#&gt; [487] "Europe/Zaporozhye"                "Europe/Zurich"                   </span>
<span class="co">#&gt; [489] "GB"                               "GB-Eire"                         </span>
<span class="co">#&gt; [491] "GMT"                              "GMT-0"                           </span>
<span class="co">#&gt; [493] "GMT+0"                            "GMT0"                            </span>
<span class="co">#&gt; [495] "Greenwich"                        "Hongkong"                        </span>
<span class="co">#&gt; [497] "HST"                              "Iceland"                         </span>
<span class="co">#&gt; [499] "Indian/Antananarivo"              "Indian/Chagos"                   </span>
<span class="co">#&gt; [501] "Indian/Christmas"                 "Indian/Cocos"                    </span>
<span class="co">#&gt; [503] "Indian/Comoro"                    "Indian/Kerguelen"                </span>
<span class="co">#&gt; [505] "Indian/Mahe"                      "Indian/Maldives"                 </span>
<span class="co">#&gt; [507] "Indian/Mauritius"                 "Indian/Mayotte"                  </span>
<span class="co">#&gt; [509] "Indian/Reunion"                   "Iran"                            </span>
<span class="co">#&gt; [511] "Israel"                           "Jamaica"                         </span>
<span class="co">#&gt; [513] "Japan"                            "Kwajalein"                       </span>
<span class="co">#&gt; [515] "Libya"                            "MET"                             </span>
<span class="co">#&gt; [517] "Mexico/BajaNorte"                 "Mexico/BajaSur"                  </span>
<span class="co">#&gt; [519] "Mexico/General"                   "MST"                             </span>
<span class="co">#&gt; [521] "MST7MDT"                          "Navajo"                          </span>
<span class="co">#&gt; [523] "NZ"                               "NZ-CHAT"                         </span>
<span class="co">#&gt; [525] "Pacific/Apia"                     "Pacific/Auckland"                </span>
<span class="co">#&gt; [527] "Pacific/Bougainville"             "Pacific/Chatham"                 </span>
<span class="co">#&gt; [529] "Pacific/Chuuk"                    "Pacific/Easter"                  </span>
<span class="co">#&gt; [531] "Pacific/Efate"                    "Pacific/Enderbury"               </span>
<span class="co">#&gt; [533] "Pacific/Fakaofo"                  "Pacific/Fiji"                    </span>
<span class="co">#&gt; [535] "Pacific/Funafuti"                 "Pacific/Galapagos"               </span>
<span class="co">#&gt; [537] "Pacific/Gambier"                  "Pacific/Guadalcanal"             </span>
<span class="co">#&gt; [539] "Pacific/Guam"                     "Pacific/Honolulu"                </span>
<span class="co">#&gt; [541] "Pacific/Johnston"                 "Pacific/Kanton"                  </span>
<span class="co">#&gt; [543] "Pacific/Kiritimati"               "Pacific/Kosrae"                  </span>
<span class="co">#&gt; [545] "Pacific/Kwajalein"                "Pacific/Majuro"                  </span>
<span class="co">#&gt; [547] "Pacific/Marquesas"                "Pacific/Midway"                  </span>
<span class="co">#&gt; [549] "Pacific/Nauru"                    "Pacific/Niue"                    </span>
<span class="co">#&gt; [551] "Pacific/Norfolk"                  "Pacific/Noumea"                  </span>
<span class="co">#&gt; [553] "Pacific/Pago_Pago"                "Pacific/Palau"                   </span>
<span class="co">#&gt; [555] "Pacific/Pitcairn"                 "Pacific/Pohnpei"                 </span>
<span class="co">#&gt; [557] "Pacific/Ponape"                   "Pacific/Port_Moresby"            </span>
<span class="co">#&gt; [559] "Pacific/Rarotonga"                "Pacific/Saipan"                  </span>
<span class="co">#&gt; [561] "Pacific/Samoa"                    "Pacific/Tahiti"                  </span>
<span class="co">#&gt; [563] "Pacific/Tarawa"                   "Pacific/Tongatapu"               </span>
<span class="co">#&gt; [565] "Pacific/Truk"                     "Pacific/Wake"                    </span>
<span class="co">#&gt; [567] "Pacific/Wallis"                   "Pacific/Yap"                     </span>
<span class="co">#&gt; [569] "Poland"                           "Portugal"                        </span>
<span class="co">#&gt; [571] "PRC"                              "PST8PDT"                         </span>
<span class="co">#&gt; [573] "ROC"                              "ROK"                             </span>
<span class="co">#&gt; [575] "Singapore"                        "Turkey"                          </span>
<span class="co">#&gt; [577] "UCT"                              "Universal"                       </span>
<span class="co">#&gt; [579] "US/Alaska"                        "US/Aleutian"                     </span>
<span class="co">#&gt; [581] "US/Arizona"                       "US/Central"                      </span>
<span class="co">#&gt; [583] "US/East-Indiana"                  "US/Eastern"                      </span>
<span class="co">#&gt; [585] "US/Hawaii"                        "US/Indiana-Starke"               </span>
<span class="co">#&gt; [587] "US/Michigan"                      "US/Mountain"                     </span>
<span class="co">#&gt; [589] "US/Pacific"                       "US/Samoa"                        </span>
<span class="co">#&gt; [591] "UTC"                              "W-SU"                            </span>
<span class="co">#&gt; [593] "WET"                              "Zulu"                            </span>
<span class="co">#&gt; attr(,"Version")</span>
<span class="co">#&gt; [1] "2021e"</span>

<span class="va">datum.1</span> <span class="op">&gt;</span> <span class="va">datum.2</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="va">datum.ido.1</span> <span class="op">&lt;=</span> <span class="va">datum.ido.2</span>
<span class="co">#&gt; [1] FALSE</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">datum.ido.1</span><span class="op">)</span>
<span class="co">#&gt; [1] 1640727417</span></code></pre></div>
<p>sec
Seconds (0–61)</p>
<p>min
Minutes (0–59)</p>
<p>hour
Hours (0–23)</p>
<p>mday
Day of the month (1–31)</p>
<p>mon
Month (0–11)</p>
<p>year
Years since 1900</p>
<p>wday
Day of the week (0–6, 0 = Sunday)</p>
<p>yday
Day of the year (0–365)</p>
<p>isdst
Daylight Saving Time flag</p>
</div>
</div>
<div id="az-r-nyelv-12-summary" class="section level3" number="5.4.3">
<h3>
<span class="header-section-number">5.4.3</span> Részösszefoglalás<a class="anchor" aria-label="anchor" href="#az-r-nyelv-12-summary"><i class="fas fa-link"></i></a>
</h3>
<div class="rmdsummary">

</div>
</div>
<div id="az-r-nyelv-12-exercise" class="section level3" number="5.4.4">
<h3>
<span class="header-section-number">5.4.4</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-12-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdexercise">
<ol style="list-style-type: decimal">
<li>Konvertáljuk dátummá a következő két sztringet: <code>"6November2020"</code>, <code>"2013-02-29"</code>! Utóbbi esetben mi lehet a hiba oka?</li>
<li>A <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> függvény <code>from=</code> és <code>to=</code> argumentuma a dátum típusú objektumokkal is működik. A <code>by=</code> argumentum értéke ilyenkor lehet numerikus (ekkor napokat jelent), de lehet <code>x weeks</code>, <code>x months</code> vagy <code>x years</code>, ahol <code>x</code> nullánál nagyobb egész lehet. Hozzunk létre egy dátum-vektort 2020 összes hétfőjének dátumával!</li>
</ol>
</div>
<!-- as.Date("6November2020","%d%B%Y") -->
<!-- d1<-as.Date("2020-01-06") -->
<!-- d2<-as.Date("2020-12-28") -->
<!-- x<-seq(from=d1, to=d2, by="weeks") -->
<!-- typeof(x) -->
<!-- class(x) -->
</div>
<div id="tibble" class="section level3" number="5.4.5">
<h3>
<span class="header-section-number">5.4.5</span> Tibble<a class="anchor" aria-label="anchor" href="#tibble"><i class="fas fa-link"></i></a>
</h3>
<p>A <em>Tidyverse R</em> használata során az adatainkat <em>tibble</em> típusú objektumban tároljuk. Használatához töltsük be a <strong>tidyverse</strong> csomagot.</p>
<div class="sourceCode" id="cb233"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>,<span class="st">'B'</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">4</span><span class="op">)</span>; <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">9</span>, times<span class="op">=</span><span class="fl">2</span><span class="op">)</span>; <span class="va">z</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>nev<span class="op">=</span><span class="va">x</span>, pont.1<span class="op">=</span><span class="va">y</span>, pont.2<span class="op">=</span><span class="va">z</span><span class="op">)</span>
<span class="va">df</span>
<span class="co">#&gt; # A tibble: 8 x 3</span>
<span class="co">#&gt;   nev   pont.1 pont.2</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1 A          6      1</span>
<span class="co">#&gt; 2 B          7      2</span>
<span class="co">#&gt; 3 A          8      3</span>
<span class="co">#&gt; 4 B          9      4</span>
<span class="co">#&gt; 5 A          6      5</span>
<span class="co">#&gt; 6 B          7      6</span>
<span class="co">#&gt; 7 A          8      7</span>
<span class="co">#&gt; 8 B          9      8</span></code></pre></div>
<p>A tibble objektumok alaptípusa lista, de az osztálytípusok között megjelennek a tibble-re specifikus osztályok is. A A <code>tbl_df</code> osztály jelenléte hozza magával azokat az új tulajdonságokat és lehetőségeket, amit a Tidyverse R központi adatszerkezetévé teszi ezt az objektumtípust.</p>
<div class="sourceCode" id="cb234"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $row.names</span>
<span class="co">#&gt; [1] 1 2 3 4 5 6 7 8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $names</span>
<span class="co">#&gt; [1] "nev"    "pont.1" "pont.2"</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; [1] "list"</span>
<span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></code></pre></div>
<p>A tibble és a data frame típusú objektumok között az átjárhatóságot az <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble()</a></code> és az <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> függvény biztosítja.</p>
<div class="sourceCode" id="cb235"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 8 x 3</span>
<span class="co">#&gt;   nev   pont.1 pont.2</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1 A          6      1</span>
<span class="co">#&gt; 2 B          7      2</span>
<span class="co">#&gt; 3 A          8      3</span>
<span class="co">#&gt; 4 B          9      4</span>
<span class="co">#&gt; 5 A          6      5</span>
<span class="co">#&gt; 6 B          7      6</span>
<span class="co">#&gt; 7 A          8      7</span>
<span class="co">#&gt; 8 B          9      8</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt;   nev pont.1 pont.2</span>
<span class="co">#&gt; 1   A      6      1</span>
<span class="co">#&gt; 2   B      7      2</span>
<span class="co">#&gt; 3   A      8      3</span>
<span class="co">#&gt; 4   B      9      4</span>
<span class="co">#&gt; 5   A      6      5</span>
<span class="co">#&gt; 6   B      7      6</span>
<span class="co">#&gt; 7   A      8      7</span>
<span class="co">#&gt; 8   B      9      8</span></code></pre></div>
<p>A tibble típus tesztelése az <code><a href="https://tibble.tidyverse.org/reference/is_tibble.html">is_tibble()</a></code> segítségével történik, de a tibble típusú objektumokra az <code><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame()</a></code> is igaz értékkel tér vissza:</p>
<div class="sourceCode" id="cb236"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/is_tibble.html">is_tibble</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Melyek a data frame és a tibble közötti különbségek? Már három eltérést akár észre is vehettünk. Az első a tibble létrehozásához kötődik. Egy tibble típusú objektum, csak azonos hosszúságú oszlopvektorokból hozható létre, így biztonságosabban konstruálható, mint az ismétlést is támogató data frame típusú objektumok. Tibble esetében csak az egy hosszú vektorok ismétlése megengedett. Tehát ez a konstrukció működik:</p>
<div class="sourceCode" id="cb237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, p<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 3 x 2</span>
<span class="co">#&gt;   a         p</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 a         1</span>
<span class="co">#&gt; 2 b         1</span>
<span class="co">#&gt; 3 c         1</span></code></pre></div>
<p>A második különbség, hogy a tibble a létrehozás során nem végez automatikus típuskonverziót. Tehát a karakteres vektorokat nem alakítja át faktorokká.</p>
<div class="sourceCode" id="cb238"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; tibble [8 x 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;  $ nev   : chr [1:8] "A" "B" "A" "B" ...</span>
<span class="co">#&gt;  $ pont.1: int [1:8] 6 7 8 9 6 7 8 9</span>
<span class="co">#&gt;  $ pont.2: int [1:8] 1 2 3 4 5 6 7 8</span></code></pre></div>
<p>A harmadik különbség az adatok megjelenítésében van. Tibble esetében csak az első 10 sor jelenik meg, és annyi oszlop, amennyi az aktuális képernyőre kifér. A több oszlop neve alul jelenik meg. Az oszlopnevek alatt az oszlop típusa is megjelenik.</p>
<p>A negyedik eltérés a tibble indexeléséhez kötődik. Az <code>[</code> operátor használata során minden esetben tibble típusú objektumot kapunk, nem kaphatunk vektort, azaz nem történhet dimenzióvesztés.</p>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">#&gt; # A tibble: 8 x 1</span>
<span class="co">#&gt;   pont.1</span>
<span class="co">#&gt;    &lt;int&gt;</span>
<span class="co">#&gt; 1      6</span>
<span class="co">#&gt; 2      7</span>
<span class="co">#&gt; 3      8</span>
<span class="co">#&gt; 4      9</span>
<span class="co">#&gt; 5      6</span>
<span class="co">#&gt; 6      7</span>
<span class="co">#&gt; 7      8</span>
<span class="co">#&gt; 8      9</span>
<span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;   nev   pont.1 pont.2</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1 A          6      1</span>
<span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">#&gt; # A tibble: 1 x 1</span>
<span class="co">#&gt;   pont.1</span>
<span class="co">#&gt;    &lt;int&gt;</span>
<span class="co">#&gt; 1      6</span>
<span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span>, drop<span class="op">=</span><span class="cn">T</span><span class="op">]</span>
<span class="co">#&gt; [1] 6</span></code></pre></div>
</div>
<div id="a-munkaterület-függvényei" class="section level3" number="5.4.6">
<h3>
<span class="header-section-number">5.4.6</span> A munkaterület függvényei<a class="anchor" aria-label="anchor" href="#a-munkater%C3%BClet-f%C3%BCggv%C3%A9nyei"><i class="fas fa-link"></i></a>
</h3>
<p>Megbeszéltük, hogy a munka során az objektumaink a memória speciális területére, a munkaterületre (workspace) kerülnek. Ha még korábban nem is hoztunk létre objektumot, akkor a következő három parancs, három objektumot hoz létre a munkaterületen:</p>
<div class="sourceCode" id="cb240"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fib.0</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="va">fib.1</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">fib.2</span> <span class="op">&lt;-</span> <span class="va">fib.0</span> <span class="op">+</span> <span class="va">fib.1</span></code></pre></div>
<p>A munkaterületen létrehozott objektumok neveit az <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> függvény listázza ki:</p>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ls()</span></code></pre></div>
<p>A munkaterületről objektumot az <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> paranccsal távolíthatunk el, például a</p>
<div class="sourceCode" id="cb242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">fib.0</span><span class="op">)</span>         <span class="co"># fib.0 törlése</span>
<span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;  [1] "a"               "alap"            "d"               "D"              </span>
<span class="co">#&gt;  [5] "datum.1"         "datum.2"         "datum.ido.1"     "datum.ido.2"    </span>
<span class="co">#&gt;  [9] "df"              "df2"             "df3"             "diff.1"         </span>
<span class="co">#&gt; [13] "diff.2"          "diff.3"          "diff.4"          "diff.5"         </span>
<span class="co">#&gt; [17] "egyutthato.a"    "egyutthato.b"    "egyutthato.c"    "eset.1"         </span>
<span class="co">#&gt; [21] "eset.2"          "eset.3"          "fib.1"           "fib.2"          </span>
<span class="co">#&gt; [25] "fiu"             "foglalkozas"     "hazas"           "ido.1"          </span>
<span class="co">#&gt; [29] "ido.2"           "import_example"  "isk.vegz"        "isk.vegz.f"     </span>
<span class="co">#&gt; [33] "iteletek"        "lakohely"        "lct"             "m"              </span>
<span class="co">#&gt; [37] "magassag"        "nev"             "nevek"           "obj.double"     </span>
<span class="co">#&gt; [41] "obj.integer"     "obj.karakteres"  "obj.logikai"     "peter.bmi"      </span>
<span class="co">#&gt; [45] "peter.magassaga" "peter.sulya"     "pontszamok"      "pulzus.atlag"   </span>
<span class="co">#&gt; [49] "Pulzus.atlag"    "regi.v.1"        "regi.v.2"        "szamok"         </span>
<span class="co">#&gt; [53] "tab1"            "tab2"            "tab3"            "table.kiir"     </span>
<span class="co">#&gt; [57] "tan.ido"         "tipus"           "uj.v"            "v.d"            </span>
<span class="co">#&gt; [61] "v.i"             "v.k"             "v.l"             "van.kocsija"    </span>
<span class="co">#&gt; [65] "x"               "x.d"             "x.f"             "x.f.1"          </span>
<span class="co">#&gt; [69] "x.f.2"           "x.f.3"           "y"               "z"              </span>
<span class="co">#&gt; [73] "z.uj"</span></code></pre></div>
<p>a <code>fib.0</code> objektumot távolította el, így az <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> eredményében ez nem is szerepel. Az összes munkaterület-objektum eltávolítása a</p>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># rm(list = ls())   # összes objektum törlése</span>
<span class="co"># ls()</span></code></pre></div>
<p>segítségével történik.</p>
</div>
<div id="a-munkakönyvtár-függvényei" class="section level3" number="5.4.7">
<h3>
<span class="header-section-number">5.4.7</span> A munkakönyvtár függvényei<a class="anchor" aria-label="anchor" href="#a-munkak%C3%B6nyvt%C3%A1r-f%C3%BCggv%C3%A9nyei"><i class="fas fa-link"></i></a>
</h3>
<p>Az R használata során mindig van egy kitüntetett, aktuális könyvtárunk, amelyet munkakönyvtárnak nevezünk. A munkakönyvtár célja, hogy az állományok nyitása és mentése során, ha nem használunk külön könyvtárhivatkozást, akkor ez lesz az alapértelmezett könyvtár.</p>
<p>A munkakönyvtár az R-ben lekérdezhető ill. beállítható a <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> és a <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> parancsok kiadásával. Például</p>
<div class="sourceCode" id="cb244"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/Data/peldak"</span><span class="op">)</span></code></pre></div>
<p>parancsokkal először megismerjük az aktuális könyvtárat, majd megváltoztatjuk a <code>C:/Data/peldak</code> könyvtárra. Figyeljük meg, hogy az elérési útban perjelet (<code>/</code>) használtunk.</p>
<p>Megjegyezzük, hogy az RStudio projekt üzemmódú használata során nincs szükség a munkakönyvtár beállítására a <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> paranccsal, sőt, kerüljük a használatát. A munkakönyvtárunk a munka során végig maradjon meg az alapértelmezetten beállított könyvtár, maga a projektkönyvtár.</p>
<p>A munkakönyvtár jelentőségét tovább növeli, hogy az R indításakor ebben a könyvtárban 2 állomány létezését figyeli:
* <code>.Rhistory</code> (a visszahívható parancsokat tartalmazó szöveges állomány)
* <code>.RData</code> (a tárolt objektumokat tartalmazó bináris állomány).</p>
<p>A fenti állományok ugyanis betöltésre kerülnek az R indításakor, ha azokat az R megtalálja a munkakönyvtárban. Így ezek után, az <code>.Rhistory</code> állományból jövő parancsok között válogathatunk a parancssor használata során, illetve az <code>.RData</code> állományban tárolt objektumok azonnal elérhetőek, vagyis lesz egy induló munkaterületünk.</p>
</div>
<div id="csomagkezelő-függvények" class="section level3" number="5.4.8">
<h3>
<span class="header-section-number">5.4.8</span> Csomagkezelő függvények<a class="anchor" aria-label="anchor" href="#csomagkezel%C5%91-f%C3%BCggv%C3%A9nyek"><i class="fas fa-link"></i></a>
</h3>
<p>Korábban megbeszéltük, hogy a csomagok adatobjektumokat és függvényeket tartalmaznak. Az ún. egyéb csomagok (számuk kb. 17000) elsődleges célja az <em>Alap R</em> tudásának kiegészítése.</p>
<p>Az R indítása után néhány csomag automatikusan betöltésre kerül a standard csomagok közül. Ezeket a csomagokat és egyéb ún. környezeteket listázhatunk ki a <code><a href="https://rdrr.io/r/base/search.html">search()</a></code> függvénnyel.</p>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="st">"tools:rstudio"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## [1] ".GlobalEnv"        "package:stats"     "package:graphics" </span>
<span class="co">## [4] "package:grDevices" "package:utils"     "package:datasets" </span>
<span class="co">## [7] "package:methods"   "Autoloads"         "package:base"</span></code></pre></div>
<p>A fenti eredményben a <code>package</code> karaktersorozattal kezdődő elemek mutatják, hogy melyek az éppen betöltött csomagok. A listában nem szereplő, de korábban telepített csomagok betöltéséhez használjuk a <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> vagy <code><a href="https://rdrr.io/r/base/library.html">require()</a></code> függvényeket.</p>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://svn.r-project.org/R-packages/trunk/foreign/">foreign</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/search.html">search</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">##  [1] ".GlobalEnv"        "package:foreign"   "package:MASS"     </span>
<span class="co">##  [4] "package:stats"     "package:graphics"  "package:grDevices"</span>
<span class="co">##  [7] "package:utils"     "package:datasets"  "package:methods"  </span>
<span class="co">## [10] "Autoloads"         "package:base"  </span></code></pre></div>
<p>A fenti példában a <strong>MASS</strong> és a <strong>foreign</strong> csomag betöltését és annak hatását követhetjük nyomon a <code><a href="https://rdrr.io/r/base/search.html">search()</a></code> függvény ouputjára. Egy csomag betöltése azt jelenti, hogy a csomagban lévő függvények és objektumok a memóriába kerültek, azokat a parancsainkban ezután szabadon felhasználhatjuk.</p>
<p>Egy adott csomagban (esetünkben a <strong>foreign</strong> csomagban) lévő függvények és objektumok a</p>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span>help<span class="op">=</span><span class="va">foreign</span><span class="op">)</span></code></pre></div>
<p>vagy a</p>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/help.html">help</a></span><span class="op">(</span>package<span class="op">=</span><span class="va">foreign</span><span class="op">)</span></code></pre></div>
<p>paranccsal kérdezhetők le. Betöltött csomagok esetében használhatjuk az</p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"package:foreign"</span>, all.names <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"package:base"</span>, all.names <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<p>parancsot is, amely a csomag adatobjektumainak és függvényeinek a nevét listázza.</p>
<p>Betöltött csomagot a <code><a href="https://rdrr.io/r/base/detach.html">detach()</a></code> függvénnyel távolíthatunk el a memóriából:</p>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">package</span><span class="op">:</span><span class="va">foreign</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">package</span><span class="op">:</span><span class="va">MASS</span><span class="op">)</span></code></pre></div>
<p>Ha a használni kívánt csomag még nincs telepítve a számítógépünkre, akkor az @ref(Csomagok_telepitese) fejezetben ismertetett módok egyikét válasszuk, attól függően, hogy a csomag melyik tárhelyről érhető el.</p>
<p>A CRAN-ról elérhető csomagok közül telepítsük fel a <strong>DescTools</strong> és <strong>psych</strong> csomagokat:</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"DescTools"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"psych"</span><span class="op">)</span></code></pre></div>
<p>A számítógépünkön telepített csomagokról az <code><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages()</a></code> függvény ad tájékoztatást. Amennyiben a</p>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">csomagok</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">csomagok</span><span class="op">)</span>                    <span class="co"># RStudio-ban vagy RGui-ban</span></code></pre></div>
<p>parancsot kiadjuk az RStudio-ban, akkor csomagjainkat kényelmesen áttekinthetjük.</p>
<p>Csomagok frissítésére használjuk a már korábban említett</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/update.packages.html">update.packages</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>parancsot.</p>
</div>
<div id="az-r-nyelv-14-exercise" class="section level3" number="5.4.9">
<h3>
<span class="header-section-number">5.4.9</span> Feladatok<a class="anchor" aria-label="anchor" href="#az-r-nyelv-14-exercise"><i class="fas fa-link"></i></a>
</h3>

<div class="rmdlevel1">
<ol style="list-style-type: decimal">
<li>Írassuk ki a munkaterület objektumait!</li>
<li>Hozzunk létre egy <code>pulzus</code> nevű objektumot és újra írassuk ki a munkaterület objektumneveit!</li>
<li>Távolítsuk el a <code>pulzus</code> objektumot a munkaterületről!</li>
<li>Határozzuk meg az aktuális munkakönyvtárat!</li>
<li>Növeljük meg a betű méretét az RGui, az R Commander és az R Studio alkalmazásokban is!</li>
<li>Vizsgáljuk meg, hogy a számítógépünkön van-e telepítve a <strong>DescTools</strong> csomag, ha nincs telepítsük! Derítsük ki, hogy a <strong>DescTools</strong> csomagnak mi a célja? Soroljunk fel három függvényt és adattáblát ebből a csomagból! Távolítsuk el a memóriából a <strong>DescTools</strong> csomagot!</li>
<li>Telepítsük a számítógépünkre a következő csomagokat: <strong>HSAUR2</strong>, <strong>psych</strong>, <strong>prettyR</strong>, <strong>descr</strong> és <strong>pastecs</strong>!</li>
</ol>
</div>
</div>
</div>
<div id="objektumok-és-típusok" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Objektumok és típusok<a class="anchor" aria-label="anchor" href="#objektumok-%C3%A9s-t%C3%ADpusok"><i class="fas fa-link"></i></a>
</h2>
<p>Az R-ben használható objektumok név-érték párok, vagyis minden objektumnak van neve és értéke. Objektumok alatt ebben a könyvben az adatobjektumokat értjük, bár már említettünk, hogy valójában a függvények is objektumoknak tekinthetők az R-ben, hiszen a függvénynek is van neve, és értéke, az utóbbi pedig utasítások sorozata. Az R-ben minden objektum, például az eddig vizsgált vektorok, attribútumokkal is rendelkezhetnek. Az attribútumok név-értek párok, amelyek speciális tulajdonságokkal ruházzák fel az objektumunkat. Például a <code>names</code> nevű attribútummal a vektor egyes elemeit nevezhetjük el. Későbbiekben látjuk a <code>dim</code>, <code>dimnames</code>, <code>level</code> és <code>class</code> attribútumok jelentőségét is.</p>
<p>Egy objektum összes attribútuma az <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code> függvénnyel kérdezhetők le. Ha a <code>names</code> attribútumra vagyunk kíváncsiak a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvényt is használhatjuk. Ha létrehozunk egy <code>x</code> numerikus vektort, akkor</p>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>        <span class="co"># integer vektor</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>   <span class="co"># x attribútumainak kiírása </span>
<span class="co">#&gt; NULL</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>        <span class="co"># x name attribútumának kiírása</span>
<span class="co">#&gt; NULL</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"list"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "list"</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"length"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"integer"</span></code></pre></div>
<p>Az <code>x</code> numerikus vektornak nincsenek attribútumai. A <code>NULL</code> az általános, elem nélküli vektort jelenti. A fenti outputban szereplő két <code>NULL</code> esetünkben azt jelzi, hogy nem állítottunk be semmilyen attribútumot, így <code>names</code> attribútumot sem.</p>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span><span class="op">=</span><span class="fl">1</span>, <span class="st">"b"</span><span class="op">=</span><span class="fl">2</span>, <span class="st">"c"</span><span class="op">=</span><span class="fl">3</span>, <span class="st">"d"</span><span class="op">=</span><span class="fl">4</span>, <span class="st">"e"</span><span class="op">=</span><span class="fl">5</span><span class="op">)</span> <span class="co"># integer vektor</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                  <span class="co"># x attribútumainak kiírása </span>
<span class="co">#&gt; $names</span>
<span class="co">#&gt; [1] "a" "b" "c" "d" "e"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                       <span class="co"># x name attribútumának kiírása</span>
<span class="co">#&gt; [1] "a" "b" "c" "d" "e"</span></code></pre></div>
<p>A <code>names</code> attribútum beállítható a <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> függvénnyel is.</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"elégtelen"</span>, <span class="st">"elégséges"</span>, <span class="st">"közepes"</span>, <span class="st">"jó"</span>, <span class="st">"jeles"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                  <span class="co"># x attribútumainak kiírása </span>
<span class="co">#&gt; $names</span>
<span class="co">#&gt; [1] "elégtelen" "elégséges" "közepes"   "jó"        "jeles"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>                       <span class="co"># x name attribútumának kiírása</span>
<span class="co">#&gt; [1] "elégtelen" "elégséges" "közepes"   "jó"        "jeles"</span></code></pre></div>
<p>A <code>names</code> attribútum értéke karakteres vektor lehet, amely az outputokban is megjelenik és a indexelésben is felhasználhatjuk.</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span>
<span class="co">#&gt; elégtelen elégséges   közepes        jó     jeles </span>
<span class="co">#&gt;         1         2         3         4         5</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"közepes"</span>, <span class="st">"jó"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; közepes      jó </span>
<span class="co">#&gt;       3       4</span></code></pre></div>
<p>Rögzítsük a (0, 1, 2) értékek előfordulási gyakoriságait a (18, 12, 20) elemeket tartalmazó vektorban. Az elemek nevei most is karakteres konstansok lesznek, az automatikus konverzióról az R gondoskodik.</p>
<div class="sourceCode" id="cb260"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">12</span>, <span class="fl">20</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">2</span>
<span class="va">y</span>
<span class="co">#&gt;  0  1  2 </span>
<span class="co">#&gt; 18 12 20</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] "0" "1" "2"</span></code></pre></div>
<p>Az <code>y</code> vektor indexelésénél fontos, hogy megkülönböztessük a numerikus és a karakteres indexeket, az utóbbiaknál mindig idézőjelet kell használnunk.</p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt; elégtelen </span>
<span class="co">#&gt;         1</span>
<span class="va">x</span><span class="op">[</span><span class="st">"1"</span><span class="op">]</span>
<span class="co">#&gt; &lt;NA&gt; </span>
<span class="co">#&gt;   NA</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span>; <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"2"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; elégtelen   közepes </span>
<span class="co">#&gt;         1         3</span>
<span class="co">#&gt; &lt;NA&gt; &lt;NA&gt; </span>
<span class="co">#&gt;   NA   NA</span></code></pre></div>
<p>Egyetlen attribútum lekérdezésére és beállítására az <code><a href="https://rdrr.io/r/base/attr.html">attr()</a></code> függvényt is használhatjuk. Az <code><a href="https://rdrr.io/r/base/attr.html">attr()</a></code> függvényben meg kell adnunk az elérendő attribútum nevét is.</p>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"names"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"names"</span><span class="op">)</span>
<span class="co">#&gt; [1] "A" "B" "C" "D" "E"</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $names</span>
<span class="co">#&gt; [1] "A" "B" "C" "D" "E"</span></code></pre></div>
<p>Attribútumok törlésére a <code>NULL</code> értéket használjuk.</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>             <span class="co"># names attribútum törlése</span>
<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"names"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>     <span class="co"># names attribútum törlése</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>        <span class="co"># az összes attribútum törlése</span></code></pre></div>
<p>A <code>dim</code> argumentum</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>                      <span class="co"># integer vektor</span>
<span class="va">x</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12</span>
<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"dim"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">6</span><span class="op">)</span>       <span class="co"># integer mátrix (2x6-os)       </span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $dim</span>
<span class="co">#&gt; [1] 2 6</span>
<span class="va">x</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6]</span>
<span class="co">#&gt; [1,]    1    3    5    7    9   11</span>
<span class="co">#&gt; [2,]    2    4    6    8   10   12</span>
<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"dim"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>   <span class="co"># integer tömb (2x3x2-es)</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $dim</span>
<span class="co">#&gt; [1] 2 3 2</span>
<span class="va">x</span>
<span class="co">#&gt; , , 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    3    5</span>
<span class="co">#&gt; [2,]    2    4    6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; , , 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    7    9   11</span>
<span class="co">#&gt; [2,]    8   10   12</span></code></pre></div>
<p>Amennyiben</p>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>                      <span class="co"># integer vektor</span>
<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"dim"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">6</span><span class="op">)</span>       <span class="co"># integer mátrix (2x6-os)       </span>
<span class="fu"><a href="https://rdrr.io/r/base/dimnames.html">dimnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>nem<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"férfi"</span>, <span class="st">"nő"</span><span class="op">)</span>, osztaly<span class="op">=</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span>        
<span class="va">x</span>
<span class="co">#&gt;        osztaly</span>
<span class="co">#&gt; nem     A B C D  E  F</span>
<span class="co">#&gt;   férfi 1 3 5 7  9 11</span>
<span class="co">#&gt;   nő    2 4 6 8 10 12</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $dim</span>
<span class="co">#&gt; [1] 2 6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $dimnames</span>
<span class="co">#&gt; $dimnames$nem</span>
<span class="co">#&gt; [1] "férfi" "nő"   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $dimnames$osztaly</span>
<span class="co">#&gt; [1] "A" "B" "C" "D" "E" "F"</span></code></pre></div>
<p>Osztályok</p>
<p>A faktor ennek megfelelően tartalmaz egy <code>levels</code> attribútumot, amely a faktor különböző értékeit (szintjeit) sorolja fel. A faktorok <code>class</code> attribútumának értéke pedig <code>factor</code>.</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"a"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "a" "b"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "factor"</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
<span class="co">#&gt; [1] "a" "b"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
<span class="co">#&gt; [1] "factor"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="co">#attributes(f)&lt;- NULL</span>
<span class="co">#f</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 1</span>
<span class="co">#&gt; attr(,"levels")</span>
<span class="co">#&gt; [1] "a" "b"</span></code></pre></div>
<p>A <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> függvény az objektum <code>class</code> argumentumával tér vissza. Azok az objektumok, amelyek nem rendelkeznek <code>class</code> argumentummal, a <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> visszatérési értéke</p>
<ul>
<li>
<code>"numeric"</code>, ha az objektum <em>integer</em> vagy <em>double</em> vektor</li>
<li>
<code>"array"</code> és/vagy <code>"matrix"</code>, ha az objektum rendelkezik <code>dim</code> attributummal</li>
<li>más esetben a <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> visszatérési értékével.</li>
</ul>
<p>Az <code><a href="https://rdrr.io/r/base/class.html">unclass()</a></code> visszatérési értéke az az objektum, amelynek a <code>class</code> attribűtumát eltávolították.</p>
<p>A korábban tárgyat típusok mindegyike osztály: <em>Date</em>, <em>difftime</em>, <em>POSIXct</em>, <em>POSIXlt</em>, <em>table</em>.</p>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-12"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "Date"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "Date"</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-12"</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; Time difference of 656 days</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "difftime"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $units</span>
<span class="co">#&gt; [1] "days"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "difftime"</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ISOdatetime.html">ISOdate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span>, month <span class="op">=</span> <span class="fl">12</span>, day <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; [1] "2020-12-02 12:00:00 GMT"</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "POSIXct" "POSIXt" </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $tzone</span>
<span class="co">#&gt; [1] "GMT"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "POSIXct" "POSIXt"</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXlt</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; [1] "2020-12-02 12:00:00 GMT"</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $names</span>
<span class="co">#&gt; [1] "sec"   "min"   "hour"  "mday"  "mon"   "year"  "wday"  "yday"  "isdst"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "POSIXlt" "POSIXt" </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $tzone</span>
<span class="co">#&gt; [1] "GMT"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "POSIXlt" "POSIXt"</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  A  B  C </span>
<span class="co">#&gt; 44 24 32</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $dim</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $dimnames</span>
<span class="co">#&gt; $dimnames[[1]]</span>
<span class="co">#&gt; [1] "A" "B" "C"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "table"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "table"</span></code></pre></div>
<p>A listaelemek nevét a <code>x</code> lis <code>names</code> attribútuma tartalmazza, segítségével a többi elemnek is adhatunk értéket:</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "A" "B" "C"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "a" "b" "C"</span>
<span class="va">x</span>
<span class="co">#&gt;  a  b  C </span>
<span class="co">#&gt; 44 24 32</span></code></pre></div>
<div id="értékek-kizárása" class="section level4" number="5.5.0.1">
<h4>
<span class="header-section-number">5.5.0.1</span> Értékek kizárása<a class="anchor" aria-label="anchor" href="#%C3%A9rt%C3%A9kek-kiz%C3%A1r%C3%A1sa"><i class="fas fa-link"></i></a>
</h4>
<p>A faktor létrehozásánál gondoskodhatunk bizonyos értékek kizárásáról, olyan értékekről, amelyeket nem szeretnénk a faktorban felsorolni:</p>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] 1    2    3    4    5    &lt;NA&gt; 3    4    5    6   </span>
<span class="co">#&gt; Levels: 1 2 3 4 5 6</span></code></pre></div>
<p>Alapértelmezés szerint az <code>NA</code> értéket zárjuk ki a faktor szintjeiből, de ezt megváltoztathatjuk az <code>exclude=</code> paraméter használatával:</p>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>, exclude<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span>
<span class="co">#&gt;  [1] 1    2    3    4    5    &lt;NA&gt; 3    4    5    6   </span>
<span class="co">#&gt; Levels: 1 2 3 4 5 6 &lt;NA&gt;</span>
<span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>, exclude<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] 1    2    3    &lt;NA&gt; 5    &lt;NA&gt; 3    &lt;NA&gt; 5    6   </span>
<span class="co">#&gt; Levels: 1 2 3 5 6</span></code></pre></div>
<p>Ahogy látjuk a fenti példában, akár az <code>NA</code> értéket is bevonhatjuk a faktor szintjeibe, akár más értékeket is kizárhatunk az <code>NA</code>-n kívül.</p>
<p>Nézzük, hogyan tekint az R az adattáblára.</p>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#typeof(df); class(df); length(df)</span>
<span class="co">#is.list(df); is.matrix(df); is.data.frame(df)</span></code></pre></div>
<p>Az adattáblák alaptípusa <code>list</code>, osztálytípusa pedig <code>data.frame</code> a hossza pedig az alkotó (oszlop)vektorok/faktorok száma. Az adattáblára tehát tekinthetünk úgy, mint egy listára, melynek elemei az adattábla oszlopai lesznek.</p>
<p><strong>Feladat</strong></p>
<p>2<strong>3</strong>4
(2<strong>3)</strong>4
2<strong>(3</strong>4)</p>

</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="munka-az-r-ben.html"><span class="header-section-number">4</span> Munka az R-ben</a></div>
<div class="next"><a href="beolvasas.html"><span class="header-section-number">6</span> Beolvasás</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#az-r-nyelv"><span class="header-section-number">5</span> Az R nyelv</a></li>
<li>
<a class="nav-link" href="#adatobjektumok"><span class="header-section-number">5.1</span> Adatobjektumok</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#sz%C3%A1mol%C3%A1s-az-r-ben"><span class="header-section-number">5.1.1</span> Számolás az R-ben</a></li>
<li><a class="nav-link" href="#objektumok"><span class="header-section-number">5.1.2</span> Objektumok</a></li>
<li><a class="nav-link" href="#MegjegyzesazRben"><span class="header-section-number">5.1.3</span> Megjegyzések az R-ben</a></li>
<li><a class="nav-link" href="#az-r-nyelv-1-summary"><span class="header-section-number">5.1.4</span> Összefoglalás</a></li>
<li><a class="nav-link" href="#az-r-nyelv-1-exercise"><span class="header-section-number">5.1.5</span> Feladatok</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#f%C3%BCggv%C3%A9nyek"><span class="header-section-number">5.2</span> Függvények</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#a-f%C3%BCggv%C3%A9nyh%C3%ADv%C3%A1s-szab%C3%A1lyai"><span class="header-section-number">5.2.1</span> A függvényhívás szabályai</a></li>
<li><a class="nav-link" href="#a-kifejez%C3%A9s-fogalma"><span class="header-section-number">5.2.2</span> A kifejezés fogalma</a></li>
<li><a class="nav-link" href="#az-r-nyelv-2-summary"><span class="header-section-number">5.2.3</span> Összefoglalás</a></li>
<li><a class="nav-link" href="#az-r-nyelv-2-exercise"><span class="header-section-number">5.2.4</span> Feladatok</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#adatszerkezetek"><span class="header-section-number">5.3</span> Adatszerkezetek</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#konstansok"><span class="header-section-number">5.3.1</span> Konstansok</a></li>
<li><a class="nav-link" href="#adatszerkezetek-%C3%A1ttekint%C3%A9se"><span class="header-section-number">5.3.2</span> Adatszerkezetek áttekintése</a></li>
<li><a class="nav-link" href="#vektor"><span class="header-section-number">5.3.3</span> Vektor</a></li>
<li><a class="nav-link" href="#m%C3%A1trix"><span class="header-section-number">5.3.4</span> Mátrix</a></li>
<li><a class="nav-link" href="#faktor"><span class="header-section-number">5.3.5</span> Faktor</a></li>
<li><a class="nav-link" href="#listadefalf"><span class="header-section-number">5.3.6</span> Lista</a></li>
<li><a class="nav-link" href="#adatt%C3%A1bla"><span class="header-section-number">5.3.7</span> Adattábla</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#tov%C3%A1bbi-adatszerkezetek-%C3%A9s-f%C3%BCggv%C3%A9nyek"><span class="header-section-number">5.4</span> További adatszerkezetek és függvények</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#t%C3%B6mb%C3%B6k-%C3%A9s-t%C3%A1bl%C3%A1zatok"><span class="header-section-number">5.4.1</span> Tömbök és táblázatok</a></li>
<li><a class="nav-link" href="#d%C3%A1tum-%C3%A9s-id%C5%91"><span class="header-section-number">5.4.2</span> Dátum és idő</a></li>
<li><a class="nav-link" href="#az-r-nyelv-12-summary"><span class="header-section-number">5.4.3</span> Részösszefoglalás</a></li>
<li><a class="nav-link" href="#az-r-nyelv-12-exercise"><span class="header-section-number">5.4.4</span> Feladatok</a></li>
<li><a class="nav-link" href="#tibble"><span class="header-section-number">5.4.5</span> Tibble</a></li>
<li><a class="nav-link" href="#a-munkater%C3%BClet-f%C3%BCggv%C3%A9nyei"><span class="header-section-number">5.4.6</span> A munkaterület függvényei</a></li>
<li><a class="nav-link" href="#a-munkak%C3%B6nyvt%C3%A1r-f%C3%BCggv%C3%A9nyei"><span class="header-section-number">5.4.7</span> A munkakönyvtár függvényei</a></li>
<li><a class="nav-link" href="#csomagkezel%C5%91-f%C3%BCggv%C3%A9nyek"><span class="header-section-number">5.4.8</span> Csomagkezelő függvények</a></li>
<li><a class="nav-link" href="#az-r-nyelv-14-exercise"><span class="header-section-number">5.4.9</span> Feladatok</a></li>
</ul>
</li>
<li><a class="nav-link" href="#objektumok-%C3%A9s-t%C3%ADpusok"><span class="header-section-number">5.5</span> Objektumok és típusok</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/abarik/aeer/blob/master/05-Az-R-nyelv.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/abarik/aeer/edit/master/05-Az-R-nyelv.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Adatkezelés és egyváltozós elemzések R-ben</strong>" was written by Abari Kálmán. It was last built on 2021-12-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
