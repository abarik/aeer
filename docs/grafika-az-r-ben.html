<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>9 Grafika az R-ben | Adatkezelés és egyváltozós elemzések R-ben</title>
<meta name="author" content="Abari Kálmán">
<meta name="description" content="Ebben a fejezetben áttekintjük: az R grafikus rendszerei a hagyományos grafika alapfogalmai magasszintű és alacsonyszintű rajzfüggvények a hagyományos grafikában a ggplot2 rendszer alapelve ábrák...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="9 Grafika az R-ben | Adatkezelés és egyváltozós elemzések R-ben">
<meta property="og:type" content="book">
<meta property="og:url" content="https://abarik.github.io/aeer/grafika-az-r-ben.html">
<meta property="og:image" content="https://abarik.github.io/aeer/images/cover.jpg">
<meta property="og:description" content="Ebben a fejezetben áttekintjük: az R grafikus rendszerei a hagyományos grafika alapfogalmai magasszintű és alacsonyszintű rajzfüggvények a hagyományos grafikában a ggplot2 rendszer alapelve ábrák...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="9 Grafika az R-ben | Adatkezelés és egyváltozós elemzések R-ben">
<meta name="twitter:description" content="Ebben a fejezetben áttekintjük: az R grafikus rendszerei a hagyományos grafika alapfogalmai magasszintű és alacsonyszintű rajzfüggvények a hagyományos grafikában a ggplot2 rendszer alapelve ábrák...">
<meta name="twitter:image" content="https://abarik.github.io/aeer/images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68765210-2', 'auto');
      ga('send', 'pageview');

    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Adatkezelés és egyváltozós elemzések R-ben</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Üdvözöljük</a></li>
<li><a class="" href="eloszo.html">Előszó</a></li>
<li><a class="" href="itt-kezdodik.html"><span class="header-section-number">1</span> Itt kezdődik</a></li>
<li><a class="" href="mi-az-r.html"><span class="header-section-number">2</span> Mi az R?</a></li>
<li><a class="" href="az-r-telepitese.html"><span class="header-section-number">3</span> Az R telepítése</a></li>
<li><a class="" href="munka-az-r-ben.html"><span class="header-section-number">4</span> Munka az R-ben</a></li>
<li><a class="" href="az-r-nyelv.html"><span class="header-section-number">5</span> Az R nyelv</a></li>
<li><a class="" href="beolvasas.html"><span class="header-section-number">6</span> Beolvasás</a></li>
<li><a class="" href="adatmanipulacio.html"><span class="header-section-number">7</span> Adatmanipuláció</a></li>
<li><a class="" href="mutatok-tablazatok.html"><span class="header-section-number">8</span> Mutatók és táblázatok</a></li>
<li><a class="active" href="grafika-az-r-ben.html"><span class="header-section-number">9</span> Grafika az R-ben</a></li>
<li><a class="" href="irodalomjegyzek.html">Irodalomjegyzék</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/abarik/aeer">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="grafika-az-r-ben" class="section level1" number="9">
<h1>
<span class="header-section-number">9</span> Grafika az R-ben<a class="anchor" aria-label="anchor" href="#grafika-az-r-ben"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="images/ch_09_small.png" width="70%" style="display: block; margin: auto;"></div>

<div class="rmdlevel1">
<p>Ebben a fejezetben áttekintjük:</p>
<ul>
<li>az R grafikus rendszerei</li>
<li>a hagyományos grafika alapfogalmai</li>
<li>magasszintű és alacsonyszintű rajzfüggvények a hagyományos grafikában</li>
<li>a ggplot2 rendszer alapelve</li>
<li>ábrák létrehozása ggplot2-ben</li>
<li>ábrák mentése háttértárra</li>
</ul>
</div>
<p>Az R-ben több grafikus rendszer közül választhatunk, amikor az ábráink rajzolásához kezdünk. A hagyományos grafikus rendszer mellett elérhető az ún. grid grafikus rendszer, a trellis/lattice rendszer és a ggplot2 rendszer is. Az egyes rendszerek eltérő megközelítést használnak az ábrák létrehozásához, és természetesen különböző csomagok különböző függvényeit használják.</p>
<ul>
<li><p>A <em>hagyományos grafikus</em> rendszer az S nyelv grafikus rendszerének implementációja. A magasszintű grafikus függvények a komplett ábrák létrehozásért felelősek, az alacsony szintű függvényekkel pedig kisebb-nagyobb grafikus elemeket helyezhetünk a meglévő ábrára. Mindig “rárajzolunk” a meglévő elemekre, a későbbi módosításra vagy törlésre nincs lehetőségünk.</p></li>
<li><p>A <strong>grid</strong> csomagból elérhető grafikus rendszer grafikus primitívek rendkívül gazdag tárháza. Segítségükkel grafikus objektumokat építhetünk, amelyek az ábrától független reprezentációval rendelkeznek, így azok később módosíthatók. A saját koorditáta-rendszerrel rendelkező viewport-ok rendszere tetszőlegesen bonyolult ábrák létrehozását segíti. A grid rendszer maga nem tartalmaz statisztikai rajzfüggvényeket, de számos, a grid csomagra épülő rendszer igen (pl. lattice és ggplot2).</p></li>
<li><p>A <strong>lattice</strong> csomag grafikus rendszere az ún. trellis grafikus rendszer megvalósítása R-ben. A hagyományos grafikus rendszerhez képest rendkívül sok fejlesztést tartalmaz. A grid grafikus rendszerre épül, így hordozza annak rugalmasságát.</p></li>
<li><p>A <strong>ggplot2</strong> csomag grafikus rendszere kísérletet tesz arra, hogy a hagyományos és a lattice grafikus rendszer előnyös tulajdonságait ötvözze. Szintén a grid rendszerre épül. A <strong>ggplot2</strong> csomag a Tidyverse R része, így a modern R grafikus megjelenítőjének is tekinthetjük. A többi felsorolt grafikus rendszer az Alap R része.</p></li>
</ul>
<p>Jelen könyvben csak ggplot2 grafikus rendszert ismertetjük.</p>
<div id="a-modern-grafika-ggplot2" class="section level2" number="9.1">
<h2>
<span class="header-section-number">9.1</span> A modern grafika (ggplot2)<a class="anchor" aria-label="anchor" href="#a-modern-grafika-ggplot2"><i class="fas fa-link"></i></a>
</h2>
<p>A ggplot2 grafika teljesen más megközelítést használ az ábrák létrehozásához, mint az Alap R garfikus rendszerei. Nevét Leland Wilkinson Grammar of Graphics könyve után kapta,amely a grafika általános formális és strukturált leírására tett kísérletet. A ggplot2 grafika a Hadley Wickham által készített <strong>ggplot2</strong> csomaggal érhető el. A ggplot2 ábrák létrehozása némi tanulás után átlátható és következetes lesz, maguk az elkészült grafikák gyönyörűek és alkalmasak azonnali publikására.</p>
<p>Egy ggplot2 grafika három összetevőn alapul:</p>
<ul>
<li>
<em>adat</em>: A megjelenítés egy adattáblában alapul (tibble vagy data frame). Az adatoszlopok ennek megfelelően többnyire numerikus vektorok vagy faktorok.</li>
<li>
<em>megjelenés</em>: Az ábrán megjelenő elemek lehetséges paraméterei, például pont esetén az x és y koordináta, a szín, a méret vagy alak, oszlopok esetén például a magasság és kitöltő szín.</li>
<li>
<em>ábra elem</em>: Az ábrán megjelenő elemek, például pont, oszlop vagy vonal. Ezek határozzák meg végső soron az ábra típusát, így létrehozhatunk például pontdiagramot, oszlopdiagramot vagy hisztogramot, és vonal diagramot, de ezekből egy ábrán akár többet is felhasználhatunk.</li>
</ul>
<p>Nézzünk egy egyszerű példát! Hozzunk létre egy pontdiagramot a következő paranccsal:</p>
<div class="sourceCode" id="cb421"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">pont.1</span>, y<span class="op">=</span><span class="va">pont.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>A legtöbb ggplot2 ábra létrehozása a <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> függvénnyel indul, ahol a <code>data=</code> argumentum az <em>adat</em> részt tartalmazza, a <code>mapping=</code> argumentum pedig <em>megjelenés</em> paramétereit sorolja fel. Ehhez az <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> függvénnyt használjuk, amely adatoszlopok és a megjelenéshez tartozó paraméterek közötti kapcsolatot is megadja egyben. Az <em>ábra elemeit</em> <code>+</code> operátorral adjuk hozzá a <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> függvényhez, ez most a pontelemeket létrehozó <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code>.</p>
<p>A fenti parancs <em>adat</em> része egy 3 sorból és 4 oszlopból álló adattábla, amely egy karakteres (<code>csoport</code>) és három numerikus oszlopot (<code>pont.1</code>, <code>pont.2</code>, <code>pont.3</code>) tartalmaz.</p>
<div class="sourceCode" id="cb422"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/">tibble</a></span><span class="op">)</span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">csoport</span>, <span class="op">~</span><span class="va">pont.1</span>, <span class="op">~</span><span class="va">pont.2</span>, <span class="op">~</span><span class="va">pont.3</span>,</span>
<span>  <span class="st">"AA"</span>, <span class="fl">15</span>, <span class="fl">42</span>, <span class="fl">12</span>, </span>
<span>  <span class="st">"BB"</span>, <span class="fl">20</span>, <span class="fl">28</span>, <span class="fl">18</span>,</span>
<span>  <span class="st">"CC"</span>, <span class="fl">35</span>, <span class="fl">12</span>, <span class="fl">21</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Az ábra létrehozásához a <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> függvényt és a pontelemek hozzáadásához a <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> függvényt használjuk, az utóbbiban nincs is szükség argzmentumok megadására. A <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> első argumentuma a <code>data=d.tbl</code>, amely az adatösszetevőt tisztázza, a <code>mapping=</code> argumentumban az <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> függvényben az x és y megjelenítési paraméterekről gondoskodunk, a <code>pont.1</code> és <code>pont.2</code> oszlopok megadásával. Az x és y megjelenési paraméterek természetesen a hozzáadott pontok x és y koordinátáira vonatkoznak.</p>
<p>Természetesen a pontelemek helyett használhatunk oszlopelemeket is a <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a></code> segítségével, itt az x és y megjelenítési paraméterek az oszlop x koordinátáját és az oszlop magasságát jelentik.</p>
<div class="sourceCode" id="cb423"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">pont.1</span>, y<span class="op">=</span><span class="va">pont.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Ha a <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> ábraelemeket adjuk az ábrához, akkor az x és y paraméterek a vonalak létrehozásához használt pontok x és y koordinátái.</p>
<div class="sourceCode" id="cb424"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">pont.1</span>, y<span class="op">=</span><span class="va">pont.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Egyetlen ábrán akár mindhárom ábraelem (pont, oszlop, vonal) is megjelenhet:</p>
<div class="sourceCode" id="cb425"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">pont.1</span>, y<span class="op">=</span><span class="va">pont.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb426"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/ggpubr/">ggpubr</a></span><span class="op">)</span></span>
<span><span class="co"># Load data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"ToothGrowth"</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">ToothGrowth</span></span>
<span></span>
<span><span class="co"># Basic plot with summary statistics: mean_se</span></span>
<span><span class="co"># +++++++++++++++++++++++++++</span></span>
<span><span class="co"># Change point shapes by groups: "dose"</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, x <span class="op">=</span> <span class="st">"dose"</span>, y <span class="op">=</span> <span class="st">"len"</span>,</span>
<span>   shape <span class="op">=</span> <span class="st">"dose"</span>, size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>   add <span class="op">=</span> <span class="st">"mean_se"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb427"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Use mean_sd</span></span>
<span><span class="co"># Change error.plot to "crossbar"</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, x <span class="op">=</span> <span class="st">"dose"</span>, y <span class="op">=</span> <span class="st">"len"</span>,</span>
<span>   shape <span class="op">=</span> <span class="st">"dose"</span>, size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>   add <span class="op">=</span> <span class="st">"mean_sd"</span>, add.params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>   error.plot <span class="op">=</span> <span class="st">"crossbar"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-2.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb428"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span></span>
<span><span class="co"># Add summary statistics</span></span>
<span><span class="co"># ++++++++++++++++++++++++++</span></span>
<span></span>
<span><span class="co"># Add box plot</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, x <span class="op">=</span> <span class="st">"dose"</span>, y <span class="op">=</span> <span class="st">"len"</span>,</span>
<span> shape <span class="op">=</span> <span class="st">"dose"</span>, add <span class="op">=</span> <span class="st">"boxplot"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-3.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb429"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Add violin + mean_sd</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, x <span class="op">=</span> <span class="st">"dose"</span>, y <span class="op">=</span> <span class="st">"len"</span>,</span>
<span> shape <span class="op">=</span> <span class="st">"dose"</span>, add <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"violin"</span>, <span class="st">"mean_sd"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-4.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb430"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co"># Change colors</span></span>
<span><span class="co"># +++++++++++++++++++++++++++</span></span>
<span><span class="co"># Change colors by groups: dose</span></span>
<span><span class="co"># Use custom color palette</span></span>
<span> <span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"dose"</span>, <span class="st">"len"</span>,  shape <span class="op">=</span> <span class="st">"dose"</span>,</span>
<span>   color <span class="op">=</span> <span class="st">"dose"</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span><span class="op">)</span>,</span>
<span>   add <span class="op">=</span> <span class="st">"mean_sd"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-5.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb431"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span></span>
<span><span class="co"># Plot with multiple groups</span></span>
<span><span class="co"># +++++++++++++++++++++</span></span>
<span><span class="co"># Change shape and color by a second group : "supp"</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"dose"</span>, <span class="st">"len"</span>, shape <span class="op">=</span> <span class="st">"supp"</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"supp"</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-6.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb432"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Adjust point position</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"dose"</span>, <span class="st">"len"</span>, shape <span class="op">=</span> <span class="st">"supp"</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"supp"</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span><span class="op">)</span>,</span>
<span>  position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html">position_dodge</a></span><span class="op">(</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-7.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb433"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># You can also use position_jitterdodge()</span></span>
<span><span class="co"># but fill aesthetic is required</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"dose"</span>, <span class="st">"len"</span>,  shape <span class="op">=</span> <span class="st">"supp"</span>,</span>
<span>   color <span class="op">=</span> <span class="st">"supp"</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span><span class="op">)</span>,</span>
<span>   position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_jitterdodge.html">position_jitterdodge</a></span><span class="op">(</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-8.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb434"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Add boxplot</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggstripchart.html">ggstripchart</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"dose"</span>, <span class="st">"len"</span>, shape <span class="op">=</span> <span class="st">"supp"</span>,</span>
<span> color <span class="op">=</span> <span class="st">"supp"</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span><span class="op">)</span>,</span>
<span> add <span class="op">=</span> <span class="st">"boxplot"</span>, add.params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-9-9.png" width="90%" style="display: block; margin: auto;"></div>
<p>Az eddigiek alapján világos, hogy a megjelenési paraméterek</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="32%">
<col width="32%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th>Ábra elemek (<code>geom_*</code> függvény)</th>
<th>Kötelező megjelenési paraméter</th>
<th>Opcionális megjelenési paraméter</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline()</a></code></td>
<td>
<code>slope</code>, <code>intercept</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline()</a></code></td>
<td><code>yintercept</code></td>
<td>
<code>alpha</code>, <code>color</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline()</a></code></td>
<td><code>xintercept</code></td>
<td>
<code>alpha</code>, <code>color</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area()</a></code></td>
<td>
<code>x</code>, <code>ymin</code>, <code>ymax</code>
</td>
<td>
<code>alpha</code>, <code>colour</code>, <code>fill</code>, <code>group</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>colour</code>, <code>fill</code>, <code>group</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>colour</code>, <code>fill</code>, <code>group</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code></td>
<td>
<code>x</code>, <code>lower</code>, <code>middle</code>, <code>upper</code>, <code>ymax</code>, <code>ymin</code>)</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>group</code>, <code>linetype</code>, <code>shape</code>, <code>size</code>, <code>weight</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>group</code>, <code>linetype</code>, <code>size</code>, <code>weight</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>group</code>, <code>linetype</code>, <code>stroke</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code></td>
<td><code>x</code></td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>linetype</code>, <code>size</code>, <code>weight</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>shape</code>, <code>size</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>shape</code>, <code>size</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon()</a></code></td>
<td>
<code>x</code>, <code>ymax</code>, <code>ymin</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>linetype</code>, <code>size</code>
</td>
</tr>
<tr class="odd">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code></td>
<td>
<code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>color</code>, <code>fill</code>, <code>linetype</code>, <code>size</code>, <code>weight</code>
</td>
</tr>
<tr class="even">
<td><code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text()</a></code></td>
<td>
<code>label</code>, <code>x</code>, <code>y</code>
</td>
<td>
<code>alpha</code>, <code>angle</code>, <code>color</code>, <code>family</code>, <code>fontface</code>, <code>hjust</code>, <code>lineheight</code>, <code>size</code>, <code>vjust</code>
</td>
</tr>
</tbody>
</table></div>
<p>Más megjelenési paraméterekre is lehetünk hatással. Ha a szín és a pontméret jellemzőket is be akarjuk állítani, akkor az <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> függvényben a <code>colour=</code> és a <code>size=</code> argumentumoknak az adattábla egy-egy oszlopát kell megadnunk. Ilyen esetkben jelmagyarázat is megjelenik, amelynek az alapértelmezett pozícióját most expliciten is kiírtuk: <code>theme(legend.position = "right")</code>.</p>
<div class="sourceCode" id="cb435"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">pont.1</span>, y<span class="op">=</span><span class="va">pont.2</span>, colour<span class="op">=</span><span class="va">csoport</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">pont.1</span>, y<span class="op">=</span><span class="va">pont.2</span>, colour<span class="op">=</span><span class="va">csoport</span>, size<span class="op">=</span><span class="va">pont.3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-10-1.png" width="90%" style="display: block; margin: auto;"></div>
<p>Oszlopdiagram esetén használhatjuk a <code>fill=</code> vagy az <code>alpha=</code> argumentumokat, amelyekkel az egyes oszlopok kitöltőszínét és átlátszóságát tudjuk beállítani:</p>
<div class="sourceCode" id="cb436"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">csoport</span>, y<span class="op">=</span><span class="va">pont.2</span>, fill<span class="op">=</span><span class="va">csoport</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">csoport</span>, y<span class="op">=</span><span class="va">pont.2</span>, fill<span class="op">=</span><span class="va">csoport</span>, alpha<span class="op">=</span><span class="va">pont.3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;"></div>
<p>Néhány ábraelem esetében azonban nem ilyen egyértelmű az <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> függvényben megadott oszlopvektorok és a ábraelem megjelenési paramétere közötti összefüggés.</p>
<p>Tekintsük például a dobozdiagramot, amelyben a fenti táblázat szerint a <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code> ábraelem ígényli az˛<code>x</code>, <code>lower</code>, <code>middle</code>, <code>upper</code>, <code>ymax</code>, <code>ymin</code> megjelenési paraméterek beállítását. Azonban a lenti árákat sokkal egyszerűbb <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> paraméterezéssel hoztuk létre, szó sincs benne a fent felsoroltak megadásáról.</p>
<div class="sourceCode" id="cb437"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span></span>
<span><span class="va">data.file</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/abarik/rdata/raw/master/r_alapok/metacritic_games.csv"</span></span>
<span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_delim</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">data.file</span>, delim <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="va">d.tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">game</span>, <span class="va">platform</span>, <span class="va">genre</span>, <span class="va">rating</span>, <span class="va">metascore</span>, <span class="va">user_score</span><span class="op">)</span></span>
<span><span class="va">d.tbl</span></span>
<span><span class="co">#&gt; # A tibble: 5,699 × 6</span></span>
<span><span class="co">#&gt;    game                                    platform genre rating metas…¹ user_…²</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Portal 2                                PC       Acti… E10+        95      90</span></span>
<span><span class="co">#&gt;  2 The Elder Scrolls V: Skyrim             PC       Role… M           94      82</span></span>
<span><span class="co">#&gt;  3 The Legend of Zelda: Ocarina of Time 3D 3DS      Misc… E10+        94      90</span></span>
<span><span class="co">#&gt;  4 Batman: Arkham City                     PC       Acti… T           91      87</span></span>
<span><span class="co">#&gt;  5 Super Mario 3D Land                     3DS      Acti… E           90      84</span></span>
<span><span class="co">#&gt;  6 Deus Ex: Human Revolution               PC       Acti… M           90      85</span></span>
<span><span class="co">#&gt;  7 Pushmo                                  3DS      Misc… E           90      83</span></span>
<span><span class="co">#&gt;  8 Total War: Shogun 2                     PC       Stra… T           90      84</span></span>
<span><span class="co">#&gt;  9 FIFA Soccer 12                          PC       Spor… E           89      71</span></span>
<span><span class="co">#&gt; 10 Battlefield 3                           PC       Acti… M           89      76</span></span>
<span><span class="co">#&gt; # … with 5,689 more rows, and abbreviated variable names ¹​metascore,</span></span>
<span><span class="co">#&gt; #   ²​user_score</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">d.tbl</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">rating</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">d.tbl</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">rating</span>, y<span class="op">=</span><span class="va">user_score</span>, fill<span class="op">=</span><span class="va">platform</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>outlier.shape <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-12-1.png" width="90%" style="display: block; margin: auto;"></div>
<p>A kötelező megjelenési paramétereket a <code>geom_boxlot()</code> által meghívott <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">stat_boxplot()</a></code> függvény biztosítja, így nekünk ezekről nem kell gondoskodni, elegendő egyetlen numerikus vektort (<code>y=user_score</code>) vagy egy kategorikus és egy numerikus vektort (<code>x=rating, y=user_score</code>) megadni az <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> függvényben.</p>
<p>Léteznek tehát olyan grafikus elemek, amelyek változtatás nélkül képesek a bemenő adatok alapján a megjelenítési paramétereket beállítani, és léteznek olyanok is, amelyek a bemenő adatokat áttranszformálják egy köztes adattáblába, és a megjelnési paraméterek konkrét értékét innen veszik. A következő táblázat ezeket a statisztikai transzformációkat foglalja össze, csak azokat az ábraelemeket soroljuk fel, ahol történik transzformáció:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="17%">
<col width="31%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Ábraelem</th>
<th>Transzformáció</th>
<th>Létrehozott változók</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>geom_boxplot()</td>
<td>stat_boxplot()</td>
<td>width, ymin, lower, notchlower, middle, notchupper, upper, ymax</td>
</tr>
<tr class="even">
<td>geom_bar()</td>
<td>stat_count()</td>
<td>count, prop</td>
</tr>
<tr class="odd">
<td>geom_density()</td>
<td>stat_density()</td>
<td>density, count, scaled, ndensity</td>
</tr>
<tr class="even">
<td>geom_histogram() és geom_freqpoly</td>
<td>stat_bin()</td>
<td>count, density, ncount, ndensity</td>
</tr>
<tr class="odd">
<td>geom_violin()</td>
<td>stat_ydensity()</td>
<td>density, scaled, count, violinwidth, n, width</td>
</tr>
<tr class="even">
<td>geom_smooth()</td>
<td>stat_smooth()</td>
<td>y, ymin, ymax, se</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb438"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># egyezes &lt;- d.tbl$platform</span></span>
<span><span class="co"># tbl &lt;- data.frame(egyezes=egyezes)</span></span>
<span><span class="co"># ggplot(tbl, aes(x=egyezes, group=1)) + geom_bar(aes(y = ..count..)) +</span></span>
<span><span class="co">#   geom_text(aes( label = scales::percent(..prop..), y= ..prop.. ), stat= "count",  vjust = -.5) +</span></span>
<span><span class="co">#   scale_y_continuous(labels = scales::percent) +</span></span>
<span><span class="co">#   coord_cartesian(ylim = c(0, 1101)) + labs(x="Egyező gének száma", y="Előfordulás")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># ggplot(d.tbl, aes(x=factor(platform), y=user_score)) + geom_boxplot() +</span></span>
<span><span class="co">#   geom_text(aes(label = scales::percent(..lower..)), stat= "boxplot",  vjust = -.5) </span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://rpkgs.datanovia.com/ggpubr/">"ggpubr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span></span>
<span><span class="co"># Load data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">cyl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span>, <span class="st">"cyl"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;                  wt  mpg cyl</span></span>
<span><span class="co">#&gt; Mazda RX4     2.620 21.0   6</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag 2.875 21.0   6</span></span>
<span><span class="co">#&gt; Datsun 710    2.320 22.8   4</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># +++++++++++++++++++++++++++++++</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span> group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span>, <span class="st">"Child"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">25</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;    group value</span></span>
<span><span class="co">#&gt; 1   Male    25</span></span>
<span><span class="co">#&gt; 2 Female    25</span></span>
<span><span class="co">#&gt; 3  Child    50</span></span>
<span></span>
<span></span>
<span><span class="co"># Basic pie charts</span></span>
<span><span class="co"># ++++++++++++++++++++++++++++++++</span></span>
<span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggpie.html">ggpie</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"value"</span>, label <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-13-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb439"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co"># Change color</span></span>
<span><span class="co"># ++++++++++++++++++++++++++++++++</span></span>
<span></span>
<span><span class="co"># Change fill color by group</span></span>
<span><span class="co"># set line color to white</span></span>
<span><span class="co"># Use custom color palette</span></span>
<span> <span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggpie.html">ggpie</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"value"</span>, label <span class="op">=</span> <span class="st">"group"</span>,</span>
<span>      fill <span class="op">=</span> <span class="st">"group"</span>, color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>       palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-13-2.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb440"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co"># Change label</span></span>
<span><span class="co"># ++++++++++++++++++++++++++++++++</span></span>
<span></span>
<span><span class="co"># Show group names and value as labels</span></span>
<span><span class="va">labs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">group</span>, <span class="st">" ("</span>, <span class="va">df</span><span class="op">$</span><span class="va">value</span>, <span class="st">"%)"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggpie.html">ggpie</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"value"</span>, label <span class="op">=</span> <span class="va">labs</span>,</span>
<span>   fill <span class="op">=</span> <span class="st">"group"</span>, color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>   palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-13-3.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb441"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Change the position and font color of labels</span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggpie.html">ggpie</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"value"</span>, label <span class="op">=</span> <span class="va">labs</span>,</span>
<span>   lab.pos <span class="op">=</span> <span class="st">"in"</span>, lab.font <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>   fill <span class="op">=</span> <span class="st">"group"</span>, color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>   palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-13-4.png" width="90%" style="display: block; margin: auto;"></div>
<p>A következő példákhoz a következő csomagok betöltésére van szükség:</p>
<div class="sourceCode" id="cb442"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-16-1.png" width="90%" style="display: block; margin: auto;"></div>
<div id="dobozdiagram" class="section level3" number="9.1.1">
<h3>
<span class="header-section-number">9.1.1</span> Dobozdiagram<a class="anchor" aria-label="anchor" href="#dobozdiagram"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb443"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data.file</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/abarik/rdata/raw/master/r_alapok/metacritic_games.csv"</span></span>
<span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_delim</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">data.file</span>, delim <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="va">d.tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">game</span>, <span class="va">platform</span>, <span class="va">genre</span>, <span class="va">rating</span>, <span class="va">metascore</span>, <span class="va">user_score</span><span class="op">)</span></span>
<span><span class="va">d.tbl</span></span>
<span><span class="co">#&gt; # A tibble: 5,699 × 6</span></span>
<span><span class="co">#&gt;    game                                    platform genre rating metas…¹ user_…²</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Portal 2                                PC       Acti… E10+        95      90</span></span>
<span><span class="co">#&gt;  2 The Elder Scrolls V: Skyrim             PC       Role… M           94      82</span></span>
<span><span class="co">#&gt;  3 The Legend of Zelda: Ocarina of Time 3D 3DS      Misc… E10+        94      90</span></span>
<span><span class="co">#&gt;  4 Batman: Arkham City                     PC       Acti… T           91      87</span></span>
<span><span class="co">#&gt;  5 Super Mario 3D Land                     3DS      Acti… E           90      84</span></span>
<span><span class="co">#&gt;  6 Deus Ex: Human Revolution               PC       Acti… M           90      85</span></span>
<span><span class="co">#&gt;  7 Pushmo                                  3DS      Misc… E           90      83</span></span>
<span><span class="co">#&gt;  8 Total War: Shogun 2                     PC       Stra… T           90      84</span></span>
<span><span class="co">#&gt;  9 FIFA Soccer 12                          PC       Spor… E           89      71</span></span>
<span><span class="co">#&gt; 10 Battlefield 3                           PC       Acti… M           89      76</span></span>
<span><span class="co">#&gt; # … with 5,689 more rows, and abbreviated variable names ¹​metascore,</span></span>
<span><span class="co">#&gt; #   ²​user_score</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">platform</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">platform</span>, y<span class="op">=</span><span class="va">user_score</span>, fill<span class="op">=</span><span class="va">platform</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">d.tbl</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">platform</span>, y<span class="op">=</span><span class="va">user_score</span>, fill<span class="op">=</span><span class="va">rating</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>outlier.size <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-17-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb444"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gcookbook</span><span class="op">)</span>  <span class="co"># Load gcookbook for the pg_mean data set</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">pg_mean</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">group</span>, y <span class="op">=</span> <span class="va">weight</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-18-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb445"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data.file</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/abarik/rdata/raw/master/r_alapok/metacritic_games.csv"</span></span>
<span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_delim</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">data.file</span>, delim <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="va">d.tbl</span> <span class="op">&lt;-</span> <span class="va">d.tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">game</span>, <span class="va">platform</span>, <span class="va">genre</span>, <span class="va">metascore</span>, <span class="va">user_score</span><span class="op">)</span></span>
<span><span class="va">d.tbl</span></span>
<span><span class="co">#&gt; # A tibble: 5,699 × 5</span></span>
<span><span class="co">#&gt;    game                                    platform genre        metas…¹ user_…²</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Portal 2                                PC       Action            95      90</span></span>
<span><span class="co">#&gt;  2 The Elder Scrolls V: Skyrim             PC       Role-Playing      94      82</span></span>
<span><span class="co">#&gt;  3 The Legend of Zelda: Ocarina of Time 3D 3DS      Miscellaneo…      94      90</span></span>
<span><span class="co">#&gt;  4 Batman: Arkham City                     PC       Action Adve…      91      87</span></span>
<span><span class="co">#&gt;  5 Super Mario 3D Land                     3DS      Action            90      84</span></span>
<span><span class="co">#&gt;  6 Deus Ex: Human Revolution               PC       Action            90      85</span></span>
<span><span class="co">#&gt;  7 Pushmo                                  3DS      Miscellaneo…      90      83</span></span>
<span><span class="co">#&gt;  8 Total War: Shogun 2                     PC       Strategy          90      84</span></span>
<span><span class="co">#&gt;  9 FIFA Soccer 12                          PC       Sports            89      71</span></span>
<span><span class="co">#&gt; 10 Battlefield 3                           PC       Action            89      76</span></span>
<span><span class="co">#&gt; # … with 5,689 more rows, and abbreviated variable names ¹​metascore,</span></span>
<span><span class="co">#&gt; #   ²​user_score</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-19-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb446"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">1</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-19-2.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb447"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">metascore</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-19-3.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb448"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">platform</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-19-4.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb449"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">d.tbl</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">platform</span>, y<span class="op">=</span><span class="va">user_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-19-5.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb450"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rudeboybert/fivethirtyeight">fivethirtyeight</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">hate_crimes</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">share_vote_trump</span>, y <span class="op">=</span> <span class="va">hate_crimes_per_100k_splc</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">state_abbrev</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>se <span class="op">=</span> <span class="cn">FALSE</span>, method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Proportion of votes for Donald Trump"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Hate crimes per 100k during Nov 9-18, 2016 (SPLC)"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"Relationship between Trump support &amp; hate crimes"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-20-1.png" width="90%" style="display: block; margin: auto;"></div>
<blockquote>
<ol style="list-style-type: decimal">
<li>feladat. Hisztogram.<br>
Rajzoljunk hisztogramot a MASS csomag survey adattáblájának Height oszlopára! Vessük össze a normális eloszlás sűrűségfüggvényével is!</li>
</ol>
</blockquote>
</div>
<div id="hisztogram-rajzolása" class="section level3" number="9.1.2">
<h3>
<span class="header-section-number">9.1.2</span> Hisztogram rajzolása<a class="anchor" aria-label="anchor" href="#hisztogram-rajzol%C3%A1sa"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb451"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - alapértelmezett hisztogram </span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - hisztogram: binwidth=2</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p3 - hisztogram: binwidth=4 és színek beállítása</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span> binwidth<span class="op">=</span><span class="fl">4</span>, colour <span class="op">=</span> <span class="st">"blue"</span>, fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="gyakorisági-poligon-simított-hisztogram-és-összevetés-a-normális-eloszlás-sűrűségfüggvényével" class="section level3" number="9.1.3">
<h3>
<span class="header-section-number">9.1.3</span> Gyakorisági poligon, simított hisztogram és összevetés a normális eloszlás sűrűségfüggvényével<a class="anchor" aria-label="anchor" href="#gyakoris%C3%A1gi-poligon-sim%C3%ADtott-hisztogram-%C3%A9s-%C3%B6sszevet%C3%A9s-a-norm%C3%A1lis-eloszl%C3%A1s-s%C5%B1r%C5%B1s%C3%A9gf%C3%BCggv%C3%A9ny%C3%A9vel"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb452"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - hisztogram és gyakorisági poligon</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"blue"</span>, fill <span class="op">=</span> <span class="st">"white"</span>, binwidth<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_freqpoly</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">4</span>, size<span class="op">=</span><span class="fl">1</span>, colour<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - hisztogram és a normális eloszlás sűrűségfüggvénye</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">..density..</span><span class="op">)</span>, colour<span class="op">=</span><span class="st">"blue"</span>, fill<span class="op">=</span><span class="st">"white"</span>, binwidth<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html">stat_function</a></span><span class="op">(</span>fun<span class="op">=</span><span class="va">dnorm</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Height</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>                                             sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Height</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                      colour<span class="op">=</span><span class="st">"red"</span>, size<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p3 - simított hisztogram és a normális eloszlás sűrűségfüggvénye</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>colour<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html">stat_function</a></span><span class="op">(</span>fun<span class="op">=</span><span class="va">dnorm</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Height</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>                                             sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Height</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                      colour<span class="op">=</span><span class="st">"red"</span>, size<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-23-1.png" width="90%" style="display: block; margin: auto;"></div>
<blockquote>
<ol start="2" style="list-style-type: decimal">
<li>feladat. Hisztogram csoportokra.<br>
Rajzoljunk hisztogramot a MASS csomag survey adattáblájának Height oszlopára az Exer különböző csoportjaiban!</li>
</ol>
</blockquote>
</div>
<div id="hisztogram-csoportokra" class="section level3" number="9.1.4">
<h3>
<span class="header-section-number">9.1.4</span> Hisztogram csoportokra<a class="anchor" aria-label="anchor" href="#hisztogram-csoportokra"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb453"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - hisztogramok egymás alá</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"blue"</span>, fill <span class="op">=</span> <span class="st">"white"</span>, binwidth<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Exer</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - hisztogramok táblázatszerűen</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"blue"</span>, fill <span class="op">=</span> <span class="st">"white"</span>, binwidth<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Exer</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-24-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="gyakorisági-poligon-és-simított-hisztogram-csoportokra-de-egy-ábrán" class="section level3" number="9.1.5">
<h3>
<span class="header-section-number">9.1.5</span> Gyakorisági poligon és simított hisztogram csoportokra, de egy ábrán<a class="anchor" aria-label="anchor" href="#gyakoris%C3%A1gi-poligon-%C3%A9s-sim%C3%ADtott-hisztogram-csoportokra-de-egy-%C3%A1br%C3%A1n"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb454"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - gyakorisági poligonok egy ábrán</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span>, y<span class="op">=</span><span class="va">..density..</span>, colour <span class="op">=</span> <span class="va">Exer</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_freqpoly</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">4</span>, size<span class="op">=</span><span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"top"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - simított hisztogramok egy ábrán</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span>, colour <span class="op">=</span> <span class="va">Exer</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"top"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p3 - simított hisztogram kitöltéssel egy ábrán</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span>, fill <span class="op">=</span> <span class="va">Exer</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.2</span>, size<span class="op">=</span><span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"top"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-25-1.png" width="90%" style="display: block; margin: auto;"></div>
<blockquote>
<ol start="3" style="list-style-type: decimal">
<li>feladat. Dobozdiagram.<br>
Rajzoljunk hisztogramot a MASS csomag survey adattáblájának Pulse oszlopára a Smoke egyes csoportjaiban, valamint vegyük figyelembe a Sex változó értékeit is!</li>
</ol>
</blockquote>
<div class="sourceCode" id="cb455"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - dobozdiagram a Smoke csoportjaira</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Smoke</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Smoke</span>, y<span class="op">=</span><span class="va">Pulse</span>, fill<span class="op">=</span><span class="va">Smoke</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"top"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - dobozdiagram a Smoke csoportjaira a Sex figyelembevételével</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Smoke</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span>,<span class="op">]</span>, </span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Smoke</span>, y<span class="op">=</span><span class="va">Pulse</span>, fill<span class="op">=</span><span class="va">Smoke</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>fill<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Sex</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-26-1.png" width="90%" style="display: block; margin: auto;"></div>
<blockquote>
<ol start="4" style="list-style-type: decimal">
<li>feladat. Átlagok ábrázolása.<br>
Rajzoljunk hisztogramot a MASS csomag survey adattáblájának Height oszlopára!</li>
</ol>
</blockquote>
</div>
<div id="átlagok-egy-faktor-esetén" class="section level3" number="9.1.6">
<h3>
<span class="header-section-number">9.1.6</span> Átlagok egy faktor esetén<a class="anchor" aria-label="anchor" href="#%C3%A1tlagok-egy-faktor-eset%C3%A9n"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb456"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - oszlopdiagram az átlagokra 95%-os konfidencia intervallummal I.</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Smoke</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Smoke</span>, y<span class="op">=</span><span class="va">Pulse</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"bar"</span>, fill<span class="op">=</span><span class="st">"white"</span>, colour<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"pointrange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># p2 - oszlopdiagram az átlagokra 95%-os konfidencia intervallummal II.</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Smoke</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Smoke</span>, y<span class="op">=</span><span class="va">Pulse</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"bar"</span>, fill<span class="op">=</span><span class="st">"#95b0ff"</span>, colour<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"errorbar"</span>, width<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># p3 - vonaldiagram az átlagokra 95%-os konfidencia intervallummal</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Smoke</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Smoke</span>, y<span class="op">=</span><span class="va">Pulse</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"point"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"line"</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>group<span class="op">=</span><span class="fl">1</span><span class="op">)</span>, colour<span class="op">=</span><span class="st">"blue"</span>, linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"errorbar"</span>, width<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-27-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="átlagok-két-faktor-esetén" class="section level3" number="9.1.7">
<h3>
<span class="header-section-number">9.1.7</span> Átlagok két faktor esetén<a class="anchor" aria-label="anchor" href="#%C3%A1tlagok-k%C3%A9t-faktor-eset%C3%A9n"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb457"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - oszlopdiagram az átlagokra 95%-os konfidencia intervallummal I.</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span>,<span class="op">]</span>, </span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Exer</span>, y<span class="op">=</span><span class="va">Pulse</span>, fill<span class="op">=</span><span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"bar"</span>, position<span class="op">=</span><span class="st">"dodge"</span>, colour<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"errorbar"</span>, </span>
<span>                     position<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html">position_dodge</a></span><span class="op">(</span>width<span class="op">=</span><span class="fl">0.90</span><span class="op">)</span>, width<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span><span class="st">"Sex"</span>,values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Female"</span><span class="op">=</span><span class="st">"#bccdff"</span>, <span class="st">"Male"</span><span class="op">=</span><span class="st">"#81a1ff"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.justification<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>,legend.position<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>,  </span>
<span>              legend.direction<span class="op">=</span><span class="st">"horizontal"</span><span class="op">)</span>  </span>
<span></span>
<span><span class="co"># p2 - oszlopdiagram az átlagokra 95%-os konfidencia intervallummal II.</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span>,<span class="op">]</span>, </span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Exer</span>, y<span class="op">=</span><span class="va">Pulse</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"bar"</span>, fill<span class="op">=</span><span class="st">"#95b0ff"</span>, colour<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"errorbar"</span>, width<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Sex</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p3 - vonaldiagram az átlagokra 95%-os konfidencia intervallummal</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Exer</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">survey</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span>,<span class="op">]</span>, </span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Exer</span>, y<span class="op">=</span><span class="va">Pulse</span>, colour<span class="op">=</span><span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.y<span class="op">=</span><span class="va">mean</span>, geom<span class="op">=</span><span class="st">"point"</span>, size<span class="op">=</span><span class="fl">3</span>, shape<span class="op">=</span><span class="fl">21</span>, fill<span class="op">=</span><span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"line"</span>, size<span class="op">=</span><span class="fl">1</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>group<span class="op">=</span><span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data<span class="op">=</span><span class="va">mean_cl_normal</span>, geom<span class="op">=</span><span class="st">"errorbar"</span>, size<span class="op">=</span><span class="fl">1</span>, width<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.justification<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>,legend.position<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>  </span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-28-1.png" width="90%" style="display: block; margin: auto;"></div>
<blockquote>
<ol start="5" style="list-style-type: decimal">
<li>feladat. Kétdimenziós pontdiagram.<br>
Rajzoljunk kétdimenziós pontdiagramot a MASS csomag survey adattáblája alapján a Height és NW.Hnd változók kapcsolatára. Vegyük figyelembe a Sex változót is!</li>
</ol>
</blockquote>
<div class="sourceCode" id="cb458"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - kétdimenziós pontdiagram</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span>, y<span class="op">=</span><span class="va">NW.Hnd</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - kétdimenziós pontdiagram regressziós egyenessel</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span>, y<span class="op">=</span><span class="va">NW.Hnd</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se<span class="op">=</span><span class="cn">F</span>, colour<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p3 - kétdimenziós pontdiagram csoportonkénti regressziós egyenessel</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Height</span>, y<span class="op">=</span><span class="va">NW.Hnd</span>, colour<span class="op">=</span><span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se<span class="op">=</span><span class="cn">F</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.justification<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>,legend.position<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>  </span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-29-1.png" width="90%" style="display: block; margin: auto;"></div>
<blockquote>
<ol start="6" style="list-style-type: decimal">
<li>feladat. Egydimenziós pontdiagram.<br>
Rajzoljunk egydimenziós pontdiagramot a MASS csomag survey adattáblája alapján a Height változóra. Vegyük figyelembe a Sex változót is!</li>
</ol>
</blockquote>
<div class="sourceCode" id="cb459"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">survey</span>, package <span class="op">=</span> <span class="st">"MASS"</span><span class="op">)</span> <span class="co"># a survey beolvasása</span></span>
<span></span>
<span><span class="co"># p1 - egydimenziós pontdiagram</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Exer</span>, y <span class="op">=</span> <span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p2 - egydimenziós pontdiagram véletlen x elmozdulással</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Exer</span>, y <span class="op">=</span> <span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"jitter"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># p3 - egydimenziós pontdiagram véletlen x elmozdulással és csoportok jelölése</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">survey</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Exer</span>, y <span class="op">=</span> <span class="va">Height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>colour<span class="op">=</span><span class="va">Sex</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"jitter"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"top"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a fenti ábrák megjelenítése</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="09-Grafika_files/figure-html/unnamed-chunk-30-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="feladatok" class="section level2" number="9.2">
<h2>
<span class="header-section-number">9.2</span> Feladatok<a class="anchor" aria-label="anchor" href="#feladatok"><i class="fas fa-link"></i></a>
</h2>

<div class="rmdexercise">
<ol style="list-style-type: decimal"><li>Készítsük el a következő 4 ábrát a hagyományos grafikában a <strong>MASS</strong> csomag <code>survey</code> adatbázisa alapján: <img src="b001_abra.png" alt="Hagyományos grafika">
</li></ol>
</div>


</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="mutatok-tablazatok.html"><span class="header-section-number">8</span> Mutatók és táblázatok</a></div>
<div class="next"><a href="irodalomjegyzek.html">Irodalomjegyzék</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#grafika-az-r-ben"><span class="header-section-number">9</span> Grafika az R-ben</a></li>
<li>
<a class="nav-link" href="#a-modern-grafika-ggplot2"><span class="header-section-number">9.1</span> A modern grafika (ggplot2)</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#dobozdiagram"><span class="header-section-number">9.1.1</span> Dobozdiagram</a></li>
<li><a class="nav-link" href="#hisztogram-rajzol%C3%A1sa"><span class="header-section-number">9.1.2</span> Hisztogram rajzolása</a></li>
<li><a class="nav-link" href="#gyakoris%C3%A1gi-poligon-sim%C3%ADtott-hisztogram-%C3%A9s-%C3%B6sszevet%C3%A9s-a-norm%C3%A1lis-eloszl%C3%A1s-s%C5%B1r%C5%B1s%C3%A9gf%C3%BCggv%C3%A9ny%C3%A9vel"><span class="header-section-number">9.1.3</span> Gyakorisági poligon, simított hisztogram és összevetés a normális eloszlás sűrűségfüggvényével</a></li>
<li><a class="nav-link" href="#hisztogram-csoportokra"><span class="header-section-number">9.1.4</span> Hisztogram csoportokra</a></li>
<li><a class="nav-link" href="#gyakoris%C3%A1gi-poligon-%C3%A9s-sim%C3%ADtott-hisztogram-csoportokra-de-egy-%C3%A1br%C3%A1n"><span class="header-section-number">9.1.5</span> Gyakorisági poligon és simított hisztogram csoportokra, de egy ábrán</a></li>
<li><a class="nav-link" href="#%C3%A1tlagok-egy-faktor-eset%C3%A9n"><span class="header-section-number">9.1.6</span> Átlagok egy faktor esetén</a></li>
<li><a class="nav-link" href="#%C3%A1tlagok-k%C3%A9t-faktor-eset%C3%A9n"><span class="header-section-number">9.1.7</span> Átlagok két faktor esetén</a></li>
</ul>
</li>
<li><a class="nav-link" href="#feladatok"><span class="header-section-number">9.2</span> Feladatok</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/abarik/aeer/blob/master/09-Grafika.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/abarik/aeer/edit/master/09-Grafika.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Adatkezelés és egyváltozós elemzések R-ben</strong>" was written by Abari Kálmán. It was last built on 2022-09-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
